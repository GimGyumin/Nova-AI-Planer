(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const Pv="modulepreload",Rv=function(t){return"/"+t},pf={},xv=function(e,n,i){if(!n||n.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=Rv(o),o in pf)return;pf[o]=!0;const s=o.endsWith(".css"),u=s?'[rel="stylesheet"]':"";if(!!i)for(let h=r.length-1;h>=0;h--){const m=r[h];if(m.href===o&&(!s||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${u}`))return;const f=document.createElement("link");if(f.rel=s?"stylesheet":Pv,s||(f.as="script",f.crossOrigin=""),f.href=o,document.head.appendChild(f),s)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};function Nv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Am={exports:{}},Pl={},km={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xo=Symbol.for("react.element"),Mv=Symbol.for("react.portal"),Dv=Symbol.for("react.fragment"),Lv=Symbol.for("react.strict_mode"),Uv=Symbol.for("react.profiler"),Fv=Symbol.for("react.provider"),bv=Symbol.for("react.context"),Vv=Symbol.for("react.forward_ref"),Ov=Symbol.for("react.suspense"),Bv=Symbol.for("react.memo"),Gv=Symbol.for("react.lazy"),mf=Symbol.iterator;function Hv(t){return t===null||typeof t!="object"?null:(t=mf&&t[mf]||t["@@iterator"],typeof t=="function"?t:null)}var Pm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rm=Object.assign,xm={};function cr(t,e,n){this.props=t,this.context=e,this.refs=xm,this.updater=n||Pm}cr.prototype.isReactComponent={};cr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Nm(){}Nm.prototype=cr.prototype;function lc(t,e,n){this.props=t,this.context=e,this.refs=xm,this.updater=n||Pm}var ac=lc.prototype=new Nm;ac.constructor=lc;Rm(ac,cr.prototype);ac.isPureReactComponent=!0;var gf=Array.isArray,Mm=Object.prototype.hasOwnProperty,uc={current:null},Dm={key:!0,ref:!0,__self:!0,__source:!0};function Lm(t,e,n){var i,r={},o=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Mm.call(e,i)&&!Dm.hasOwnProperty(i)&&(r[i]=e[i]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var d=Array(u),f=0;f<u;f++)d[f]=arguments[f+2];r.children=d}if(t&&t.defaultProps)for(i in u=t.defaultProps,u)r[i]===void 0&&(r[i]=u[i]);return{$$typeof:xo,type:t,key:o,ref:s,props:r,_owner:uc.current}}function qv(t,e){return{$$typeof:xo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cc(t){return typeof t=="object"&&t!==null&&t.$$typeof===xo}function $v(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var yf=/\/+/g;function ga(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$v(""+t.key):e.toString(36)}function Ps(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case xo:case Mv:s=!0}}if(s)return s=t,r=r(s),t=i===""?"."+ga(s,0):i,gf(r)?(n="",t!=null&&(n=t.replace(yf,"$&/")+"/"),Ps(r,e,n,"",function(f){return f})):r!=null&&(cc(r)&&(r=qv(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(yf,"$&/")+"/")+t)),e.push(r)),1;if(s=0,i=i===""?".":i+":",gf(t))for(var u=0;u<t.length;u++){o=t[u];var d=i+ga(o,u);s+=Ps(o,e,n,d,r)}else if(d=Hv(t),typeof d=="function")for(t=d.call(t),u=0;!(o=t.next()).done;)o=o.value,d=i+ga(o,u++),s+=Ps(o,e,n,d,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function us(t,e,n){if(t==null)return t;var i=[],r=0;return Ps(t,i,"","",function(o){return e.call(n,o,r++)}),i}function zv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tt={current:null},Rs={transition:null},Wv={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:Rs,ReactCurrentOwner:uc};function Um(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:us,forEach:function(t,e,n){us(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return us(t,function(){e++}),e},toArray:function(t){return us(t,function(e){return e})||[]},only:function(t){if(!cc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=cr;ie.Fragment=Dv;ie.Profiler=Uv;ie.PureComponent=lc;ie.StrictMode=Lv;ie.Suspense=Ov;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wv;ie.act=Um;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Rm({},t.props),r=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=uc.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(d in e)Mm.call(e,d)&&!Dm.hasOwnProperty(d)&&(i[d]=e[d]===void 0&&u!==void 0?u[d]:e[d])}var d=arguments.length-2;if(d===1)i.children=n;else if(1<d){u=Array(d);for(var f=0;f<d;f++)u[f]=arguments[f+2];i.children=u}return{$$typeof:xo,type:t.type,key:r,ref:o,props:i,_owner:s}};ie.createContext=function(t){return t={$$typeof:bv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Fv,_context:t},t.Consumer=t};ie.createElement=Lm;ie.createFactory=function(t){var e=Lm.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:Vv,render:t}};ie.isValidElement=cc;ie.lazy=function(t){return{$$typeof:Gv,_payload:{_status:-1,_result:t},_init:zv}};ie.memo=function(t,e){return{$$typeof:Bv,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=Rs.transition;Rs.transition={};try{t()}finally{Rs.transition=e}};ie.unstable_act=Um;ie.useCallback=function(t,e){return tt.current.useCallback(t,e)};ie.useContext=function(t){return tt.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return tt.current.useDeferredValue(t)};ie.useEffect=function(t,e){return tt.current.useEffect(t,e)};ie.useId=function(){return tt.current.useId()};ie.useImperativeHandle=function(t,e,n){return tt.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return tt.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return tt.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return tt.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return tt.current.useReducer(t,e,n)};ie.useRef=function(t){return tt.current.useRef(t)};ie.useState=function(t){return tt.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return tt.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return tt.current.useTransition()};ie.version="18.3.1";km.exports=ie;var B=km.exports;const Rl=Nv(B);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv=B,Kv=Symbol.for("react.element"),Yv=Symbol.for("react.fragment"),Xv=Object.prototype.hasOwnProperty,Qv=Jv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jv={key:!0,ref:!0,__self:!0,__source:!0};function Fm(t,e,n){var i,r={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(i in e)Xv.call(e,i)&&!jv.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:Kv,type:t,key:o,ref:s,props:r,_owner:Qv.current}}Pl.Fragment=Yv;Pl.jsx=Fm;Pl.jsxs=Fm;Am.exports=Pl;var _=Am.exports,Zi={},bm={exports:{}},pt={},Vm={exports:{}},Om={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,Y){var Q=G.length;G.push(Y);e:for(;0<Q;){var W=Q-1>>>1,ee=G[W];if(0<r(ee,Y))G[W]=Y,G[Q]=ee,Q=W;else break e}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var Y=G[0],Q=G.pop();if(Q!==Y){G[0]=Q;e:for(var W=0,ee=G.length,ne=ee>>>1;W<ne;){var me=2*(W+1)-1,wt=G[me],It=me+1,Le=G[It];if(0>r(wt,Q))It<ee&&0>r(Le,wt)?(G[W]=Le,G[It]=Q,W=It):(G[W]=wt,G[me]=Q,W=me);else if(It<ee&&0>r(Le,Q))G[W]=Le,G[It]=Q,W=It;else break e}}return Y}function r(G,Y){var Q=G.sortIndex-Y.sortIndex;return Q!==0?Q:G.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var d=[],f=[],h=1,m=null,g=3,I=!1,k=!1,N=!1,U=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(G){for(var Y=n(f);Y!==null;){if(Y.callback===null)i(f);else if(Y.startTime<=G)i(f),Y.sortIndex=Y.expirationTime,e(d,Y);else break;Y=n(f)}}function D(G){if(N=!1,A(G),!k)if(n(d)!==null)k=!0,ue(V);else{var Y=n(f);Y!==null&&we(D,Y.startTime-G)}}function V(G,Y){k=!1,N&&(N=!1,P(T),T=-1),I=!0;var Q=g;try{for(A(Y),m=n(d);m!==null&&(!(m.expirationTime>Y)||G&&!x());){var W=m.callback;if(typeof W=="function"){m.callback=null,g=m.priorityLevel;var ee=W(m.expirationTime<=Y);Y=t.unstable_now(),typeof ee=="function"?m.callback=ee:m===n(d)&&i(d),A(Y)}else i(d);m=n(d)}if(m!==null)var ne=!0;else{var me=n(f);me!==null&&we(D,me.startTime-Y),ne=!1}return ne}finally{m=null,g=Q,I=!1}}var b=!1,w=null,T=-1,E=5,C=-1;function x(){return!(t.unstable_now()-C<E)}function M(){if(w!==null){var G=t.unstable_now();C=G;var Y=!0;try{Y=w(!0,G)}finally{Y?R():(b=!1,w=null)}}else b=!1}var R;if(typeof S=="function")R=function(){S(M)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,se=X.port2;X.port1.onmessage=M,R=function(){se.postMessage(null)}}else R=function(){U(M,0)};function ue(G){w=G,b||(b=!0,R())}function we(G,Y){T=U(function(){G(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){k||I||(k=!0,ue(V))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(G){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var Q=g;g=Y;try{return G()}finally{g=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Q=g;g=G;try{return Y()}finally{g=Q}},t.unstable_scheduleCallback=function(G,Y,Q){var W=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?W+Q:W):Q=W,G){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Q+ee,G={id:h++,callback:Y,priorityLevel:G,startTime:Q,expirationTime:ee,sortIndex:-1},Q>W?(G.sortIndex=Q,e(f,G),n(d)===null&&G===n(f)&&(N?(P(T),T=-1):N=!0,we(D,Q-W))):(G.sortIndex=ee,e(d,G),k||I||(k=!0,ue(V))),G},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(G){var Y=g;return function(){var Q=g;g=Y;try{return G.apply(this,arguments)}finally{g=Q}}}})(Om);Vm.exports=Om;var Zv=Vm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0=B,ht=Zv;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bm=new Set,co={};function mi(t,e){er(t,e),er(t+"Capture",e)}function er(t,e){for(co[t]=e,t=0;t<e.length;t++)Bm.add(e[t])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qa=Object.prototype.hasOwnProperty,t0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_f={},vf={};function n0(t){return Qa.call(vf,t)?!0:Qa.call(_f,t)?!1:t0.test(t)?vf[t]=!0:(_f[t]=!0,!1)}function i0(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function r0(t,e,n,i){if(e===null||typeof e>"u"||i0(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nt(t,e,n,i,r,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Oe[t]=new nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Oe[e]=new nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Oe[t]=new nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Oe[t]=new nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Oe[t]=new nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Oe[t]=new nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Oe[t]=new nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Oe[t]=new nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Oe[t]=new nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var dc=/[\-:]([a-z])/g;function fc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dc,fc);Oe[e]=new nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dc,fc);Oe[e]=new nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dc,fc);Oe[e]=new nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Oe[t]=new nt(t,1,!1,t.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Oe[t]=new nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function hc(t,e,n,i){var r=Oe.hasOwnProperty(e)?Oe[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(r0(e,n,r,i)&&(n=null),i||r===null?n0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var fn=e0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cs=Symbol.for("react.element"),Ai=Symbol.for("react.portal"),ki=Symbol.for("react.fragment"),pc=Symbol.for("react.strict_mode"),ja=Symbol.for("react.profiler"),Gm=Symbol.for("react.provider"),Hm=Symbol.for("react.context"),mc=Symbol.for("react.forward_ref"),Za=Symbol.for("react.suspense"),eu=Symbol.for("react.suspense_list"),gc=Symbol.for("react.memo"),Tn=Symbol.for("react.lazy"),qm=Symbol.for("react.offscreen"),Tf=Symbol.iterator;function Vr(t){return t===null||typeof t!="object"?null:(t=Tf&&t[Tf]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,ya;function Jr(t){if(ya===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ya=e&&e[1]||""}return`
`+ya+t}var _a=!1;function va(t,e){if(!t||_a)return"";_a=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){i=f}t.call(e.prototype)}else{try{throw Error()}catch(f){i=f}t()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),o=i.stack.split(`
`),s=r.length-1,u=o.length-1;1<=s&&0<=u&&r[s]!==o[u];)u--;for(;1<=s&&0<=u;s--,u--)if(r[s]!==o[u]){if(s!==1||u!==1)do if(s--,u--,0>u||r[s]!==o[u]){var d=`
`+r[s].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=s&&0<=u);break}}}finally{_a=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jr(t):""}function o0(t){switch(t.tag){case 5:return Jr(t.type);case 16:return Jr("Lazy");case 13:return Jr("Suspense");case 19:return Jr("SuspenseList");case 0:case 2:case 15:return t=va(t.type,!1),t;case 11:return t=va(t.type.render,!1),t;case 1:return t=va(t.type,!0),t;default:return""}}function tu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ki:return"Fragment";case Ai:return"Portal";case ja:return"Profiler";case pc:return"StrictMode";case Za:return"Suspense";case eu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Hm:return(t.displayName||"Context")+".Consumer";case Gm:return(t._context.displayName||"Context")+".Provider";case mc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gc:return e=t.displayName||null,e!==null?e:tu(t.type)||"Memo";case Tn:e=t._payload,t=t._init;try{return tu(t(e))}catch{}}return null}function s0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tu(e);case 8:return e===pc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $m(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function l0(t){var e=$m(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ds(t){t._valueTracker||(t._valueTracker=l0(t))}function zm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=$m(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Ws(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nu(t,e){var n=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ef(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Gn(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Wm(t,e){e=e.checked,e!=null&&hc(t,"checked",e,!1)}function iu(t,e){Wm(t,e);var n=Gn(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ru(t,e.type,n):e.hasOwnProperty("defaultValue")&&ru(t,e.type,Gn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ru(t,e,n){(e!=="number"||Ws(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Kr=Array.isArray;function Bi(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Gn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function ou(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Kr(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gn(n)}}function Jm(t,e){var n=Gn(e.value),i=Gn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function wf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Km(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function su(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Km(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fs,Ym=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fs=fs||document.createElement("div"),fs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a0=["Webkit","ms","Moz","O"];Object.keys(Qr).forEach(function(t){a0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qr[e]=Qr[t]})});function Xm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Qr.hasOwnProperty(t)&&Qr[t]?(""+e).trim():e+"px"}function Qm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=Xm(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var u0=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lu(t,e){if(e){if(u0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function au(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=null;function yc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cu=null,Gi=null,Hi=null;function If(t){if(t=Do(t)){if(typeof cu!="function")throw Error(O(280));var e=t.stateNode;e&&(e=Ll(e),cu(t.stateNode,t.type,e))}}function jm(t){Gi?Hi?Hi.push(t):Hi=[t]:Gi=t}function Zm(){if(Gi){var t=Gi,e=Hi;if(Hi=Gi=null,If(t),e)for(t=0;t<e.length;t++)If(e[t])}}function eg(t,e){return t(e)}function tg(){}var Ta=!1;function ng(t,e,n){if(Ta)return t(e,n);Ta=!0;try{return eg(t,e,n)}finally{Ta=!1,(Gi!==null||Hi!==null)&&(tg(),Zm())}}function ho(t,e){var n=t.stateNode;if(n===null)return null;var i=Ll(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var du=!1;if(on)try{var Or={};Object.defineProperty(Or,"passive",{get:function(){du=!0}}),window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{du=!1}function c0(t,e,n,i,r,o,s,u,d){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(h){this.onError(h)}}var jr=!1,Js=null,Ks=!1,fu=null,d0={onError:function(t){jr=!0,Js=t}};function f0(t,e,n,i,r,o,s,u,d){jr=!1,Js=null,c0.apply(d0,arguments)}function h0(t,e,n,i,r,o,s,u,d){if(f0.apply(this,arguments),jr){if(jr){var f=Js;jr=!1,Js=null}else throw Error(O(198));Ks||(Ks=!0,fu=f)}}function gi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ig(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Af(t){if(gi(t)!==t)throw Error(O(188))}function p0(t){var e=t.alternate;if(!e){if(e=gi(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Af(r),t;if(o===i)return Af(r),e;o=o.sibling}throw Error(O(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,u=r.child;u;){if(u===n){s=!0,n=r,i=o;break}if(u===i){s=!0,i=r,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,i=r;break}if(u===i){s=!0,i=o,n=r;break}u=u.sibling}if(!s)throw Error(O(189))}}if(n.alternate!==i)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function rg(t){return t=p0(t),t!==null?og(t):null}function og(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=og(t);if(e!==null)return e;t=t.sibling}return null}var sg=ht.unstable_scheduleCallback,kf=ht.unstable_cancelCallback,m0=ht.unstable_shouldYield,g0=ht.unstable_requestPaint,ke=ht.unstable_now,y0=ht.unstable_getCurrentPriorityLevel,_c=ht.unstable_ImmediatePriority,lg=ht.unstable_UserBlockingPriority,Ys=ht.unstable_NormalPriority,_0=ht.unstable_LowPriority,ag=ht.unstable_IdlePriority,xl=null,Ht=null;function v0(t){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(xl,t,void 0,(t.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:S0,T0=Math.log,E0=Math.LN2;function S0(t){return t>>>=0,t===0?32:31-(T0(t)/E0|0)|0}var hs=64,ps=4194304;function Yr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xs(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var u=s&~r;u!==0?i=Yr(u):(o&=s,o!==0&&(i=Yr(o)))}else s=n&~r,s!==0?i=Yr(s):o!==0&&(i=Yr(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Dt(e),r=1<<n,i|=t[n],e&=~r;return i}function C0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w0(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Dt(o),u=1<<s,d=r[s];d===-1?(!(u&n)||u&i)&&(r[s]=C0(u,e)):d<=e&&(t.expiredLanes|=u),o&=~u}}function hu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ug(){var t=hs;return hs<<=1,!(hs&4194240)&&(hs=64),t}function Ea(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function No(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dt(e),t[e]=n}function I0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Dt(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function vc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Dt(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var de=0;function cg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dg,Tc,fg,hg,pg,pu=!1,ms=[],xn=null,Nn=null,Mn=null,po=new Map,mo=new Map,Sn=[],A0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pf(t,e){switch(t){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":po.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(e.pointerId)}}function Br(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=Do(e),e!==null&&Tc(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function k0(t,e,n,i,r){switch(e){case"focusin":return xn=Br(xn,t,e,n,i,r),!0;case"dragenter":return Nn=Br(Nn,t,e,n,i,r),!0;case"mouseover":return Mn=Br(Mn,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return po.set(o,Br(po.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,mo.set(o,Br(mo.get(o)||null,t,e,n,i,r)),!0}return!1}function mg(t){var e=ti(t.target);if(e!==null){var n=gi(e);if(n!==null){if(e=n.tag,e===13){if(e=ig(n),e!==null){t.blockedOn=e,pg(t.priority,function(){fg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);uu=i,n.target.dispatchEvent(i),uu=null}else return e=Do(n),e!==null&&Tc(e),t.blockedOn=n,!1;e.shift()}return!0}function Rf(t,e,n){xs(t)&&n.delete(e)}function P0(){pu=!1,xn!==null&&xs(xn)&&(xn=null),Nn!==null&&xs(Nn)&&(Nn=null),Mn!==null&&xs(Mn)&&(Mn=null),po.forEach(Rf),mo.forEach(Rf)}function Gr(t,e){t.blockedOn===e&&(t.blockedOn=null,pu||(pu=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,P0)))}function go(t){function e(r){return Gr(r,t)}if(0<ms.length){Gr(ms[0],t);for(var n=1;n<ms.length;n++){var i=ms[n];i.blockedOn===t&&(i.blockedOn=null)}}for(xn!==null&&Gr(xn,t),Nn!==null&&Gr(Nn,t),Mn!==null&&Gr(Mn,t),po.forEach(e),mo.forEach(e),n=0;n<Sn.length;n++)i=Sn[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Sn.length&&(n=Sn[0],n.blockedOn===null);)mg(n),n.blockedOn===null&&Sn.shift()}var qi=fn.ReactCurrentBatchConfig,Qs=!0;function R0(t,e,n,i){var r=de,o=qi.transition;qi.transition=null;try{de=1,Ec(t,e,n,i)}finally{de=r,qi.transition=o}}function x0(t,e,n,i){var r=de,o=qi.transition;qi.transition=null;try{de=4,Ec(t,e,n,i)}finally{de=r,qi.transition=o}}function Ec(t,e,n,i){if(Qs){var r=mu(t,e,n,i);if(r===null)Na(t,e,i,js,n),Pf(t,i);else if(k0(r,t,e,n,i))i.stopPropagation();else if(Pf(t,i),e&4&&-1<A0.indexOf(t)){for(;r!==null;){var o=Do(r);if(o!==null&&dg(o),o=mu(t,e,n,i),o===null&&Na(t,e,i,js,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else Na(t,e,i,null,n)}}var js=null;function mu(t,e,n,i){if(js=null,t=yc(i),t=ti(t),t!==null)if(e=gi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ig(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return js=t,null}function gg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(y0()){case _c:return 1;case lg:return 4;case Ys:case _0:return 16;case ag:return 536870912;default:return 16}default:return 16}}var kn=null,Sc=null,Ns=null;function yg(){if(Ns)return Ns;var t,e=Sc,n=e.length,i,r="value"in kn?kn.value:kn.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(i=1;i<=s&&e[n-i]===r[o-i];i++);return Ns=r.slice(t,1<i?1-i:void 0)}function Ms(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gs(){return!0}function xf(){return!1}function mt(t){function e(n,i,r,o,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?gs:xf,this.isPropagationStopped=xf,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),e}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cc=mt(dr),Mo=Ce({},dr,{view:0,detail:0}),N0=mt(Mo),Sa,Ca,Hr,Nl=Ce({},Mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hr&&(Hr&&t.type==="mousemove"?(Sa=t.screenX-Hr.screenX,Ca=t.screenY-Hr.screenY):Ca=Sa=0,Hr=t),Sa)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),Nf=mt(Nl),M0=Ce({},Nl,{dataTransfer:0}),D0=mt(M0),L0=Ce({},Mo,{relatedTarget:0}),wa=mt(L0),U0=Ce({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),F0=mt(U0),b0=Ce({},dr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),V0=mt(b0),O0=Ce({},dr,{data:0}),Mf=mt(O0),B0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=H0[t])?!!e[t]:!1}function wc(){return q0}var $0=Ce({},Mo,{key:function(t){if(t.key){var e=B0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?G0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wc,charCode:function(t){return t.type==="keypress"?Ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),z0=mt($0),W0=Ce({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Df=mt(W0),J0=Ce({},Mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wc}),K0=mt(J0),Y0=Ce({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),X0=mt(Y0),Q0=Ce({},Nl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),j0=mt(Q0),Z0=[9,13,27,32],Ic=on&&"CompositionEvent"in window,Zr=null;on&&"documentMode"in document&&(Zr=document.documentMode);var eT=on&&"TextEvent"in window&&!Zr,_g=on&&(!Ic||Zr&&8<Zr&&11>=Zr),Lf=String.fromCharCode(32),Uf=!1;function vg(t,e){switch(t){case"keyup":return Z0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pi=!1;function tT(t,e){switch(t){case"compositionend":return Tg(e);case"keypress":return e.which!==32?null:(Uf=!0,Lf);case"textInput":return t=e.data,t===Lf&&Uf?null:t;default:return null}}function nT(t,e){if(Pi)return t==="compositionend"||!Ic&&vg(t,e)?(t=yg(),Ns=Sc=kn=null,Pi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _g&&e.locale!=="ko"?null:e.data;default:return null}}var iT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ff(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iT[t.type]:e==="textarea"}function Eg(t,e,n,i){jm(i),e=Zs(e,"onChange"),0<e.length&&(n=new Cc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var eo=null,yo=null;function rT(t){Mg(t,0)}function Ml(t){var e=Ni(t);if(zm(e))return t}function oT(t,e){if(t==="change")return e}var Sg=!1;if(on){var Ia;if(on){var Aa="oninput"in document;if(!Aa){var bf=document.createElement("div");bf.setAttribute("oninput","return;"),Aa=typeof bf.oninput=="function"}Ia=Aa}else Ia=!1;Sg=Ia&&(!document.documentMode||9<document.documentMode)}function Vf(){eo&&(eo.detachEvent("onpropertychange",Cg),yo=eo=null)}function Cg(t){if(t.propertyName==="value"&&Ml(yo)){var e=[];Eg(e,yo,t,yc(t)),ng(rT,e)}}function sT(t,e,n){t==="focusin"?(Vf(),eo=e,yo=n,eo.attachEvent("onpropertychange",Cg)):t==="focusout"&&Vf()}function lT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ml(yo)}function aT(t,e){if(t==="click")return Ml(e)}function uT(t,e){if(t==="input"||t==="change")return Ml(e)}function cT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ut=typeof Object.is=="function"?Object.is:cT;function _o(t,e){if(Ut(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Qa.call(e,r)||!Ut(t[r],e[r]))return!1}return!0}function Of(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bf(t,e){var n=Of(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Of(n)}}function wg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ig(){for(var t=window,e=Ws();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ws(t.document)}return e}function Ac(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dT(t){var e=Ig(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wg(n.ownerDocument.documentElement,n)){if(i!==null&&Ac(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=Bf(n,o);var s=Bf(n,i);r&&s&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fT=on&&"documentMode"in document&&11>=document.documentMode,Ri=null,gu=null,to=null,yu=!1;function Gf(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yu||Ri==null||Ri!==Ws(i)||(i=Ri,"selectionStart"in i&&Ac(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),to&&_o(to,i)||(to=i,i=Zs(gu,"onSelect"),0<i.length&&(e=new Cc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ri)))}function ys(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xi={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionend:ys("Transition","TransitionEnd")},ka={},Ag={};on&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);function Dl(t){if(ka[t])return ka[t];if(!xi[t])return t;var e=xi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ag)return ka[t]=e[n];return t}var kg=Dl("animationend"),Pg=Dl("animationiteration"),Rg=Dl("animationstart"),xg=Dl("transitionend"),Ng=new Map,Hf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qn(t,e){Ng.set(t,e),mi(e,[t])}for(var Pa=0;Pa<Hf.length;Pa++){var Ra=Hf[Pa],hT=Ra.toLowerCase(),pT=Ra[0].toUpperCase()+Ra.slice(1);qn(hT,"on"+pT)}qn(kg,"onAnimationEnd");qn(Pg,"onAnimationIteration");qn(Rg,"onAnimationStart");qn("dblclick","onDoubleClick");qn("focusin","onFocus");qn("focusout","onBlur");qn(xg,"onTransitionEnd");er("onMouseEnter",["mouseout","mouseover"]);er("onMouseLeave",["mouseout","mouseover"]);er("onPointerEnter",["pointerout","pointerover"]);er("onPointerLeave",["pointerout","pointerover"]);mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mi("onBeforeInput",["compositionend","keypress","textInput","paste"]);mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xr));function qf(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,h0(i,e,void 0,t),t.currentTarget=null}function Mg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var u=i[s],d=u.instance,f=u.currentTarget;if(u=u.listener,d!==o&&r.isPropagationStopped())break e;qf(r,u,f),o=d}else for(s=0;s<i.length;s++){if(u=i[s],d=u.instance,f=u.currentTarget,u=u.listener,d!==o&&r.isPropagationStopped())break e;qf(r,u,f),o=d}}}if(Ks)throw t=fu,Ks=!1,fu=null,t}function ye(t,e){var n=e[Su];n===void 0&&(n=e[Su]=new Set);var i=t+"__bubble";n.has(i)||(Dg(e,t,2,!1),n.add(i))}function xa(t,e,n){var i=0;e&&(i|=4),Dg(n,t,i,e)}var _s="_reactListening"+Math.random().toString(36).slice(2);function vo(t){if(!t[_s]){t[_s]=!0,Bm.forEach(function(n){n!=="selectionchange"&&(mT.has(n)||xa(n,!1,t),xa(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_s]||(e[_s]=!0,xa("selectionchange",!1,e))}}function Dg(t,e,n,i){switch(gg(e)){case 1:var r=R0;break;case 4:r=x0;break;default:r=Ec}n=r.bind(null,e,n,t),r=void 0,!du||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Na(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var u=i.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(s===4)for(s=i.return;s!==null;){var d=s.tag;if((d===3||d===4)&&(d=s.stateNode.containerInfo,d===r||d.nodeType===8&&d.parentNode===r))return;s=s.return}for(;u!==null;){if(s=ti(u),s===null)return;if(d=s.tag,d===5||d===6){i=o=s;continue e}u=u.parentNode}}i=i.return}ng(function(){var f=o,h=yc(n),m=[];e:{var g=Ng.get(t);if(g!==void 0){var I=Cc,k=t;switch(t){case"keypress":if(Ms(n)===0)break e;case"keydown":case"keyup":I=z0;break;case"focusin":k="focus",I=wa;break;case"focusout":k="blur",I=wa;break;case"beforeblur":case"afterblur":I=wa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=D0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=K0;break;case kg:case Pg:case Rg:I=F0;break;case xg:I=X0;break;case"scroll":I=N0;break;case"wheel":I=j0;break;case"copy":case"cut":case"paste":I=V0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Df}var N=(e&4)!==0,U=!N&&t==="scroll",P=N?g!==null?g+"Capture":null:g;N=[];for(var S=f,A;S!==null;){A=S;var D=A.stateNode;if(A.tag===5&&D!==null&&(A=D,P!==null&&(D=ho(S,P),D!=null&&N.push(To(S,D,A)))),U)break;S=S.return}0<N.length&&(g=new I(g,k,null,n,h),m.push({event:g,listeners:N}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",g&&n!==uu&&(k=n.relatedTarget||n.fromElement)&&(ti(k)||k[sn]))break e;if((I||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,I?(k=n.relatedTarget||n.toElement,I=f,k=k?ti(k):null,k!==null&&(U=gi(k),k!==U||k.tag!==5&&k.tag!==6)&&(k=null)):(I=null,k=f),I!==k)){if(N=Nf,D="onMouseLeave",P="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(N=Df,D="onPointerLeave",P="onPointerEnter",S="pointer"),U=I==null?g:Ni(I),A=k==null?g:Ni(k),g=new N(D,S+"leave",I,n,h),g.target=U,g.relatedTarget=A,D=null,ti(h)===f&&(N=new N(P,S+"enter",k,n,h),N.target=A,N.relatedTarget=U,D=N),U=D,I&&k)t:{for(N=I,P=k,S=0,A=N;A;A=Ii(A))S++;for(A=0,D=P;D;D=Ii(D))A++;for(;0<S-A;)N=Ii(N),S--;for(;0<A-S;)P=Ii(P),A--;for(;S--;){if(N===P||P!==null&&N===P.alternate)break t;N=Ii(N),P=Ii(P)}N=null}else N=null;I!==null&&$f(m,g,I,N,!1),k!==null&&U!==null&&$f(m,U,k,N,!0)}}e:{if(g=f?Ni(f):window,I=g.nodeName&&g.nodeName.toLowerCase(),I==="select"||I==="input"&&g.type==="file")var V=oT;else if(Ff(g))if(Sg)V=uT;else{V=lT;var b=sT}else(I=g.nodeName)&&I.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(V=aT);if(V&&(V=V(t,f))){Eg(m,V,n,h);break e}b&&b(t,g,f),t==="focusout"&&(b=g._wrapperState)&&b.controlled&&g.type==="number"&&ru(g,"number",g.value)}switch(b=f?Ni(f):window,t){case"focusin":(Ff(b)||b.contentEditable==="true")&&(Ri=b,gu=f,to=null);break;case"focusout":to=gu=Ri=null;break;case"mousedown":yu=!0;break;case"contextmenu":case"mouseup":case"dragend":yu=!1,Gf(m,n,h);break;case"selectionchange":if(fT)break;case"keydown":case"keyup":Gf(m,n,h)}var w;if(Ic)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Pi?vg(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(_g&&n.locale!=="ko"&&(Pi||T!=="onCompositionStart"?T==="onCompositionEnd"&&Pi&&(w=yg()):(kn=h,Sc="value"in kn?kn.value:kn.textContent,Pi=!0)),b=Zs(f,T),0<b.length&&(T=new Mf(T,t,null,n,h),m.push({event:T,listeners:b}),w?T.data=w:(w=Tg(n),w!==null&&(T.data=w)))),(w=eT?tT(t,n):nT(t,n))&&(f=Zs(f,"onBeforeInput"),0<f.length&&(h=new Mf("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:f}),h.data=w))}Mg(m,e)})}function To(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zs(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=ho(t,n),o!=null&&i.unshift(To(t,o,r)),o=ho(t,e),o!=null&&i.push(To(t,o,r))),t=t.return}return i}function Ii(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $f(t,e,n,i,r){for(var o=e._reactName,s=[];n!==null&&n!==i;){var u=n,d=u.alternate,f=u.stateNode;if(d!==null&&d===i)break;u.tag===5&&f!==null&&(u=f,r?(d=ho(n,o),d!=null&&s.unshift(To(n,d,u))):r||(d=ho(n,o),d!=null&&s.push(To(n,d,u)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var gT=/\r\n?/g,yT=/\u0000|\uFFFD/g;function zf(t){return(typeof t=="string"?t:""+t).replace(gT,`
`).replace(yT,"")}function vs(t,e,n){if(e=zf(e),zf(t)!==e&&n)throw Error(O(425))}function el(){}var _u=null,vu=null;function Tu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Eu=typeof setTimeout=="function"?setTimeout:void 0,_T=typeof clearTimeout=="function"?clearTimeout:void 0,Wf=typeof Promise=="function"?Promise:void 0,vT=typeof queueMicrotask=="function"?queueMicrotask:typeof Wf<"u"?function(t){return Wf.resolve(null).then(t).catch(TT)}:Eu;function TT(t){setTimeout(function(){throw t})}function Ma(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),go(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);go(e)}function Dn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Jf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fr=Math.random().toString(36).slice(2),Gt="__reactFiber$"+fr,Eo="__reactProps$"+fr,sn="__reactContainer$"+fr,Su="__reactEvents$"+fr,ET="__reactListeners$"+fr,ST="__reactHandles$"+fr;function ti(t){var e=t[Gt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sn]||n[Gt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Jf(t);t!==null;){if(n=t[Gt])return n;t=Jf(t)}return e}t=n,n=t.parentNode}return null}function Do(t){return t=t[Gt]||t[sn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ni(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function Ll(t){return t[Eo]||null}var Cu=[],Mi=-1;function $n(t){return{current:t}}function ve(t){0>Mi||(t.current=Cu[Mi],Cu[Mi]=null,Mi--)}function pe(t,e){Mi++,Cu[Mi]=t.current,t.current=e}var Hn={},Je=$n(Hn),lt=$n(!1),li=Hn;function tr(t,e){var n=t.type.contextTypes;if(!n)return Hn;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function at(t){return t=t.childContextTypes,t!=null}function tl(){ve(lt),ve(Je)}function Kf(t,e,n){if(Je.current!==Hn)throw Error(O(168));pe(Je,e),pe(lt,n)}function Lg(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(O(108,s0(t)||"Unknown",r));return Ce({},n,i)}function nl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hn,li=Je.current,pe(Je,t),pe(lt,lt.current),!0}function Yf(t,e,n){var i=t.stateNode;if(!i)throw Error(O(169));n?(t=Lg(t,e,li),i.__reactInternalMemoizedMergedChildContext=t,ve(lt),ve(Je),pe(Je,t)):ve(lt),pe(lt,n)}var Xt=null,Ul=!1,Da=!1;function Ug(t){Xt===null?Xt=[t]:Xt.push(t)}function CT(t){Ul=!0,Ug(t)}function zn(){if(!Da&&Xt!==null){Da=!0;var t=0,e=de;try{var n=Xt;for(de=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Xt=null,Ul=!1}catch(r){throw Xt!==null&&(Xt=Xt.slice(t+1)),sg(_c,zn),r}finally{de=e,Da=!1}}return null}var Di=[],Li=0,il=null,rl=0,yt=[],_t=0,ai=null,jt=1,Zt="";function jn(t,e){Di[Li++]=rl,Di[Li++]=il,il=t,rl=e}function Fg(t,e,n){yt[_t++]=jt,yt[_t++]=Zt,yt[_t++]=ai,ai=t;var i=jt;t=Zt;var r=32-Dt(i)-1;i&=~(1<<r),n+=1;var o=32-Dt(e)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,jt=1<<32-Dt(e)+r|n<<r|i,Zt=o+t}else jt=1<<o|n<<r|i,Zt=t}function kc(t){t.return!==null&&(jn(t,1),Fg(t,1,0))}function Pc(t){for(;t===il;)il=Di[--Li],Di[Li]=null,rl=Di[--Li],Di[Li]=null;for(;t===ai;)ai=yt[--_t],yt[_t]=null,Zt=yt[--_t],yt[_t]=null,jt=yt[--_t],yt[_t]=null}var ft=null,dt=null,Te=!1,xt=null;function bg(t,e){var n=vt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Xf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ft=t,dt=Dn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ft=t,dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ai!==null?{id:jt,overflow:Zt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ft=t,dt=null,!0):!1;default:return!1}}function wu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Iu(t){if(Te){var e=dt;if(e){var n=e;if(!Xf(t,e)){if(wu(t))throw Error(O(418));e=Dn(n.nextSibling);var i=ft;e&&Xf(t,e)?bg(i,n):(t.flags=t.flags&-4097|2,Te=!1,ft=t)}}else{if(wu(t))throw Error(O(418));t.flags=t.flags&-4097|2,Te=!1,ft=t}}}function Qf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ft=t}function Ts(t){if(t!==ft)return!1;if(!Te)return Qf(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tu(t.type,t.memoizedProps)),e&&(e=dt)){if(wu(t))throw Vg(),Error(O(418));for(;e;)bg(t,e),e=Dn(e.nextSibling)}if(Qf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dt=Dn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dt=null}}else dt=ft?Dn(t.stateNode.nextSibling):null;return!0}function Vg(){for(var t=dt;t;)t=Dn(t.nextSibling)}function nr(){dt=ft=null,Te=!1}function Rc(t){xt===null?xt=[t]:xt.push(t)}var wT=fn.ReactCurrentBatchConfig;function qr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var i=n.stateNode}if(!i)throw Error(O(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var u=r.refs;s===null?delete u[o]:u[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function Es(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jf(t){var e=t._init;return e(t._payload)}function Og(t){function e(P,S){if(t){var A=P.deletions;A===null?(P.deletions=[S],P.flags|=16):A.push(S)}}function n(P,S){if(!t)return null;for(;S!==null;)e(P,S),S=S.sibling;return null}function i(P,S){for(P=new Map;S!==null;)S.key!==null?P.set(S.key,S):P.set(S.index,S),S=S.sibling;return P}function r(P,S){return P=bn(P,S),P.index=0,P.sibling=null,P}function o(P,S,A){return P.index=A,t?(A=P.alternate,A!==null?(A=A.index,A<S?(P.flags|=2,S):A):(P.flags|=2,S)):(P.flags|=1048576,S)}function s(P){return t&&P.alternate===null&&(P.flags|=2),P}function u(P,S,A,D){return S===null||S.tag!==6?(S=Ba(A,P.mode,D),S.return=P,S):(S=r(S,A),S.return=P,S)}function d(P,S,A,D){var V=A.type;return V===ki?h(P,S,A.props.children,D,A.key):S!==null&&(S.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Tn&&jf(V)===S.type)?(D=r(S,A.props),D.ref=qr(P,S,A),D.return=P,D):(D=Os(A.type,A.key,A.props,null,P.mode,D),D.ref=qr(P,S,A),D.return=P,D)}function f(P,S,A,D){return S===null||S.tag!==4||S.stateNode.containerInfo!==A.containerInfo||S.stateNode.implementation!==A.implementation?(S=Ga(A,P.mode,D),S.return=P,S):(S=r(S,A.children||[]),S.return=P,S)}function h(P,S,A,D,V){return S===null||S.tag!==7?(S=oi(A,P.mode,D,V),S.return=P,S):(S=r(S,A),S.return=P,S)}function m(P,S,A){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Ba(""+S,P.mode,A),S.return=P,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case cs:return A=Os(S.type,S.key,S.props,null,P.mode,A),A.ref=qr(P,null,S),A.return=P,A;case Ai:return S=Ga(S,P.mode,A),S.return=P,S;case Tn:var D=S._init;return m(P,D(S._payload),A)}if(Kr(S)||Vr(S))return S=oi(S,P.mode,A,null),S.return=P,S;Es(P,S)}return null}function g(P,S,A,D){var V=S!==null?S.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return V!==null?null:u(P,S,""+A,D);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case cs:return A.key===V?d(P,S,A,D):null;case Ai:return A.key===V?f(P,S,A,D):null;case Tn:return V=A._init,g(P,S,V(A._payload),D)}if(Kr(A)||Vr(A))return V!==null?null:h(P,S,A,D,null);Es(P,A)}return null}function I(P,S,A,D,V){if(typeof D=="string"&&D!==""||typeof D=="number")return P=P.get(A)||null,u(S,P,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case cs:return P=P.get(D.key===null?A:D.key)||null,d(S,P,D,V);case Ai:return P=P.get(D.key===null?A:D.key)||null,f(S,P,D,V);case Tn:var b=D._init;return I(P,S,A,b(D._payload),V)}if(Kr(D)||Vr(D))return P=P.get(A)||null,h(S,P,D,V,null);Es(S,D)}return null}function k(P,S,A,D){for(var V=null,b=null,w=S,T=S=0,E=null;w!==null&&T<A.length;T++){w.index>T?(E=w,w=null):E=w.sibling;var C=g(P,w,A[T],D);if(C===null){w===null&&(w=E);break}t&&w&&C.alternate===null&&e(P,w),S=o(C,S,T),b===null?V=C:b.sibling=C,b=C,w=E}if(T===A.length)return n(P,w),Te&&jn(P,T),V;if(w===null){for(;T<A.length;T++)w=m(P,A[T],D),w!==null&&(S=o(w,S,T),b===null?V=w:b.sibling=w,b=w);return Te&&jn(P,T),V}for(w=i(P,w);T<A.length;T++)E=I(w,P,T,A[T],D),E!==null&&(t&&E.alternate!==null&&w.delete(E.key===null?T:E.key),S=o(E,S,T),b===null?V=E:b.sibling=E,b=E);return t&&w.forEach(function(x){return e(P,x)}),Te&&jn(P,T),V}function N(P,S,A,D){var V=Vr(A);if(typeof V!="function")throw Error(O(150));if(A=V.call(A),A==null)throw Error(O(151));for(var b=V=null,w=S,T=S=0,E=null,C=A.next();w!==null&&!C.done;T++,C=A.next()){w.index>T?(E=w,w=null):E=w.sibling;var x=g(P,w,C.value,D);if(x===null){w===null&&(w=E);break}t&&w&&x.alternate===null&&e(P,w),S=o(x,S,T),b===null?V=x:b.sibling=x,b=x,w=E}if(C.done)return n(P,w),Te&&jn(P,T),V;if(w===null){for(;!C.done;T++,C=A.next())C=m(P,C.value,D),C!==null&&(S=o(C,S,T),b===null?V=C:b.sibling=C,b=C);return Te&&jn(P,T),V}for(w=i(P,w);!C.done;T++,C=A.next())C=I(w,P,T,C.value,D),C!==null&&(t&&C.alternate!==null&&w.delete(C.key===null?T:C.key),S=o(C,S,T),b===null?V=C:b.sibling=C,b=C);return t&&w.forEach(function(M){return e(P,M)}),Te&&jn(P,T),V}function U(P,S,A,D){if(typeof A=="object"&&A!==null&&A.type===ki&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case cs:e:{for(var V=A.key,b=S;b!==null;){if(b.key===V){if(V=A.type,V===ki){if(b.tag===7){n(P,b.sibling),S=r(b,A.props.children),S.return=P,P=S;break e}}else if(b.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Tn&&jf(V)===b.type){n(P,b.sibling),S=r(b,A.props),S.ref=qr(P,b,A),S.return=P,P=S;break e}n(P,b);break}else e(P,b);b=b.sibling}A.type===ki?(S=oi(A.props.children,P.mode,D,A.key),S.return=P,P=S):(D=Os(A.type,A.key,A.props,null,P.mode,D),D.ref=qr(P,S,A),D.return=P,P=D)}return s(P);case Ai:e:{for(b=A.key;S!==null;){if(S.key===b)if(S.tag===4&&S.stateNode.containerInfo===A.containerInfo&&S.stateNode.implementation===A.implementation){n(P,S.sibling),S=r(S,A.children||[]),S.return=P,P=S;break e}else{n(P,S);break}else e(P,S);S=S.sibling}S=Ga(A,P.mode,D),S.return=P,P=S}return s(P);case Tn:return b=A._init,U(P,S,b(A._payload),D)}if(Kr(A))return k(P,S,A,D);if(Vr(A))return N(P,S,A,D);Es(P,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,S!==null&&S.tag===6?(n(P,S.sibling),S=r(S,A),S.return=P,P=S):(n(P,S),S=Ba(A,P.mode,D),S.return=P,P=S),s(P)):n(P,S)}return U}var ir=Og(!0),Bg=Og(!1),ol=$n(null),sl=null,Ui=null,xc=null;function Nc(){xc=Ui=sl=null}function Mc(t){var e=ol.current;ve(ol),t._currentValue=e}function Au(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function $i(t,e){sl=t,xc=Ui=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(st=!0),t.firstContext=null)}function St(t){var e=t._currentValue;if(xc!==t)if(t={context:t,memoizedValue:e,next:null},Ui===null){if(sl===null)throw Error(O(308));Ui=t,sl.dependencies={lanes:0,firstContext:t}}else Ui=Ui.next=t;return e}var ni=null;function Dc(t){ni===null?ni=[t]:ni.push(t)}function Gg(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Dc(e)):(n.next=r.next,r.next=n),e.interleaved=n,ln(t,i)}function ln(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var En=!1;function Lc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ln(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,oe&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,ln(t,n)}return r=i.interleaved,r===null?(e.next=e,Dc(i)):(e.next=r.next,r.next=e),i.interleaved=e,ln(t,n)}function Ds(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,vc(t,n)}}function Zf(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ll(t,e,n,i){var r=t.updateQueue;En=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var d=u,f=d.next;d.next=null,s===null?o=f:s.next=f,s=d;var h=t.alternate;h!==null&&(h=h.updateQueue,u=h.lastBaseUpdate,u!==s&&(u===null?h.firstBaseUpdate=f:u.next=f,h.lastBaseUpdate=d))}if(o!==null){var m=r.baseState;s=0,h=f=d=null,u=o;do{var g=u.lane,I=u.eventTime;if((i&g)===g){h!==null&&(h=h.next={eventTime:I,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var k=t,N=u;switch(g=e,I=n,N.tag){case 1:if(k=N.payload,typeof k=="function"){m=k.call(I,m,g);break e}m=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=N.payload,g=typeof k=="function"?k.call(I,m,g):k,g==null)break e;m=Ce({},m,g);break e;case 2:En=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,g=r.effects,g===null?r.effects=[u]:g.push(u))}else I={eventTime:I,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},h===null?(f=h=I,d=m):h=h.next=I,s|=g;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;g=u,u=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(1);if(h===null&&(d=m),r.baseState=d,r.firstBaseUpdate=f,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do s|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);ci|=s,t.lanes=s,t.memoizedState=m}}function eh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(O(191,r));r.call(i)}}}var Lo={},qt=$n(Lo),So=$n(Lo),Co=$n(Lo);function ii(t){if(t===Lo)throw Error(O(174));return t}function Uc(t,e){switch(pe(Co,e),pe(So,t),pe(qt,Lo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:su(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=su(e,t)}ve(qt),pe(qt,e)}function rr(){ve(qt),ve(So),ve(Co)}function qg(t){ii(Co.current);var e=ii(qt.current),n=su(e,t.type);e!==n&&(pe(So,t),pe(qt,n))}function Fc(t){So.current===t&&(ve(qt),ve(So))}var Ee=$n(0);function al(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var La=[];function bc(){for(var t=0;t<La.length;t++)La[t]._workInProgressVersionPrimary=null;La.length=0}var Ls=fn.ReactCurrentDispatcher,Ua=fn.ReactCurrentBatchConfig,ui=0,Se=null,Re=null,Me=null,ul=!1,no=!1,wo=0,IT=0;function qe(){throw Error(O(321))}function Vc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ut(t[n],e[n]))return!1;return!0}function Oc(t,e,n,i,r,o){if(ui=o,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ls.current=t===null||t.memoizedState===null?RT:xT,t=n(i,r),no){o=0;do{if(no=!1,wo=0,25<=o)throw Error(O(301));o+=1,Me=Re=null,e.updateQueue=null,Ls.current=NT,t=n(i,r)}while(no)}if(Ls.current=cl,e=Re!==null&&Re.next!==null,ui=0,Me=Re=Se=null,ul=!1,e)throw Error(O(300));return t}function Bc(){var t=wo!==0;return wo=0,t}function Bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Se.memoizedState=Me=t:Me=Me.next=t,Me}function Ct(){if(Re===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var e=Me===null?Se.memoizedState:Me.next;if(e!==null)Me=e,Re=t;else{if(t===null)throw Error(O(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Me===null?Se.memoizedState=Me=t:Me=Me.next=t}return Me}function Io(t,e){return typeof e=="function"?e(t):e}function Fa(t){var e=Ct(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var i=Re,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var u=s=null,d=null,f=o;do{var h=f.lane;if((ui&h)===h)d!==null&&(d=d.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:t(i,f.action);else{var m={lane:h,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};d===null?(u=d=m,s=i):d=d.next=m,Se.lanes|=h,ci|=h}f=f.next}while(f!==null&&f!==o);d===null?s=i:d.next=u,Ut(i,e.memoizedState)||(st=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=d,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,Se.lanes|=o,ci|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ba(t){var e=Ct(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do o=t(o,s.action),s=s.next;while(s!==r);Ut(o,e.memoizedState)||(st=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function $g(){}function zg(t,e){var n=Se,i=Ct(),r=e(),o=!Ut(i.memoizedState,r);if(o&&(i.memoizedState=r,st=!0),i=i.queue,Gc(Kg.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,Ao(9,Jg.bind(null,n,i,r,e),void 0,null),De===null)throw Error(O(349));ui&30||Wg(n,e,r)}return r}function Wg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Jg(t,e,n,i){e.value=n,e.getSnapshot=i,Yg(e)&&Xg(t)}function Kg(t,e,n){return n(function(){Yg(e)&&Xg(t)})}function Yg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ut(t,n)}catch{return!0}}function Xg(t){var e=ln(t,1);e!==null&&Lt(e,t,1,-1)}function th(t){var e=Bt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:t},e.queue=t,t=t.dispatch=PT.bind(null,Se,t),[e.memoizedState,t]}function Ao(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Qg(){return Ct().memoizedState}function Us(t,e,n,i){var r=Bt();Se.flags|=t,r.memoizedState=Ao(1|e,n,void 0,i===void 0?null:i)}function Fl(t,e,n,i){var r=Ct();i=i===void 0?null:i;var o=void 0;if(Re!==null){var s=Re.memoizedState;if(o=s.destroy,i!==null&&Vc(i,s.deps)){r.memoizedState=Ao(e,n,o,i);return}}Se.flags|=t,r.memoizedState=Ao(1|e,n,o,i)}function nh(t,e){return Us(8390656,8,t,e)}function Gc(t,e){return Fl(2048,8,t,e)}function jg(t,e){return Fl(4,2,t,e)}function Zg(t,e){return Fl(4,4,t,e)}function ey(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ty(t,e,n){return n=n!=null?n.concat([t]):null,Fl(4,4,ey.bind(null,e,t),n)}function Hc(){}function ny(t,e){var n=Ct();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Vc(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function iy(t,e){var n=Ct();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Vc(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function ry(t,e,n){return ui&21?(Ut(n,e)||(n=ug(),Se.lanes|=n,ci|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,st=!0),t.memoizedState=n)}function AT(t,e){var n=de;de=n!==0&&4>n?n:4,t(!0);var i=Ua.transition;Ua.transition={};try{t(!1),e()}finally{de=n,Ua.transition=i}}function oy(){return Ct().memoizedState}function kT(t,e,n){var i=Fn(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},sy(t))ly(e,n);else if(n=Gg(t,e,n,i),n!==null){var r=Ze();Lt(n,t,i,r),ay(n,e,i)}}function PT(t,e,n){var i=Fn(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(sy(t))ly(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,u=o(s,n);if(r.hasEagerState=!0,r.eagerState=u,Ut(u,s)){var d=e.interleaved;d===null?(r.next=r,Dc(e)):(r.next=d.next,d.next=r),e.interleaved=r;return}}catch{}finally{}n=Gg(t,e,r,i),n!==null&&(r=Ze(),Lt(n,t,i,r),ay(n,e,i))}}function sy(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function ly(t,e){no=ul=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ay(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,vc(t,n)}}var cl={readContext:St,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},RT={readContext:St,useCallback:function(t,e){return Bt().memoizedState=[t,e===void 0?null:e],t},useContext:St,useEffect:nh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Us(4194308,4,ey.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Us(4194308,4,t,e)},useInsertionEffect:function(t,e){return Us(4,2,t,e)},useMemo:function(t,e){var n=Bt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Bt();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=kT.bind(null,Se,t),[i.memoizedState,t]},useRef:function(t){var e=Bt();return t={current:t},e.memoizedState=t},useState:th,useDebugValue:Hc,useDeferredValue:function(t){return Bt().memoizedState=t},useTransition:function(){var t=th(!1),e=t[0];return t=AT.bind(null,t[1]),Bt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Se,r=Bt();if(Te){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),De===null)throw Error(O(349));ui&30||Wg(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,nh(Kg.bind(null,i,o,t),[t]),i.flags|=2048,Ao(9,Jg.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=Bt(),e=De.identifierPrefix;if(Te){var n=Zt,i=jt;n=(i&~(1<<32-Dt(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=wo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=IT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xT={readContext:St,useCallback:ny,useContext:St,useEffect:Gc,useImperativeHandle:ty,useInsertionEffect:jg,useLayoutEffect:Zg,useMemo:iy,useReducer:Fa,useRef:Qg,useState:function(){return Fa(Io)},useDebugValue:Hc,useDeferredValue:function(t){var e=Ct();return ry(e,Re.memoizedState,t)},useTransition:function(){var t=Fa(Io)[0],e=Ct().memoizedState;return[t,e]},useMutableSource:$g,useSyncExternalStore:zg,useId:oy,unstable_isNewReconciler:!1},NT={readContext:St,useCallback:ny,useContext:St,useEffect:Gc,useImperativeHandle:ty,useInsertionEffect:jg,useLayoutEffect:Zg,useMemo:iy,useReducer:ba,useRef:Qg,useState:function(){return ba(Io)},useDebugValue:Hc,useDeferredValue:function(t){var e=Ct();return Re===null?e.memoizedState=t:ry(e,Re.memoizedState,t)},useTransition:function(){var t=ba(Io)[0],e=Ct().memoizedState;return[t,e]},useMutableSource:$g,useSyncExternalStore:zg,useId:oy,unstable_isNewReconciler:!1};function Pt(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ku(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bl={isMounted:function(t){return(t=t._reactInternals)?gi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ze(),r=Fn(t),o=rn(i,r);o.payload=e,n!=null&&(o.callback=n),e=Ln(t,o,r),e!==null&&(Lt(e,t,r,i),Ds(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ze(),r=Fn(t),o=rn(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ln(t,o,r),e!==null&&(Lt(e,t,r,i),Ds(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ze(),i=Fn(t),r=rn(n,i);r.tag=2,e!=null&&(r.callback=e),e=Ln(t,r,i),e!==null&&(Lt(e,t,i,n),Ds(e,t,i))}};function ih(t,e,n,i,r,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,s):e.prototype&&e.prototype.isPureReactComponent?!_o(n,i)||!_o(r,o):!0}function uy(t,e,n){var i=!1,r=Hn,o=e.contextType;return typeof o=="object"&&o!==null?o=St(o):(r=at(e)?li:Je.current,i=e.contextTypes,o=(i=i!=null)?tr(t,r):Hn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bl,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function rh(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&bl.enqueueReplaceState(e,e.state,null)}function Pu(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Lc(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=St(o):(o=at(e)?li:Je.current,r.context=tr(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ku(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&bl.enqueueReplaceState(r,r.state,null),ll(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function or(t,e){try{var n="",i=e;do n+=o0(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function Va(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ru(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var MT=typeof WeakMap=="function"?WeakMap:Map;function cy(t,e,n){n=rn(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){fl||(fl=!0,Ou=i),Ru(t,e)},n}function dy(t,e,n){n=rn(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Ru(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ru(t,e),typeof i!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function oh(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new MT;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=WT.bind(null,t,e,n),e.then(t,t))}function sh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lh(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rn(-1,1),e.tag=2,Ln(n,e,1))),n.lanes|=1),t)}var DT=fn.ReactCurrentOwner,st=!1;function Qe(t,e,n,i){e.child=t===null?Bg(e,null,n,i):ir(e,t.child,n,i)}function ah(t,e,n,i,r){n=n.render;var o=e.ref;return $i(e,r),i=Oc(t,e,n,i,o,r),n=Bc(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,an(t,e,r)):(Te&&n&&kc(e),e.flags|=1,Qe(t,e,i,r),e.child)}function uh(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!Xc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,fy(t,e,o,i,r)):(t=Os(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:_o,n(s,i)&&t.ref===e.ref)return an(t,e,r)}return e.flags|=1,t=bn(o,i),t.ref=e.ref,t.return=e,e.child=t}function fy(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(_o(o,i)&&t.ref===e.ref)if(st=!1,e.pendingProps=i=o,(t.lanes&r)!==0)t.flags&131072&&(st=!0);else return e.lanes=t.lanes,an(t,e,r)}return xu(t,e,n,i,r)}function hy(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(bi,ct),ct|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pe(bi,ct),ct|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,pe(bi,ct),ct|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,pe(bi,ct),ct|=i;return Qe(t,e,r,n),e.child}function py(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xu(t,e,n,i,r){var o=at(n)?li:Je.current;return o=tr(e,o),$i(e,r),n=Oc(t,e,n,i,o,r),i=Bc(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,an(t,e,r)):(Te&&i&&kc(e),e.flags|=1,Qe(t,e,n,r),e.child)}function ch(t,e,n,i,r){if(at(n)){var o=!0;nl(e)}else o=!1;if($i(e,r),e.stateNode===null)Fs(t,e),uy(e,n,i),Pu(e,n,i,r),i=!0;else if(t===null){var s=e.stateNode,u=e.memoizedProps;s.props=u;var d=s.context,f=n.contextType;typeof f=="object"&&f!==null?f=St(f):(f=at(n)?li:Je.current,f=tr(e,f));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==i||d!==f)&&rh(e,s,i,f),En=!1;var g=e.memoizedState;s.state=g,ll(e,i,s,r),d=e.memoizedState,u!==i||g!==d||lt.current||En?(typeof h=="function"&&(ku(e,n,h,i),d=e.memoizedState),(u=En||ih(e,n,u,i,g,d,f))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=d),s.props=i,s.state=d,s.context=f,i=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,Hg(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:Pt(e.type,u),s.props=f,m=e.pendingProps,g=s.context,d=n.contextType,typeof d=="object"&&d!==null?d=St(d):(d=at(n)?li:Je.current,d=tr(e,d));var I=n.getDerivedStateFromProps;(h=typeof I=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==m||g!==d)&&rh(e,s,i,d),En=!1,g=e.memoizedState,s.state=g,ll(e,i,s,r);var k=e.memoizedState;u!==m||g!==k||lt.current||En?(typeof I=="function"&&(ku(e,n,I,i),k=e.memoizedState),(f=En||ih(e,n,f,i,g,k,d)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,k,d),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,k,d)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=k),s.props=i,s.state=k,s.context=d,i=f):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),i=!1)}return Nu(t,e,n,i,o,r)}function Nu(t,e,n,i,r,o){py(t,e);var s=(e.flags&128)!==0;if(!i&&!s)return r&&Yf(e,n,!1),an(t,e,o);i=e.stateNode,DT.current=e;var u=s&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&s?(e.child=ir(e,t.child,null,o),e.child=ir(e,null,u,o)):Qe(t,e,u,o),e.memoizedState=i.state,r&&Yf(e,n,!0),e.child}function my(t){var e=t.stateNode;e.pendingContext?Kf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kf(t,e.context,!1),Uc(t,e.containerInfo)}function dh(t,e,n,i,r){return nr(),Rc(r),e.flags|=256,Qe(t,e,n,i),e.child}var Mu={dehydrated:null,treeContext:null,retryLane:0};function Du(t){return{baseLanes:t,cachePool:null,transitions:null}}function gy(t,e,n){var i=e.pendingProps,r=Ee.current,o=!1,s=(e.flags&128)!==0,u;if((u=s)||(u=t!==null&&t.memoizedState===null?!1:(r&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),pe(Ee,r&1),t===null)return Iu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=i.children,t=i.fallback,o?(i=e.mode,o=e.child,s={mode:"hidden",children:s},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Bl(s,i,0,null),t=oi(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Du(n),e.memoizedState=Mu,t):qc(e,s));if(r=t.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return LT(t,e,s,i,u,r,n);if(o){o=i.fallback,s=e.mode,r=t.child,u=r.sibling;var d={mode:"hidden",children:i.children};return!(s&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=d,e.deletions=null):(i=bn(r,d),i.subtreeFlags=r.subtreeFlags&14680064),u!==null?o=bn(u,o):(o=oi(o,s,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,s=t.child.memoizedState,s=s===null?Du(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Mu,i}return o=t.child,t=o.sibling,i=bn(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function qc(t,e){return e=Bl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ss(t,e,n,i){return i!==null&&Rc(i),ir(e,t.child,null,n),t=qc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function LT(t,e,n,i,r,o,s){if(n)return e.flags&256?(e.flags&=-257,i=Va(Error(O(422))),Ss(t,e,s,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=Bl({mode:"visible",children:i.children},r,0,null),o=oi(o,r,s,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&ir(e,t.child,null,s),e.child.memoizedState=Du(s),e.memoizedState=Mu,o);if(!(e.mode&1))return Ss(t,e,s,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var u=i.dgst;return i=u,o=Error(O(419)),i=Va(o,i,void 0),Ss(t,e,s,i)}if(u=(s&t.childLanes)!==0,st||u){if(i=De,i!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|s)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,ln(t,r),Lt(i,t,r,-1))}return Yc(),i=Va(Error(O(421))),Ss(t,e,s,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=JT.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,dt=Dn(r.nextSibling),ft=e,Te=!0,xt=null,t!==null&&(yt[_t++]=jt,yt[_t++]=Zt,yt[_t++]=ai,jt=t.id,Zt=t.overflow,ai=e),e=qc(e,i.children),e.flags|=4096,e)}function fh(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Au(t.return,e,n)}function Oa(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function yy(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(Qe(t,e,i.children,n),i=Ee.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fh(t,n,e);else if(t.tag===19)fh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(pe(Ee,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&al(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Oa(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&al(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Oa(e,!0,n,null,o);break;case"together":Oa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function an(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ci|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=bn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function UT(t,e,n){switch(e.tag){case 3:my(e),nr();break;case 5:qg(e);break;case 1:at(e.type)&&nl(e);break;case 4:Uc(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;pe(ol,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(pe(Ee,Ee.current&1),e.flags|=128,null):n&e.child.childLanes?gy(t,e,n):(pe(Ee,Ee.current&1),t=an(t,e,n),t!==null?t.sibling:null);pe(Ee,Ee.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return yy(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),pe(Ee,Ee.current),i)break;return null;case 22:case 23:return e.lanes=0,hy(t,e,n)}return an(t,e,n)}var _y,Lu,vy,Ty;_y=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lu=function(){};vy=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,ii(qt.current);var o=null;switch(n){case"input":r=nu(t,r),i=nu(t,i),o=[];break;case"select":r=Ce({},r,{value:void 0}),i=Ce({},i,{value:void 0}),o=[];break;case"textarea":r=ou(t,r),i=ou(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=el)}lu(n,i);var s;n=null;for(f in r)if(!i.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var u=r[f];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(co.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in i){var d=i[f];if(u=r!=null?r[f]:void 0,i.hasOwnProperty(f)&&d!==u&&(d!=null||u!=null))if(f==="style")if(u){for(s in u)!u.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in d)d.hasOwnProperty(s)&&u[s]!==d[s]&&(n||(n={}),n[s]=d[s])}else n||(o||(o=[]),o.push(f,n)),n=d;else f==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(o=o||[]).push(f,d)):f==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(f,""+d):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(co.hasOwnProperty(f)?(d!=null&&f==="onScroll"&&ye("scroll",t),o||u===d||(o=[])):(o=o||[]).push(f,d))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};Ty=function(t,e,n,i){n!==i&&(e.flags|=4)};function $r(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function $e(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function FT(t,e,n){var i=e.pendingProps;switch(Pc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(e),null;case 1:return at(e.type)&&tl(),$e(e),null;case 3:return i=e.stateNode,rr(),ve(lt),ve(Je),bc(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Ts(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xt!==null&&(Hu(xt),xt=null))),Lu(t,e),$e(e),null;case 5:Fc(e);var r=ii(Co.current);if(n=e.type,t!==null&&e.stateNode!=null)vy(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(O(166));return $e(e),null}if(t=ii(qt.current),Ts(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[Gt]=e,i[Eo]=o,t=(e.mode&1)!==0,n){case"dialog":ye("cancel",i),ye("close",i);break;case"iframe":case"object":case"embed":ye("load",i);break;case"video":case"audio":for(r=0;r<Xr.length;r++)ye(Xr[r],i);break;case"source":ye("error",i);break;case"img":case"image":case"link":ye("error",i),ye("load",i);break;case"details":ye("toggle",i);break;case"input":Ef(i,o),ye("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},ye("invalid",i);break;case"textarea":Cf(i,o),ye("invalid",i)}lu(n,o),r=null;for(var s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="children"?typeof u=="string"?i.textContent!==u&&(o.suppressHydrationWarning!==!0&&vs(i.textContent,u,t),r=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&vs(i.textContent,u,t),r=["children",""+u]):co.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&ye("scroll",i)}switch(n){case"input":ds(i),Sf(i,o,!0);break;case"textarea":ds(i),wf(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=el)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Km(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=s.createElement(n,{is:i.is}):(t=s.createElement(n),n==="select"&&(s=t,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):t=s.createElementNS(t,n),t[Gt]=e,t[Eo]=i,_y(t,e,!1,!1),e.stateNode=t;e:{switch(s=au(n,i),n){case"dialog":ye("cancel",t),ye("close",t),r=i;break;case"iframe":case"object":case"embed":ye("load",t),r=i;break;case"video":case"audio":for(r=0;r<Xr.length;r++)ye(Xr[r],t);r=i;break;case"source":ye("error",t),r=i;break;case"img":case"image":case"link":ye("error",t),ye("load",t),r=i;break;case"details":ye("toggle",t),r=i;break;case"input":Ef(t,i),r=nu(t,i),ye("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Ce({},i,{value:void 0}),ye("invalid",t);break;case"textarea":Cf(t,i),r=ou(t,i),ye("invalid",t);break;default:r=i}lu(n,r),u=r;for(o in u)if(u.hasOwnProperty(o)){var d=u[o];o==="style"?Qm(t,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Ym(t,d)):o==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&fo(t,d):typeof d=="number"&&fo(t,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(co.hasOwnProperty(o)?d!=null&&o==="onScroll"&&ye("scroll",t):d!=null&&hc(t,o,d,s))}switch(n){case"input":ds(t),Sf(t,i,!1);break;case"textarea":ds(t),wf(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Gn(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?Bi(t,!!i.multiple,o,!1):i.defaultValue!=null&&Bi(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=el)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $e(e),null;case 6:if(t&&e.stateNode!=null)Ty(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(O(166));if(n=ii(Co.current),ii(qt.current),Ts(e)){if(i=e.stateNode,n=e.memoizedProps,i[Gt]=e,(o=i.nodeValue!==n)&&(t=ft,t!==null))switch(t.tag){case 3:vs(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vs(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Gt]=e,e.stateNode=i}return $e(e),null;case 13:if(ve(Ee),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&dt!==null&&e.mode&1&&!(e.flags&128))Vg(),nr(),e.flags|=98560,o=!1;else if(o=Ts(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(O(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(O(317));o[Gt]=e}else nr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$e(e),o=!1}else xt!==null&&(Hu(xt),xt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Ee.current&1?xe===0&&(xe=3):Yc())),e.updateQueue!==null&&(e.flags|=4),$e(e),null);case 4:return rr(),Lu(t,e),t===null&&vo(e.stateNode.containerInfo),$e(e),null;case 10:return Mc(e.type._context),$e(e),null;case 17:return at(e.type)&&tl(),$e(e),null;case 19:if(ve(Ee),o=e.memoizedState,o===null)return $e(e),null;if(i=(e.flags&128)!==0,s=o.rendering,s===null)if(i)$r(o,!1);else{if(xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=al(t),s!==null){for(e.flags|=128,$r(o,!1),i=s.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pe(Ee,Ee.current&1|2),e.child}t=t.sibling}o.tail!==null&&ke()>sr&&(e.flags|=128,i=!0,$r(o,!1),e.lanes=4194304)}else{if(!i)if(t=al(s),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$r(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Te)return $e(e),null}else 2*ke()-o.renderingStartTime>sr&&n!==1073741824&&(e.flags|=128,i=!0,$r(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ke(),e.sibling=null,n=Ee.current,pe(Ee,i?n&1|2:n&1),e):($e(e),null);case 22:case 23:return Kc(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?ct&1073741824&&($e(e),e.subtreeFlags&6&&(e.flags|=8192)):$e(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function bT(t,e){switch(Pc(e),e.tag){case 1:return at(e.type)&&tl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rr(),ve(lt),ve(Je),bc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fc(e),null;case 13:if(ve(Ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));nr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ve(Ee),null;case 4:return rr(),null;case 10:return Mc(e.type._context),null;case 22:case 23:return Kc(),null;case 24:return null;default:return null}}var Cs=!1,ze=!1,VT=typeof WeakSet=="function"?WeakSet:Set,z=null;function Fi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ie(t,e,i)}else n.current=null}function Uu(t,e,n){try{n()}catch(i){Ie(t,e,i)}}var hh=!1;function OT(t,e){if(_u=Qs,t=Ig(),Ac(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,u=-1,d=-1,f=0,h=0,m=t,g=null;t:for(;;){for(var I;m!==n||r!==0&&m.nodeType!==3||(u=s+r),m!==o||i!==0&&m.nodeType!==3||(d=s+i),m.nodeType===3&&(s+=m.nodeValue.length),(I=m.firstChild)!==null;)g=m,m=I;for(;;){if(m===t)break t;if(g===n&&++f===r&&(u=s),g===o&&++h===i&&(d=s),(I=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=I}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(vu={focusedElem:t,selectionRange:n},Qs=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var N=k.memoizedProps,U=k.memoizedState,P=e.stateNode,S=P.getSnapshotBeforeUpdate(e.elementType===e.type?N:Pt(e.type,N),U);P.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(D){Ie(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return k=hh,hh=!1,k}function io(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&Uu(e,n,o)}r=r.next}while(r!==i)}}function Vl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Fu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ey(t){var e=t.alternate;e!==null&&(t.alternate=null,Ey(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gt],delete e[Eo],delete e[Su],delete e[ET],delete e[ST])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Sy(t){return t.tag===5||t.tag===3||t.tag===4}function ph(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=el));else if(i!==4&&(t=t.child,t!==null))for(bu(t,e,n),t=t.sibling;t!==null;)bu(t,e,n),t=t.sibling}function Vu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Vu(t,e,n),t=t.sibling;t!==null;)Vu(t,e,n),t=t.sibling}var be=null,Rt=!1;function _n(t,e,n){for(n=n.child;n!==null;)Cy(t,e,n),n=n.sibling}function Cy(t,e,n){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(xl,n)}catch{}switch(n.tag){case 5:ze||Fi(n,e);case 6:var i=be,r=Rt;be=null,_n(t,e,n),be=i,Rt=r,be!==null&&(Rt?(t=be,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):be.removeChild(n.stateNode));break;case 18:be!==null&&(Rt?(t=be,n=n.stateNode,t.nodeType===8?Ma(t.parentNode,n):t.nodeType===1&&Ma(t,n),go(t)):Ma(be,n.stateNode));break;case 4:i=be,r=Rt,be=n.stateNode.containerInfo,Rt=!0,_n(t,e,n),be=i,Rt=r;break;case 0:case 11:case 14:case 15:if(!ze&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Uu(n,e,s),r=r.next}while(r!==i)}_n(t,e,n);break;case 1:if(!ze&&(Fi(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(u){Ie(n,e,u)}_n(t,e,n);break;case 21:_n(t,e,n);break;case 22:n.mode&1?(ze=(i=ze)||n.memoizedState!==null,_n(t,e,n),ze=i):_n(t,e,n);break;default:_n(t,e,n)}}function mh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new VT),e.forEach(function(i){var r=KT.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function kt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,s=e,u=s;e:for(;u!==null;){switch(u.tag){case 5:be=u.stateNode,Rt=!1;break e;case 3:be=u.stateNode.containerInfo,Rt=!0;break e;case 4:be=u.stateNode.containerInfo,Rt=!0;break e}u=u.return}if(be===null)throw Error(O(160));Cy(o,s,r),be=null,Rt=!1;var d=r.alternate;d!==null&&(d.return=null),r.return=null}catch(f){Ie(r,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wy(e,t),e=e.sibling}function wy(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kt(e,t),Ot(t),i&4){try{io(3,t,t.return),Vl(3,t)}catch(N){Ie(t,t.return,N)}try{io(5,t,t.return)}catch(N){Ie(t,t.return,N)}}break;case 1:kt(e,t),Ot(t),i&512&&n!==null&&Fi(n,n.return);break;case 5:if(kt(e,t),Ot(t),i&512&&n!==null&&Fi(n,n.return),t.flags&32){var r=t.stateNode;try{fo(r,"")}catch(N){Ie(t,t.return,N)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,u=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&Wm(r,o),au(u,s);var f=au(u,o);for(s=0;s<d.length;s+=2){var h=d[s],m=d[s+1];h==="style"?Qm(r,m):h==="dangerouslySetInnerHTML"?Ym(r,m):h==="children"?fo(r,m):hc(r,h,m,f)}switch(u){case"input":iu(r,o);break;case"textarea":Jm(r,o);break;case"select":var g=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var I=o.value;I!=null?Bi(r,!!o.multiple,I,!1):g!==!!o.multiple&&(o.defaultValue!=null?Bi(r,!!o.multiple,o.defaultValue,!0):Bi(r,!!o.multiple,o.multiple?[]:"",!1))}r[Eo]=o}catch(N){Ie(t,t.return,N)}}break;case 6:if(kt(e,t),Ot(t),i&4){if(t.stateNode===null)throw Error(O(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(N){Ie(t,t.return,N)}}break;case 3:if(kt(e,t),Ot(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{go(e.containerInfo)}catch(N){Ie(t,t.return,N)}break;case 4:kt(e,t),Ot(t);break;case 13:kt(e,t),Ot(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(Wc=ke())),i&4&&mh(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(ze=(f=ze)||h,kt(e,t),ze=f):kt(e,t),Ot(t),i&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!h&&t.mode&1)for(z=t,h=t.child;h!==null;){for(m=z=h;z!==null;){switch(g=z,I=g.child,g.tag){case 0:case 11:case 14:case 15:io(4,g,g.return);break;case 1:Fi(g,g.return);var k=g.stateNode;if(typeof k.componentWillUnmount=="function"){i=g,n=g.return;try{e=i,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(N){Ie(i,n,N)}}break;case 5:Fi(g,g.return);break;case 22:if(g.memoizedState!==null){yh(m);continue}}I!==null?(I.return=g,z=I):yh(m)}h=h.sibling}e:for(h=null,m=t;;){if(m.tag===5){if(h===null){h=m;try{r=m.stateNode,f?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=m.stateNode,d=m.memoizedProps.style,s=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=Xm("display",s))}catch(N){Ie(t,t.return,N)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(N){Ie(t,t.return,N)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:kt(e,t),Ot(t),i&4&&mh(t);break;case 21:break;default:kt(e,t),Ot(t)}}function Ot(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Sy(n)){var i=n;break e}n=n.return}throw Error(O(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(fo(r,""),i.flags&=-33);var o=ph(t);Vu(t,o,r);break;case 3:case 4:var s=i.stateNode.containerInfo,u=ph(t);bu(t,u,s);break;default:throw Error(O(161))}}catch(d){Ie(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BT(t,e,n){z=t,Iy(t)}function Iy(t,e,n){for(var i=(t.mode&1)!==0;z!==null;){var r=z,o=r.child;if(r.tag===22&&i){var s=r.memoizedState!==null||Cs;if(!s){var u=r.alternate,d=u!==null&&u.memoizedState!==null||ze;u=Cs;var f=ze;if(Cs=s,(ze=d)&&!f)for(z=r;z!==null;)s=z,d=s.child,s.tag===22&&s.memoizedState!==null?_h(r):d!==null?(d.return=s,z=d):_h(r);for(;o!==null;)z=o,Iy(o),o=o.sibling;z=r,Cs=u,ze=f}gh(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,z=o):gh(t)}}function gh(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ze||Vl(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ze)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Pt(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&eh(e,o,i);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}eh(e,s,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var h=f.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&go(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}ze||e.flags&512&&Fu(e)}catch(g){Ie(e,e.return,g)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function yh(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function _h(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vl(4,e)}catch(d){Ie(e,n,d)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(d){Ie(e,r,d)}}var o=e.return;try{Fu(e)}catch(d){Ie(e,o,d)}break;case 5:var s=e.return;try{Fu(e)}catch(d){Ie(e,s,d)}}}catch(d){Ie(e,e.return,d)}if(e===t){z=null;break}var u=e.sibling;if(u!==null){u.return=e.return,z=u;break}z=e.return}}var GT=Math.ceil,dl=fn.ReactCurrentDispatcher,$c=fn.ReactCurrentOwner,Tt=fn.ReactCurrentBatchConfig,oe=0,De=null,Pe=null,Ve=0,ct=0,bi=$n(0),xe=0,ko=null,ci=0,Ol=0,zc=0,ro=null,it=null,Wc=0,sr=1/0,Yt=null,fl=!1,Ou=null,Un=null,ws=!1,Pn=null,hl=0,oo=0,Bu=null,bs=-1,Vs=0;function Ze(){return oe&6?ke():bs!==-1?bs:bs=ke()}function Fn(t){return t.mode&1?oe&2&&Ve!==0?Ve&-Ve:wT.transition!==null?(Vs===0&&(Vs=ug()),Vs):(t=de,t!==0||(t=window.event,t=t===void 0?16:gg(t.type)),t):1}function Lt(t,e,n,i){if(50<oo)throw oo=0,Bu=null,Error(O(185));No(t,n,i),(!(oe&2)||t!==De)&&(t===De&&(!(oe&2)&&(Ol|=n),xe===4&&Cn(t,Ve)),ut(t,i),n===1&&oe===0&&!(e.mode&1)&&(sr=ke()+500,Ul&&zn()))}function ut(t,e){var n=t.callbackNode;w0(t,e);var i=Xs(t,t===De?Ve:0);if(i===0)n!==null&&kf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&kf(n),e===1)t.tag===0?CT(vh.bind(null,t)):Ug(vh.bind(null,t)),vT(function(){!(oe&6)&&zn()}),n=null;else{switch(cg(i)){case 1:n=_c;break;case 4:n=lg;break;case 16:n=Ys;break;case 536870912:n=ag;break;default:n=Ys}n=Dy(n,Ay.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ay(t,e){if(bs=-1,Vs=0,oe&6)throw Error(O(327));var n=t.callbackNode;if(zi()&&t.callbackNode!==n)return null;var i=Xs(t,t===De?Ve:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=pl(t,i);else{e=i;var r=oe;oe|=2;var o=Py();(De!==t||Ve!==e)&&(Yt=null,sr=ke()+500,ri(t,e));do try{$T();break}catch(u){ky(t,u)}while(1);Nc(),dl.current=o,oe=r,Pe!==null?e=0:(De=null,Ve=0,e=xe)}if(e!==0){if(e===2&&(r=hu(t),r!==0&&(i=r,e=Gu(t,r))),e===1)throw n=ko,ri(t,0),Cn(t,i),ut(t,ke()),n;if(e===6)Cn(t,i);else{if(r=t.current.alternate,!(i&30)&&!HT(r)&&(e=pl(t,i),e===2&&(o=hu(t),o!==0&&(i=o,e=Gu(t,o))),e===1))throw n=ko,ri(t,0),Cn(t,i),ut(t,ke()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(O(345));case 2:Zn(t,it,Yt);break;case 3:if(Cn(t,i),(i&130023424)===i&&(e=Wc+500-ke(),10<e)){if(Xs(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Ze(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Eu(Zn.bind(null,t,it,Yt),e);break}Zn(t,it,Yt);break;case 4:if(Cn(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var s=31-Dt(i);o=1<<s,s=e[s],s>r&&(r=s),i&=~o}if(i=r,i=ke()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*GT(i/1960))-i,10<i){t.timeoutHandle=Eu(Zn.bind(null,t,it,Yt),i);break}Zn(t,it,Yt);break;case 5:Zn(t,it,Yt);break;default:throw Error(O(329))}}}return ut(t,ke()),t.callbackNode===n?Ay.bind(null,t):null}function Gu(t,e){var n=ro;return t.current.memoizedState.isDehydrated&&(ri(t,e).flags|=256),t=pl(t,e),t!==2&&(e=it,it=n,e!==null&&Hu(e)),t}function Hu(t){it===null?it=t:it.push.apply(it,t)}function HT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!Ut(o(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cn(t,e){for(e&=~zc,e&=~Ol,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dt(e),i=1<<n;t[n]=-1,e&=~i}}function vh(t){if(oe&6)throw Error(O(327));zi();var e=Xs(t,0);if(!(e&1))return ut(t,ke()),null;var n=pl(t,e);if(t.tag!==0&&n===2){var i=hu(t);i!==0&&(e=i,n=Gu(t,i))}if(n===1)throw n=ko,ri(t,0),Cn(t,e),ut(t,ke()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zn(t,it,Yt),ut(t,ke()),null}function Jc(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(sr=ke()+500,Ul&&zn())}}function di(t){Pn!==null&&Pn.tag===0&&!(oe&6)&&zi();var e=oe;oe|=1;var n=Tt.transition,i=de;try{if(Tt.transition=null,de=1,t)return t()}finally{de=i,Tt.transition=n,oe=e,!(oe&6)&&zn()}}function Kc(){ct=bi.current,ve(bi)}function ri(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_T(n)),Pe!==null)for(n=Pe.return;n!==null;){var i=n;switch(Pc(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&tl();break;case 3:rr(),ve(lt),ve(Je),bc();break;case 5:Fc(i);break;case 4:rr();break;case 13:ve(Ee);break;case 19:ve(Ee);break;case 10:Mc(i.type._context);break;case 22:case 23:Kc()}n=n.return}if(De=t,Pe=t=bn(t.current,null),Ve=ct=e,xe=0,ko=null,zc=Ol=ci=0,it=ro=null,ni!==null){for(e=0;e<ni.length;e++)if(n=ni[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var s=o.next;o.next=r,i.next=s}n.pending=i}ni=null}return t}function ky(t,e){do{var n=Pe;try{if(Nc(),Ls.current=cl,ul){for(var i=Se.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}ul=!1}if(ui=0,Me=Re=Se=null,no=!1,wo=0,$c.current=null,n===null||n.return===null){xe=1,ko=e,Pe=null;break}e:{var o=t,s=n.return,u=n,d=e;if(e=Ve,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var f=d,h=u,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var I=sh(s);if(I!==null){I.flags&=-257,lh(I,s,u,o,e),I.mode&1&&oh(o,f,e),e=I,d=f;var k=e.updateQueue;if(k===null){var N=new Set;N.add(d),e.updateQueue=N}else k.add(d);break e}else{if(!(e&1)){oh(o,f,e),Yc();break e}d=Error(O(426))}}else if(Te&&u.mode&1){var U=sh(s);if(U!==null){!(U.flags&65536)&&(U.flags|=256),lh(U,s,u,o,e),Rc(or(d,u));break e}}o=d=or(d,u),xe!==4&&(xe=2),ro===null?ro=[o]:ro.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var P=cy(o,d,e);Zf(o,P);break e;case 1:u=d;var S=o.type,A=o.stateNode;if(!(o.flags&128)&&(typeof S.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Un===null||!Un.has(A)))){o.flags|=65536,e&=-e,o.lanes|=e;var D=dy(o,u,e);Zf(o,D);break e}}o=o.return}while(o!==null)}xy(n)}catch(V){e=V,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(1)}function Py(){var t=dl.current;return dl.current=cl,t===null?cl:t}function Yc(){(xe===0||xe===3||xe===2)&&(xe=4),De===null||!(ci&268435455)&&!(Ol&268435455)||Cn(De,Ve)}function pl(t,e){var n=oe;oe|=2;var i=Py();(De!==t||Ve!==e)&&(Yt=null,ri(t,e));do try{qT();break}catch(r){ky(t,r)}while(1);if(Nc(),oe=n,dl.current=i,Pe!==null)throw Error(O(261));return De=null,Ve=0,xe}function qT(){for(;Pe!==null;)Ry(Pe)}function $T(){for(;Pe!==null&&!m0();)Ry(Pe)}function Ry(t){var e=My(t.alternate,t,ct);t.memoizedProps=t.pendingProps,e===null?xy(t):Pe=e,$c.current=null}function xy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bT(n,e),n!==null){n.flags&=32767,Pe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xe=6,Pe=null;return}}else if(n=FT(n,e,ct),n!==null){Pe=n;return}if(e=e.sibling,e!==null){Pe=e;return}Pe=e=t}while(e!==null);xe===0&&(xe=5)}function Zn(t,e,n){var i=de,r=Tt.transition;try{Tt.transition=null,de=1,zT(t,e,n,i)}finally{Tt.transition=r,de=i}return null}function zT(t,e,n,i){do zi();while(Pn!==null);if(oe&6)throw Error(O(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(I0(t,o),t===De&&(Pe=De=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ws||(ws=!0,Dy(Ys,function(){return zi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Tt.transition,Tt.transition=null;var s=de;de=1;var u=oe;oe|=4,$c.current=null,OT(t,n),wy(n,t),dT(vu),Qs=!!_u,vu=_u=null,t.current=n,BT(n),g0(),oe=u,de=s,Tt.transition=o}else t.current=n;if(ws&&(ws=!1,Pn=t,hl=r),o=t.pendingLanes,o===0&&(Un=null),v0(n.stateNode),ut(t,ke()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(fl)throw fl=!1,t=Ou,Ou=null,t;return hl&1&&t.tag!==0&&zi(),o=t.pendingLanes,o&1?t===Bu?oo++:(oo=0,Bu=t):oo=0,zn(),null}function zi(){if(Pn!==null){var t=cg(hl),e=Tt.transition,n=de;try{if(Tt.transition=null,de=16>t?16:t,Pn===null)var i=!1;else{if(t=Pn,Pn=null,hl=0,oe&6)throw Error(O(331));var r=oe;for(oe|=4,z=t.current;z!==null;){var o=z,s=o.child;if(z.flags&16){var u=o.deletions;if(u!==null){for(var d=0;d<u.length;d++){var f=u[d];for(z=f;z!==null;){var h=z;switch(h.tag){case 0:case 11:case 15:io(8,h,o)}var m=h.child;if(m!==null)m.return=h,z=m;else for(;z!==null;){h=z;var g=h.sibling,I=h.return;if(Ey(h),h===f){z=null;break}if(g!==null){g.return=I,z=g;break}z=I}}}var k=o.alternate;if(k!==null){var N=k.child;if(N!==null){k.child=null;do{var U=N.sibling;N.sibling=null,N=U}while(N!==null)}}z=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,z=s;else e:for(;z!==null;){if(o=z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:io(9,o,o.return)}var P=o.sibling;if(P!==null){P.return=o.return,z=P;break e}z=o.return}}var S=t.current;for(z=S;z!==null;){s=z;var A=s.child;if(s.subtreeFlags&2064&&A!==null)A.return=s,z=A;else e:for(s=S;z!==null;){if(u=z,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Vl(9,u)}}catch(V){Ie(u,u.return,V)}if(u===s){z=null;break e}var D=u.sibling;if(D!==null){D.return=u.return,z=D;break e}z=u.return}}if(oe=r,zn(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(xl,t)}catch{}i=!0}return i}finally{de=n,Tt.transition=e}}return!1}function Th(t,e,n){e=or(n,e),e=cy(t,e,1),t=Ln(t,e,1),e=Ze(),t!==null&&(No(t,1,e),ut(t,e))}function Ie(t,e,n){if(t.tag===3)Th(t,t,n);else for(;e!==null;){if(e.tag===3){Th(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Un===null||!Un.has(i))){t=or(n,t),t=dy(e,t,1),e=Ln(e,t,1),t=Ze(),e!==null&&(No(e,1,t),ut(e,t));break}}e=e.return}}function WT(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Ze(),t.pingedLanes|=t.suspendedLanes&n,De===t&&(Ve&n)===n&&(xe===4||xe===3&&(Ve&130023424)===Ve&&500>ke()-Wc?ri(t,0):zc|=n),ut(t,e)}function Ny(t,e){e===0&&(t.mode&1?(e=ps,ps<<=1,!(ps&130023424)&&(ps=4194304)):e=1);var n=Ze();t=ln(t,e),t!==null&&(No(t,e,n),ut(t,n))}function JT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ny(t,n)}function KT(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(O(314))}i!==null&&i.delete(e),Ny(t,n)}var My;My=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||lt.current)st=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return st=!1,UT(t,e,n);st=!!(t.flags&131072)}else st=!1,Te&&e.flags&1048576&&Fg(e,rl,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Fs(t,e),t=e.pendingProps;var r=tr(e,Je.current);$i(e,n),r=Oc(null,e,i,t,r,n);var o=Bc();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,at(i)?(o=!0,nl(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Lc(e),r.updater=bl,e.stateNode=r,r._reactInternals=e,Pu(e,i,t,n),e=Nu(null,e,i,!0,o,n)):(e.tag=0,Te&&o&&kc(e),Qe(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Fs(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=XT(i),t=Pt(i,t),r){case 0:e=xu(null,e,i,t,n);break e;case 1:e=ch(null,e,i,t,n);break e;case 11:e=ah(null,e,i,t,n);break e;case 14:e=uh(null,e,i,Pt(i.type,t),n);break e}throw Error(O(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Pt(i,r),xu(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Pt(i,r),ch(t,e,i,r,n);case 3:e:{if(my(e),t===null)throw Error(O(387));i=e.pendingProps,o=e.memoizedState,r=o.element,Hg(t,e),ll(e,i,null,n);var s=e.memoizedState;if(i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=or(Error(O(423)),e),e=dh(t,e,i,n,r);break e}else if(i!==r){r=or(Error(O(424)),e),e=dh(t,e,i,n,r);break e}else for(dt=Dn(e.stateNode.containerInfo.firstChild),ft=e,Te=!0,xt=null,n=Bg(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nr(),i===r){e=an(t,e,n);break e}Qe(t,e,i,n)}e=e.child}return e;case 5:return qg(e),t===null&&Iu(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,s=r.children,Tu(i,r)?s=null:o!==null&&Tu(i,o)&&(e.flags|=32),py(t,e),Qe(t,e,s,n),e.child;case 6:return t===null&&Iu(e),null;case 13:return gy(t,e,n);case 4:return Uc(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=ir(e,null,i,n):Qe(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Pt(i,r),ah(t,e,i,r,n);case 7:return Qe(t,e,e.pendingProps,n),e.child;case 8:return Qe(t,e,e.pendingProps.children,n),e.child;case 12:return Qe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,s=r.value,pe(ol,i._currentValue),i._currentValue=s,o!==null)if(Ut(o.value,s)){if(o.children===r.children&&!lt.current){e=an(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){s=o.child;for(var d=u.firstContext;d!==null;){if(d.context===i){if(o.tag===1){d=rn(-1,n&-n),d.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var h=f.pending;h===null?d.next=d:(d.next=h.next,h.next=d),f.pending=d}}o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),Au(o.return,n,e),u.lanes|=n;break}d=d.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(O(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Au(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Qe(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,$i(e,n),r=St(r),i=i(r),e.flags|=1,Qe(t,e,i,n),e.child;case 14:return i=e.type,r=Pt(i,e.pendingProps),r=Pt(i.type,r),uh(t,e,i,r,n);case 15:return fy(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Pt(i,r),Fs(t,e),e.tag=1,at(i)?(t=!0,nl(e)):t=!1,$i(e,n),uy(e,i,r),Pu(e,i,r,n),Nu(null,e,i,!0,t,n);case 19:return yy(t,e,n);case 22:return hy(t,e,n)}throw Error(O(156,e.tag))};function Dy(t,e){return sg(t,e)}function YT(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(t,e,n,i){return new YT(t,e,n,i)}function Xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function XT(t){if(typeof t=="function")return Xc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mc)return 11;if(t===gc)return 14}return 2}function bn(t,e){var n=t.alternate;return n===null?(n=vt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Os(t,e,n,i,r,o){var s=2;if(i=t,typeof t=="function")Xc(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ki:return oi(n.children,r,o,e);case pc:s=8,r|=8;break;case ja:return t=vt(12,n,e,r|2),t.elementType=ja,t.lanes=o,t;case Za:return t=vt(13,n,e,r),t.elementType=Za,t.lanes=o,t;case eu:return t=vt(19,n,e,r),t.elementType=eu,t.lanes=o,t;case qm:return Bl(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gm:s=10;break e;case Hm:s=9;break e;case mc:s=11;break e;case gc:s=14;break e;case Tn:s=16,i=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=vt(s,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function oi(t,e,n,i){return t=vt(7,t,i,e),t.lanes=n,t}function Bl(t,e,n,i){return t=vt(22,t,i,e),t.elementType=qm,t.lanes=n,t.stateNode={isHidden:!1},t}function Ba(t,e,n){return t=vt(6,t,null,e),t.lanes=n,t}function Ga(t,e,n){return e=vt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QT(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ea(0),this.expirationTimes=Ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Qc(t,e,n,i,r,o,s,u,d){return t=new QT(t,e,n,u,d),e===1?(e=1,o===!0&&(e|=8)):e=0,o=vt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lc(o),t}function jT(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ai,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function Ly(t){if(!t)return Hn;t=t._reactInternals;e:{if(gi(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(at(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(at(n))return Lg(t,n,e)}return e}function Uy(t,e,n,i,r,o,s,u,d){return t=Qc(n,i,!0,t,r,o,s,u,d),t.context=Ly(null),n=t.current,i=Ze(),r=Fn(n),o=rn(i,r),o.callback=e??null,Ln(n,o,r),t.current.lanes=r,No(t,r,i),ut(t,i),t}function Gl(t,e,n,i){var r=e.current,o=Ze(),s=Fn(r);return n=Ly(n),e.context===null?e.context=n:e.pendingContext=n,e=rn(o,s),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Ln(r,e,s),t!==null&&(Lt(t,r,s,o),Ds(t,r,s)),s}function ml(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Eh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jc(t,e){Eh(t,e),(t=t.alternate)&&Eh(t,e)}function ZT(){return null}var Fy=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zc(t){this._internalRoot=t}Hl.prototype.render=Zc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));Gl(t,e,null,null)};Hl.prototype.unmount=Zc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;di(function(){Gl(null,t,null,null)}),e[sn]=null}};function Hl(t){this._internalRoot=t}Hl.prototype.unstable_scheduleHydration=function(t){if(t){var e=hg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Sn.length&&e!==0&&e<Sn[n].priority;n++);Sn.splice(n,0,t),n===0&&mg(t)}};function ed(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ql(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sh(){}function eE(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var f=ml(s);o.call(f)}}var s=Uy(e,i,t,0,null,!1,!1,"",Sh);return t._reactRootContainer=s,t[sn]=s.current,vo(t.nodeType===8?t.parentNode:t),di(),s}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var u=i;i=function(){var f=ml(d);u.call(f)}}var d=Qc(t,0,!1,null,null,!1,!1,"",Sh);return t._reactRootContainer=d,t[sn]=d.current,vo(t.nodeType===8?t.parentNode:t),di(function(){Gl(e,d,n,i)}),d}function $l(t,e,n,i,r){var o=n._reactRootContainer;if(o){var s=o;if(typeof r=="function"){var u=r;r=function(){var d=ml(s);u.call(d)}}Gl(e,s,t,r)}else s=eE(n,e,t,r,i);return ml(s)}dg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yr(e.pendingLanes);n!==0&&(vc(e,n|1),ut(e,ke()),!(oe&6)&&(sr=ke()+500,zn()))}break;case 13:di(function(){var i=ln(t,1);if(i!==null){var r=Ze();Lt(i,t,1,r)}}),jc(t,1)}};Tc=function(t){if(t.tag===13){var e=ln(t,134217728);if(e!==null){var n=Ze();Lt(e,t,134217728,n)}jc(t,134217728)}};fg=function(t){if(t.tag===13){var e=Fn(t),n=ln(t,e);if(n!==null){var i=Ze();Lt(n,t,e,i)}jc(t,e)}};hg=function(){return de};pg=function(t,e){var n=de;try{return de=t,e()}finally{de=n}};cu=function(t,e,n){switch(e){case"input":if(iu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Ll(i);if(!r)throw Error(O(90));zm(i),iu(i,r)}}}break;case"textarea":Jm(t,n);break;case"select":e=n.value,e!=null&&Bi(t,!!n.multiple,e,!1)}};eg=Jc;tg=di;var tE={usingClientEntryPoint:!1,Events:[Do,Ni,Ll,jm,Zm,Jc]},zr={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nE={bundleType:zr.bundleType,version:zr.version,rendererPackageName:zr.rendererPackageName,rendererConfig:zr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rg(t),t===null?null:t.stateNode},findFiberByHostInstance:zr.findFiberByHostInstance||ZT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Is.isDisabled&&Is.supportsFiber)try{xl=Is.inject(nE),Ht=Is}catch{}}pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tE;pt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ed(e))throw Error(O(200));return jT(t,e,null,n)};pt.createRoot=function(t,e){if(!ed(t))throw Error(O(299));var n=!1,i="",r=Fy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Qc(t,1,!1,null,null,n,!1,i,r),t[sn]=e.current,vo(t.nodeType===8?t.parentNode:t),new Zc(e)};pt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=rg(e),t=t===null?null:t.stateNode,t};pt.flushSync=function(t){return di(t)};pt.hydrate=function(t,e,n){if(!ql(e))throw Error(O(200));return $l(null,t,e,!0,n)};pt.hydrateRoot=function(t,e,n){if(!ed(t))throw Error(O(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",s=Fy;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Uy(e,null,t,1,n??null,r,!1,o,s),t[sn]=e.current,vo(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Hl(e)};pt.render=function(t,e,n){if(!ql(e))throw Error(O(200));return $l(null,t,e,!1,n)};pt.unmountComponentAtNode=function(t){if(!ql(t))throw Error(O(40));return t._reactRootContainer?(di(function(){$l(null,null,t,!1,function(){t._reactRootContainer=null,t[sn]=null})}),!0):!1};pt.unstable_batchedUpdates=Jc;pt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!ql(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return $l(t,e,n,!1,i)};pt.version="18.3.1-next-f1338f8080-20240426";function by(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(by)}catch(t){console.error(t)}}by(),bm.exports=pt;var iE=bm.exports,Ch=iE;Zi.createRoot=Ch.createRoot,Zi.hydrateRoot=Ch.hydrateRoot;const Uo=({onClose:t,isClosing:e,className:n="",children:i})=>_.jsx("div",{className:`modal-backdrop${e?" closing":""}`,children:_.jsxs("div",{className:`modal-content ${n}`,children:[_.jsx("button",{className:"modal-close",onClick:t,"aria-label":"Close",children:"×"}),i]})}),rE=({onClose:t})=>_.jsx("div",{className:"modal-backdrop",children:_.jsxs("div",{className:"modal-content",children:[_.jsx("h2",{children:"PWA 설치 안내"}),_.jsx("p",{children:"이 앱을 홈 화면에 추가하여 더 편리하게 사용하세요!"}),_.jsx("button",{onClick:t,children:"닫기"})]})});function Fo(t){const[e,n]=B.useState(!1);return[e,()=>{n(!0),setTimeout(()=>{n(!1),t()},200)}]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let oE,sE;function lE(){return{geminiUrl:oE,vertexUrl:sE}}function aE(t,e,n,i){var r,o;if(!(t!=null&&t.baseUrl)){const s=lE();return e?(r=s.vertexUrl)!==null&&r!==void 0?r:n:(o=s.geminiUrl)!==null&&o!==void 0?o:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yi{}function J(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const o=e[r];return o!=null?String(o):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const d=t[u];if(Array.isArray(n))for(let f=0;f<d.length;f++){const h=d[f];c(h,e.slice(o+1),n[f])}else for(const f of d)c(f,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const d=t[u];c(d[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const i=e[e.length-1],r=t[i];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function a(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const r=e[i];if(r.endsWith("[]")){const o=r.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(u=>a(u,e.slice(i+1),n)):n}else return n}else t=t[r]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function uE(t,e){for(const[n,i]of Object.entries(e)){const r=n.split("."),o=i.split("."),s=new Set;let u=-1;for(let d=0;d<r.length;d++)if(r[d]==="*"){u=d;break}if(u!==-1&&o.length>u)for(let d=u;d<o.length;d++){const f=o[d];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}qu(t,r,o,0,s)}}function qu(t,e,n,i,r){if(i>=e.length||typeof t!="object"||t===null)return;const o=e[i];if(o.endsWith("[]")){const s=o.slice(0,-2),u=t;if(s in u&&Array.isArray(u[s]))for(const d of u[s])qu(d,e,n,i+1,r)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,u=Object.keys(s).filter(f=>!f.startsWith("_")&&!r.has(f)),d={};for(const f of u)d[f]=s[f];for(const[f,h]of Object.entries(d)){const m=[];for(const g of n.slice(i))g==="*"?m.push(f):m.push(g);c(s,m,h)}for(const f of u)delete s[f]}}else{const s=t;o in s&&qu(s[o],e,n,i+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function td(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cE(t){const e={},n=a(t,["operationName"]);n!=null&&c(e,["operationName"],n);const i=a(t,["resourceName"]);return i!=null&&c(e,["_url","resourceName"],i),e}function dE(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const i=a(t,["metadata"]);i!=null&&c(e,["metadata"],i);const r=a(t,["done"]);r!=null&&c(e,["done"],r);const o=a(t,["error"]);o!=null&&c(e,["error"],o);const s=a(t,["response","generateVideoResponse"]);return s!=null&&c(e,["response"],hE(s)),e}function fE(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const i=a(t,["metadata"]);i!=null&&c(e,["metadata"],i);const r=a(t,["done"]);r!=null&&c(e,["done"],r);const o=a(t,["error"]);o!=null&&c(e,["error"],o);const s=a(t,["response"]);return s!=null&&c(e,["response"],pE(s)),e}function hE(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>mE(s))),c(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&c(e,["raiMediaFilteredCount"],i);const r=a(t,["raiMediaFilteredReasons"]);return r!=null&&c(e,["raiMediaFilteredReasons"],r),e}function pE(t){const e={},n=a(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>gE(s))),c(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&c(e,["raiMediaFilteredCount"],i);const r=a(t,["raiMediaFilteredReasons"]);return r!=null&&c(e,["raiMediaFilteredReasons"],r),e}function mE(t){const e={},n=a(t,["video"]);return n!=null&&c(e,["video"],vE(n)),e}function gE(t){const e={},n=a(t,["_self"]);return n!=null&&c(e,["video"],TE(n)),e}function yE(t){const e={},n=a(t,["operationName"]);return n!=null&&c(e,["_url","operationName"],n),e}function _E(t){const e={},n=a(t,["operationName"]);return n!=null&&c(e,["_url","operationName"],n),e}function vE(t){const e={},n=a(t,["uri"]);n!=null&&c(e,["uri"],n);const i=a(t,["encodedVideo"]);i!=null&&c(e,["videoBytes"],td(i));const r=a(t,["encoding"]);return r!=null&&c(e,["mimeType"],r),e}function TE(t){const e={},n=a(t,["gcsUri"]);n!=null&&c(e,["uri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&c(e,["videoBytes"],td(i));const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wh;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(wh||(wh={}));var Ih;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Ih||(Ih={}));var Ah;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Ah||(Ah={}));var Nt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Nt||(Nt={}));var kh;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(kh||(kh={}));var Ph;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Ph||(Ph={}));var Rh;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Rh||(Rh={}));var xh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(xh||(xh={}));var Nh;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Nh||(Nh={}));var Mh;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Mh||(Mh={}));var Dh;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Dh||(Dh={}));var Lh;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(Lh||(Lh={}));var Uh;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Uh||(Uh={}));var Fh;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Fh||(Fh={}));var bh;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(bh||(bh={}));var Vh;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Vh||(Vh={}));var gl;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(gl||(gl={}));var Oh;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Oh||(Oh={}));var $u;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})($u||($u={}));var Bh;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Bh||(Bh={}));var Gh;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Gh||(Gh={}));var Hh;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})(Hh||(Hh={}));var qh;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(qh||(qh={}));var $h;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})($h||($h={}));var zh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(zh||(zh={}));var Wh;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Wh||(Wh={}));var Jh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Jh||(Jh={}));var Kh;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Kh||(Kh={}));var Yh;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Yh||(Yh={}));var Xh;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Xh||(Xh={}));var Qh;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Qh||(Qh={}));var jh;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(jh||(jh={}));var Zh;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Zh||(Zh={}));var ep;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ep||(ep={}));var tp;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(tp||(tp={}));var np;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(np||(np={}));var ip;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(ip||(ip={}));var rp;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(rp||(rp={}));var op;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(op||(op={}));var sp;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(sp||(sp={}));var lp;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(lp||(lp={}));var ap;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(ap||(ap={}));var up;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(up||(up={}));var cp;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(cp||(cp={}));var dp;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(dp||(dp={}));var fp;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(fp||(fp={}));var hp;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(hp||(hp={}));var pp;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(pp||(pp={}));var Vi;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Vi||(Vi={}));class zu{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Wr{get text(){var e,n,i,r,o,s,u,d;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const m=[];for(const g of(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[I,k]of Object.entries(g))I!=="text"&&I!=="thought"&&(k!==null||k!==void 0)&&m.push(I);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,f+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,i,r,o,s,u,d;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const m of(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[g,I]of Object.entries(m))g!=="inlineData"&&(I!==null||I!==void 0)&&h.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,i,r,o,s,u,d;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,i,r,o,s,u,d,f;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,i,r,o,s,u,d,f;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class mp{}class gp{}class EE{}class SE{}class CE{}class wE{}class yp{}class _p{}class vp{}class IE{}class yl{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const i=new yl;let r;const o=e;return n?r=fE(o):r=dE(o),Object.assign(i,r),i}}class Tp{}class Ep{}class Sp{}class AE{}class kE{}class PE{}class Cp{}class RE{get text(){var e,n,i;let r="",o=!1;const s=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[d,f]of Object.entries(u))d!=="text"&&d!=="thought"&&f!==null&&s.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,r+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?r:void 0}get data(){var e,n,i;let r="";const o=[];for(const s of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[u,d]of Object.entries(s))u!=="inlineData"&&d!==null&&o.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(r+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class xE{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ae(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Vy(t,e){const n=ae(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Oy(t){return Array.isArray(t)?t.map(e=>_l(e)):[_l(t)]}function _l(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function By(t){const e=_l(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Gy(t){const e=_l(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function wp(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Hy(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>wp(e)):[wp(t)]}function Wu(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Ip(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Ap(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function We(t){if(t==null)throw new Error("ContentUnion is required");return Wu(t)?t:{role:"user",parts:Hy(t)}}function nd(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=We(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=We(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>We(n)):[We(e)]}function Et(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Ip(t)||Ap(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[We(t)]}const e=[],n=[],i=Wu(t[0]);for(const r of t){const o=Wu(r);if(o!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(r);else{if(Ip(r)||Ap(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return i||e.push({role:"user",parts:Hy(n)}),e}function NE(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Nt).includes(n[0].toUpperCase())?n[0].toUpperCase():Nt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Nt).includes(i.toUpperCase())?i.toUpperCase():Nt.TYPE_UNSPECIFIED})}}function Wi(t){const e={},n=["items"],i=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&NE(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Nt).includes(u.toUpperCase())?u.toUpperCase():Nt.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Wi(u);else if(i.includes(s)){const d=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}d.push(Wi(f))}e[s]=d}else if(r.includes(s)){const d={};for(const[f,h]of Object.entries(u))d[f]=Wi(h);e[s]=d}else{if(s==="additionalProperties")continue;e[s]=u}return e}function id(t){return Wi(t)}function rd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function od(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function hr(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Wi(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Wi(e.response));return t}function pr(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function ME(t,e,n,i=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function hn(t,e){if(typeof e!="string")throw new Error("name must be a string");return ME(t,e,"cachedContents")}function qy(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Wn(t){return td(t)}function DE(t){return t!=null&&typeof t=="object"&&"name"in t}function LE(t){return t!=null&&typeof t=="object"&&"video"in t}function UE(t){return t!=null&&typeof t=="object"&&"uri"in t}function $y(t){var e;let n;if(DE(t)&&(n=t.name),!(UE(t)&&(n=t.uri,n===void 0))&&!(LE(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function zy(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Wy(t){for(const e of["models","tunedModels","publisherModels"])if(FE(t,e))return t[e];return[]}function FE(t,e){return t!==null&&typeof t=="object"&&e in t}function bE(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function VE(t,e={}){const n=[],i=new Set;for(const r of t){const o=r.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const s=bE(r,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function Jy(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function OE(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Ky(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let o=!1;for(const s of r){if(typeof s!="object"||s===null)continue;const d=s.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function mr(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Yy(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BE(t){const e={},n=a(t,["responsesFile"]);n!=null&&c(e,["fileName"],n);const i=a(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>yS(s))),c(e,["inlinedResponses"],o)}const r=a(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),c(e,["inlinedEmbedContentResponses"],o)}return e}function GE(t){const e={},n=a(t,["predictionsFormat"]);n!=null&&c(e,["format"],n);const i=a(t,["gcsDestination","outputUriPrefix"]);i!=null&&c(e,["gcsUri"],i);const r=a(t,["bigqueryDestination","outputUri"]);return r!=null&&c(e,["bigqueryUri"],r),e}function HE(t){const e={},n=a(t,["format"]);n!=null&&c(e,["predictionsFormat"],n);const i=a(t,["gcsUri"]);i!=null&&c(e,["gcsDestination","outputUriPrefix"],i);const r=a(t,["bigqueryUri"]);if(r!=null&&c(e,["bigqueryDestination","outputUri"],r),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Bs(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const i=a(t,["metadata","displayName"]);i!=null&&c(e,["displayName"],i);const r=a(t,["metadata","state"]);r!=null&&c(e,["state"],Yy(r));const o=a(t,["metadata","createTime"]);o!=null&&c(e,["createTime"],o);const s=a(t,["metadata","endTime"]);s!=null&&c(e,["endTime"],s);const u=a(t,["metadata","updateTime"]);u!=null&&c(e,["updateTime"],u);const d=a(t,["metadata","model"]);d!=null&&c(e,["model"],d);const f=a(t,["metadata","output"]);return f!=null&&c(e,["dest"],BE(Ky(f))),e}function Ju(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const i=a(t,["displayName"]);i!=null&&c(e,["displayName"],i);const r=a(t,["state"]);r!=null&&c(e,["state"],Yy(r));const o=a(t,["error"]);o!=null&&c(e,["error"],o);const s=a(t,["createTime"]);s!=null&&c(e,["createTime"],s);const u=a(t,["startTime"]);u!=null&&c(e,["startTime"],u);const d=a(t,["endTime"]);d!=null&&c(e,["endTime"],d);const f=a(t,["updateTime"]);f!=null&&c(e,["updateTime"],f);const h=a(t,["model"]);h!=null&&c(e,["model"],h);const m=a(t,["inputConfig"]);m!=null&&c(e,["src"],qE(m));const g=a(t,["outputConfig"]);return g!=null&&c(e,["dest"],GE(Ky(g))),e}function qE(t){const e={},n=a(t,["instancesFormat"]);n!=null&&c(e,["format"],n);const i=a(t,["gcsSource","uris"]);i!=null&&c(e,["gcsUri"],i);const r=a(t,["bigquerySource","inputUri"]);return r!=null&&c(e,["bigqueryUri"],r),e}function $E(t,e){const n={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=a(e,["fileName"]);i!=null&&c(n,["fileName"],i);const r=a(e,["inlinedRequests"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>gS(t,s))),c(n,["requests","requests"],o)}return n}function zE(t){const e={},n=a(t,["format"]);n!=null&&c(e,["instancesFormat"],n);const i=a(t,["gcsUri"]);i!=null&&c(e,["gcsSource","uris"],i);const r=a(t,["bigqueryUri"]);if(r!=null&&c(e,["bigquerySource","inputUri"],r),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function WE(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&c(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function JE(t,e){const n={},i=a(e,["name"]);return i!=null&&c(n,["_url","name"],mr(t,i)),n}function KE(t,e){const n={},i=a(e,["name"]);return i!=null&&c(n,["_url","name"],mr(t,i)),n}function YE(t){const e={},n=a(t,["content"]);n!=null&&c(e,["content"],n);const i=a(t,["citationMetadata"]);i!=null&&c(e,["citationMetadata"],XE(i));const r=a(t,["tokenCount"]);r!=null&&c(e,["tokenCount"],r);const o=a(t,["finishReason"]);o!=null&&c(e,["finishReason"],o);const s=a(t,["urlContextMetadata"]);s!=null&&c(e,["urlContextMetadata"],s);const u=a(t,["avgLogprobs"]);u!=null&&c(e,["avgLogprobs"],u);const d=a(t,["groundingMetadata"]);d!=null&&c(e,["groundingMetadata"],d);const f=a(t,["index"]);f!=null&&c(e,["index"],f);const h=a(t,["logprobsResult"]);h!=null&&c(e,["logprobsResult"],h);const m=a(t,["safetyRatings"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(I=>I)),c(e,["safetyRatings"],g)}return e}function XE(t){const e={},n=a(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),c(e,["citations"],i)}return e}function Xy(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>wS(o))),c(e,["parts"],r)}const i=a(t,["role"]);return i!=null&&c(e,["role"],i),e}function QE(t,e){const n={},i=a(t,["displayName"]);if(e!==void 0&&i!=null&&c(e,["batch","displayName"],i),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function jE(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&c(e,["displayName"],i);const r=a(t,["dest"]);return e!==void 0&&r!=null&&c(e,["outputConfig"],HE(OE(r))),n}function kp(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["_url","model"],ae(t,i));const r=a(e,["src"]);r!=null&&c(n,["batch","inputConfig"],$E(t,Jy(t,r)));const o=a(e,["config"]);return o!=null&&QE(o,n),n}function ZE(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["model"],ae(t,i));const r=a(e,["src"]);r!=null&&c(n,["inputConfig"],zE(Jy(t,r)));const o=a(e,["config"]);return o!=null&&jE(o,n),n}function eS(t,e){const n={},i=a(t,["displayName"]);return e!==void 0&&i!=null&&c(e,["batch","displayName"],i),n}function tS(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["_url","model"],ae(t,i));const r=a(e,["src"]);r!=null&&c(n,["batch","inputConfig"],aS(t,r));const o=a(e,["config"]);return o!=null&&eS(o,n),n}function nS(t,e){const n={},i=a(e,["name"]);return i!=null&&c(n,["_url","name"],mr(t,i)),n}function iS(t,e){const n={},i=a(e,["name"]);return i!=null&&c(n,["_url","name"],mr(t,i)),n}function rS(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=a(t,["name"]);i!=null&&c(e,["name"],i);const r=a(t,["done"]);r!=null&&c(e,["done"],r);const o=a(t,["error"]);return o!=null&&c(e,["error"],o),e}function oS(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=a(t,["name"]);i!=null&&c(e,["name"],i);const r=a(t,["done"]);r!=null&&c(e,["done"],r);const o=a(t,["error"]);return o!=null&&c(e,["error"],o),e}function sS(t,e){const n={},i=a(e,["contents"]);if(i!=null){let o=nd(t,i);Array.isArray(o)&&(o=o.map(s=>s)),c(n,["requests[]","request","content"],o)}const r=a(e,["config"]);return r!=null&&(c(n,["_self"],lS(r,n)),uE(n,{"requests[].*":"requests[].request.*"})),n}function lS(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&c(e,["requests[]","taskType"],i);const r=a(t,["title"]);e!==void 0&&r!=null&&c(e,["requests[]","title"],r);const o=a(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&c(e,["requests[]","outputDimensionality"],o),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function aS(t,e){const n={},i=a(e,["fileName"]);i!=null&&c(n,["file_name"],i);const r=a(e,["inlinedRequests"]);return r!=null&&c(n,["requests"],sS(t,r)),n}function uS(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function cS(t,e,n){const i={},r=a(e,["systemInstruction"]);n!==void 0&&r!=null&&c(n,["systemInstruction"],Xy(We(r)));const o=a(e,["temperature"]);o!=null&&c(i,["temperature"],o);const s=a(e,["topP"]);s!=null&&c(i,["topP"],s);const u=a(e,["topK"]);u!=null&&c(i,["topK"],u);const d=a(e,["candidateCount"]);d!=null&&c(i,["candidateCount"],d);const f=a(e,["maxOutputTokens"]);f!=null&&c(i,["maxOutputTokens"],f);const h=a(e,["stopSequences"]);h!=null&&c(i,["stopSequences"],h);const m=a(e,["responseLogprobs"]);m!=null&&c(i,["responseLogprobs"],m);const g=a(e,["logprobs"]);g!=null&&c(i,["logprobs"],g);const I=a(e,["presencePenalty"]);I!=null&&c(i,["presencePenalty"],I);const k=a(e,["frequencyPenalty"]);k!=null&&c(i,["frequencyPenalty"],k);const N=a(e,["seed"]);N!=null&&c(i,["seed"],N);const U=a(e,["responseMimeType"]);U!=null&&c(i,["responseMimeType"],U);const P=a(e,["responseSchema"]);P!=null&&c(i,["responseSchema"],id(P));const S=a(e,["responseJsonSchema"]);if(S!=null&&c(i,["responseJsonSchema"],S),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=a(e,["safetySettings"]);if(n!==void 0&&A!=null){let M=A;Array.isArray(M)&&(M=M.map(R=>IS(R))),c(n,["safetySettings"],M)}const D=a(e,["tools"]);if(n!==void 0&&D!=null){let M=pr(D);Array.isArray(M)&&(M=M.map(R=>AS(hr(R)))),c(n,["tools"],M)}const V=a(e,["toolConfig"]);if(n!==void 0&&V!=null&&c(n,["toolConfig"],V),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=a(e,["cachedContent"]);n!==void 0&&b!=null&&c(n,["cachedContent"],hn(t,b));const w=a(e,["responseModalities"]);w!=null&&c(i,["responseModalities"],w);const T=a(e,["mediaResolution"]);T!=null&&c(i,["mediaResolution"],T);const E=a(e,["speechConfig"]);if(E!=null&&c(i,["speechConfig"],rd(E)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const C=a(e,["thinkingConfig"]);C!=null&&c(i,["thinkingConfig"],C);const x=a(e,["imageConfig"]);return x!=null&&c(i,["imageConfig"],x),i}function dS(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=a(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>YE(f))),c(e,["candidates"],d)}const r=a(t,["modelVersion"]);r!=null&&c(e,["modelVersion"],r);const o=a(t,["promptFeedback"]);o!=null&&c(e,["promptFeedback"],o);const s=a(t,["responseId"]);s!=null&&c(e,["responseId"],s);const u=a(t,["usageMetadata"]);return u!=null&&c(e,["usageMetadata"],u),e}function fS(t,e){const n={},i=a(e,["name"]);return i!=null&&c(n,["_url","name"],mr(t,i)),n}function hS(t,e){const n={},i=a(e,["name"]);return i!=null&&c(n,["_url","name"],mr(t,i)),n}function pS(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&c(e,["enableWidget"],n),e}function mS(t){const e={},n=a(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],n),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function gS(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["request","model"],ae(t,i));const r=a(e,["contents"]);if(r!=null){let u=Et(r);Array.isArray(u)&&(u=u.map(d=>Xy(d))),c(n,["request","contents"],u)}const o=a(e,["metadata"]);o!=null&&c(n,["metadata"],o);const s=a(e,["config"]);return s!=null&&c(n,["request","generationConfig"],cS(t,s,a(n,["request"],{}))),n}function yS(t){const e={},n=a(t,["response"]);n!=null&&c(e,["response"],dS(n));const i=a(t,["error"]);return i!=null&&c(e,["error"],i),e}function _S(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const r=a(t,["pageToken"]);if(e!==void 0&&r!=null&&c(e,["_query","pageToken"],r),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function vS(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const r=a(t,["pageToken"]);e!==void 0&&r!=null&&c(e,["_query","pageToken"],r);const o=a(t,["filter"]);return e!==void 0&&o!=null&&c(e,["_query","filter"],o),n}function TS(t){const e={},n=a(t,["config"]);return n!=null&&_S(n,e),e}function ES(t){const e={},n=a(t,["config"]);return n!=null&&vS(n,e),e}function SS(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const r=a(t,["operations"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Bs(s))),c(e,["batchJobs"],o)}return e}function CS(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const r=a(t,["batchPredictionJobs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Ju(s))),c(e,["batchJobs"],o)}return e}function wS(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],n);const i=a(t,["thought"]);i!=null&&c(e,["thought"],i);const r=a(t,["inlineData"]);r!=null&&c(e,["inlineData"],WE(r));const o=a(t,["fileData"]);o!=null&&c(e,["fileData"],uS(o));const s=a(t,["thoughtSignature"]);s!=null&&c(e,["thoughtSignature"],s);const u=a(t,["functionCall"]);u!=null&&c(e,["functionCall"],u);const d=a(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const f=a(t,["executableCode"]);f!=null&&c(e,["executableCode"],f);const h=a(t,["functionResponse"]);h!=null&&c(e,["functionResponse"],h);const m=a(t,["text"]);return m!=null&&c(e,["text"],m),e}function IS(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(t,["category"]);n!=null&&c(e,["category"],n);const i=a(t,["threshold"]);return i!=null&&c(e,["threshold"],i),e}function AS(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),c(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],mS(i));const r=a(t,["googleSearchRetrieval"]);if(r!=null&&c(e,["googleSearchRetrieval"],r),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=a(t,["googleMaps"]);o!=null&&c(e,["googleMaps"],pS(o));const s=a(t,["urlContext"]);s!=null&&c(e,["urlContext"],s);const u=a(t,["computerUse"]);u!=null&&c(e,["computerUse"],u);const d=a(t,["codeExecution"]);return d!=null&&c(e,["codeExecution"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var fi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(fi||(fi={}));class bo{constructor(e,n,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,r)}init(e,n,i){var r,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!i||Object.keys(i).length===0?s={config:{}}:typeof i=="object"?s=Object.assign({},i):s=i,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(r=s.config)===null||r===void 0?void 0:r.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kS extends yi{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new bo(fi.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=kp(this.apiClient,e),i=n._url,r=J("{model}:batchGenerateContent",i),u=n.batch.inputConfig.requests,d=u.requests,f=[];for(const h of d){const m=Object.assign({},h);if(m.systemInstruction){const g=m.systemInstruction;delete m.systemInstruction;const I=m.request;I.systemInstruction=g,m.request=I}f.push(m)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?i.dest=`${o.slice(0,-6)}/dest`:i.dest=`${o}_dest_${r}`;else if(s)i.dest=`${s}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=ZE(this.apiClient,e);return u=J("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Ju(h))}else{const f=kp(this.apiClient,e);return u=J("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>Bs(h))}}async createEmbeddingsInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=tS(this.apiClient,e);return o=J("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>Bs(d))}}async get(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=hS(this.apiClient,e);return u=J("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Ju(h))}else{const f=fS(this.apiClient,e);return u=J("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>Bs(h))}}async cancel(e){var n,i,r,o;let s="",u={};if(this.apiClient.isVertexAI()){const d=KE(this.apiClient,e);s=J("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const d=JE(this.apiClient,e);s=J("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=ES(e);return u=J("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=CS(h),g=new Cp;return Object.assign(g,m),g})}else{const f=TS(e);return u=J("batches",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=SS(h),g=new Cp;return Object.assign(g,m),g})}}async delete(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=iS(this.apiClient,e);return u=J("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>oS(h))}else{const f=nS(this.apiClient,e);return u=J("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>rS(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PS(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&c(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Pp(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>YS(o))),c(e,["parts"],r)}const i=a(t,["role"]);return i!=null&&c(e,["role"],i),e}function RS(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);const r=a(t,["expireTime"]);e!==void 0&&r!=null&&c(e,["expireTime"],r);const o=a(t,["displayName"]);e!==void 0&&o!=null&&c(e,["displayName"],o);const s=a(t,["contents"]);if(e!==void 0&&s!=null){let h=Et(s);Array.isArray(h)&&(h=h.map(m=>Pp(m))),c(e,["contents"],h)}const u=a(t,["systemInstruction"]);e!==void 0&&u!=null&&c(e,["systemInstruction"],Pp(We(u)));const d=a(t,["tools"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>XS(m))),c(e,["tools"],h)}const f=a(t,["toolConfig"]);if(e!==void 0&&f!=null&&c(e,["toolConfig"],f),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function xS(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);const r=a(t,["expireTime"]);e!==void 0&&r!=null&&c(e,["expireTime"],r);const o=a(t,["displayName"]);e!==void 0&&o!=null&&c(e,["displayName"],o);const s=a(t,["contents"]);if(e!==void 0&&s!=null){let m=Et(s);Array.isArray(m)&&(m=m.map(g=>g)),c(e,["contents"],m)}const u=a(t,["systemInstruction"]);e!==void 0&&u!=null&&c(e,["systemInstruction"],We(u));const d=a(t,["tools"]);if(e!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>QS(g))),c(e,["tools"],m)}const f=a(t,["toolConfig"]);e!==void 0&&f!=null&&c(e,["toolConfig"],f);const h=a(t,["kmsKeyName"]);return e!==void 0&&h!=null&&c(e,["encryption_spec","kmsKeyName"],h),n}function NS(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["model"],Vy(t,i));const r=a(e,["config"]);return r!=null&&RS(r,n),n}function MS(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["model"],Vy(t,i));const r=a(e,["config"]);return r!=null&&xS(r,n),n}function DS(t,e){const n={},i=a(e,["name"]);return i!=null&&c(n,["_url","name"],hn(t,i)),n}function LS(t,e){const n={},i=a(e,["name"]);return i!=null&&c(n,["_url","name"],hn(t,i)),n}function US(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}function FS(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}function bS(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function VS(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&c(e,["description"],n);const i=a(t,["name"]);i!=null&&c(e,["name"],i);const r=a(t,["parameters"]);r!=null&&c(e,["parameters"],r);const o=a(t,["parametersJsonSchema"]);o!=null&&c(e,["parametersJsonSchema"],o);const s=a(t,["response"]);s!=null&&c(e,["response"],s);const u=a(t,["responseJsonSchema"]);return u!=null&&c(e,["responseJsonSchema"],u),e}function OS(t,e){const n={},i=a(e,["name"]);return i!=null&&c(n,["_url","name"],hn(t,i)),n}function BS(t,e){const n={},i=a(e,["name"]);return i!=null&&c(n,["_url","name"],hn(t,i)),n}function GS(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&c(e,["enableWidget"],n),e}function HS(t){const e={},n=a(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],n),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function qS(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const r=a(t,["pageToken"]);return e!==void 0&&r!=null&&c(e,["_query","pageToken"],r),n}function $S(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const r=a(t,["pageToken"]);return e!==void 0&&r!=null&&c(e,["_query","pageToken"],r),n}function zS(t){const e={},n=a(t,["config"]);return n!=null&&qS(n,e),e}function WS(t){const e={},n=a(t,["config"]);return n!=null&&$S(n,e),e}function JS(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const r=a(t,["cachedContents"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),c(e,["cachedContents"],o)}return e}function KS(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const r=a(t,["cachedContents"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),c(e,["cachedContents"],o)}return e}function YS(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],n);const i=a(t,["thought"]);i!=null&&c(e,["thought"],i);const r=a(t,["inlineData"]);r!=null&&c(e,["inlineData"],PS(r));const o=a(t,["fileData"]);o!=null&&c(e,["fileData"],bS(o));const s=a(t,["thoughtSignature"]);s!=null&&c(e,["thoughtSignature"],s);const u=a(t,["functionCall"]);u!=null&&c(e,["functionCall"],u);const d=a(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const f=a(t,["executableCode"]);f!=null&&c(e,["executableCode"],f);const h=a(t,["functionResponse"]);h!=null&&c(e,["functionResponse"],h);const m=a(t,["text"]);return m!=null&&c(e,["text"],m),e}function XS(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),c(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],HS(i));const r=a(t,["googleSearchRetrieval"]);if(r!=null&&c(e,["googleSearchRetrieval"],r),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=a(t,["googleMaps"]);o!=null&&c(e,["googleMaps"],GS(o));const s=a(t,["urlContext"]);s!=null&&c(e,["urlContext"],s);const u=a(t,["computerUse"]);u!=null&&c(e,["computerUse"],u);const d=a(t,["codeExecution"]);return d!=null&&c(e,["codeExecution"],d),e}function QS(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>VS(g))),c(e,["functionDeclarations"],m)}const i=a(t,["retrieval"]);i!=null&&c(e,["retrieval"],i);const r=a(t,["googleSearch"]);r!=null&&c(e,["googleSearch"],r);const o=a(t,["googleSearchRetrieval"]);o!=null&&c(e,["googleSearchRetrieval"],o);const s=a(t,["enterpriseWebSearch"]);s!=null&&c(e,["enterpriseWebSearch"],s);const u=a(t,["googleMaps"]);u!=null&&c(e,["googleMaps"],u);const d=a(t,["urlContext"]);d!=null&&c(e,["urlContext"],d);const f=a(t,["computerUse"]);f!=null&&c(e,["computerUse"],f);const h=a(t,["codeExecution"]);return h!=null&&c(e,["codeExecution"],h),e}function jS(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);const r=a(t,["expireTime"]);return e!==void 0&&r!=null&&c(e,["expireTime"],r),n}function ZS(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);const r=a(t,["expireTime"]);return e!==void 0&&r!=null&&c(e,["expireTime"],r),n}function eC(t,e){const n={},i=a(e,["name"]);i!=null&&c(n,["_url","name"],hn(t,i));const r=a(e,["config"]);return r!=null&&jS(r,n),n}function tC(t,e){const n={},i=a(e,["name"]);i!=null&&c(n,["_url","name"],hn(t,i));const r=a(e,["config"]);return r!=null&&ZS(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nC extends yi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bo(fi.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=MS(this.apiClient,e);return u=J("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=NS(this.apiClient,e);return u=J("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=BS(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=OS(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=LS(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=FS(h),g=new Ep;return Object.assign(g,m),g})}else{const f=DS(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=US(h),g=new Ep;return Object.assign(g,m),g})}}async update(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=tC(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=eC(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=WS(e);return u=J("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=KS(h),g=new Sp;return Object.assign(g,m),g})}else{const f=zS(e);return u=J("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=JS(h),g=new Sp;return Object.assign(g,m),g})}}}function Rp(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _e(t){return this instanceof _e?(this.v=t,this):new _e(t)}function Ji(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(I){return function(k){return Promise.resolve(k).then(I,m)}}function u(I,k){i[I]&&(r[I]=function(N){return new Promise(function(U,P){o.push([I,N,U,P])>1||d(I,N)})},k&&(r[I]=k(r[I])))}function d(I,k){try{f(i[I](k))}catch(N){g(o[0][3],N)}}function f(I){I.value instanceof _e?Promise.resolve(I.value.v).then(h,m):g(o[0][2],I)}function h(I){d("next",I)}function m(I){d("throw",I)}function g(I,k){I(k),o.shift(),o.length&&d(o[0][0],o[0][1])}}function so(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Rp=="function"?Rp(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(s){return new Promise(function(u,d){s=t[o](s),r(u,d,s.done,s.value)})}}function r(o,s,u,d){Promise.resolve(d).then(function(f){o({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iC(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Qy(n)}function Qy(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function rC(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function xp(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const r=[];let o=!0;for(;i<n&&t[i].role==="model";)r.push(t[i]),o&&!Qy(t[i])&&(o=!1),i++;o?e.push(...r):e.pop()}return e}class oC{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new sC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class sC{constructor(e,n,i,r={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=r,this.history=o,this.sendPromise=Promise.resolve(),rC(o)}async sendMessage(e){var n;await this.sendPromise;const i=We(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,u;const d=await r,f=(s=(o=d.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,h=d.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let g=[];h!=null&&(g=(u=h.slice(m))!==null&&u!==void 0?u:[]);const I=f?[f]:[];this.recordHistory(i,I,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const i=We(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const o=await r;return this.processStreamResponse(o,i)}getHistory(e=!1){const n=e?xp(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,r;return Ji(this,arguments,function*(){var s,u,d,f;const h=[];try{for(var m=!0,g=so(e),I;I=yield _e(g.next()),s=I.done,!s;m=!0){f=I.value,m=!1;const k=f;if(iC(k)){const N=(r=(i=k.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;N!==void 0&&h.push(N)}yield yield _e(k)}}catch(k){u={error:k}}finally{try{!m&&!s&&(d=g.return)&&(yield _e(d.call(g)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,i){let r=[];n.length>0&&n.every(o=>o.role!==void 0)?r=n:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...xp(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,zl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lC(t){const e={},n=a(t,["file"]);return n!=null&&c(e,["file"],n),e}function aC(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}function uC(t){const e={},n=a(t,["name"]);return n!=null&&c(e,["_url","file"],$y(n)),e}function cC(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}function dC(t){const e={},n=a(t,["name"]);return n!=null&&c(e,["_url","file"],$y(n)),e}function fC(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const r=a(t,["pageToken"]);return e!==void 0&&r!=null&&c(e,["_query","pageToken"],r),n}function hC(t){const e={},n=a(t,["config"]);return n!=null&&fC(n,e),e}function pC(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const r=a(t,["files"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),c(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mC extends yi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bo(fi.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hC(e);return o=J("files",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),r.then(d=>{const f=pC(d),h=new AE;return Object.assign(h,f),h})}}async createInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=lC(e);return o=J("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const f=aC(d),h=new kE;return Object.assign(h,f),h})}}async get(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=dC(e);return o=J("files/{file}",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=uC(e);return o=J("files/{file}",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),r.then(d=>{const f=cC(d),h=new PE;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gs(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&c(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function gC(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>NC(o))),c(e,["parts"],r)}const i=a(t,["role"]);return i!=null&&c(e,["role"],i),e}function yC(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function _C(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&c(e,["description"],n);const i=a(t,["name"]);i!=null&&c(e,["name"],i);const r=a(t,["parameters"]);r!=null&&c(e,["parameters"],r);const o=a(t,["parametersJsonSchema"]);o!=null&&c(e,["parametersJsonSchema"],o);const s=a(t,["response"]);s!=null&&c(e,["response"],s);const u=a(t,["responseJsonSchema"]);return u!=null&&c(e,["responseJsonSchema"],u),e}function vC(t){const e={},n=a(t,["modelSelectionConfig"]);n!=null&&c(e,["modelConfig"],n);const i=a(t,["audioTimestamp"]);i!=null&&c(e,["audioTimestamp"],i);const r=a(t,["candidateCount"]);r!=null&&c(e,["candidateCount"],r);const o=a(t,["enableAffectiveDialog"]);o!=null&&c(e,["enableAffectiveDialog"],o);const s=a(t,["frequencyPenalty"]);s!=null&&c(e,["frequencyPenalty"],s);const u=a(t,["logprobs"]);u!=null&&c(e,["logprobs"],u);const d=a(t,["maxOutputTokens"]);d!=null&&c(e,["maxOutputTokens"],d);const f=a(t,["mediaResolution"]);f!=null&&c(e,["mediaResolution"],f);const h=a(t,["presencePenalty"]);h!=null&&c(e,["presencePenalty"],h);const m=a(t,["responseJsonSchema"]);m!=null&&c(e,["responseJsonSchema"],m);const g=a(t,["responseLogprobs"]);g!=null&&c(e,["responseLogprobs"],g);const I=a(t,["responseMimeType"]);I!=null&&c(e,["responseMimeType"],I);const k=a(t,["responseModalities"]);k!=null&&c(e,["responseModalities"],k);const N=a(t,["responseSchema"]);N!=null&&c(e,["responseSchema"],N);const U=a(t,["routingConfig"]);U!=null&&c(e,["routingConfig"],U);const P=a(t,["seed"]);P!=null&&c(e,["seed"],P);const S=a(t,["speechConfig"]);S!=null&&c(e,["speechConfig"],jy(S));const A=a(t,["stopSequences"]);A!=null&&c(e,["stopSequences"],A);const D=a(t,["temperature"]);D!=null&&c(e,["temperature"],D);const V=a(t,["thinkingConfig"]);V!=null&&c(e,["thinkingConfig"],V);const b=a(t,["topK"]);b!=null&&c(e,["topK"],b);const w=a(t,["topP"]);if(w!=null&&c(e,["topP"],w),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function TC(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&c(e,["enableWidget"],n),e}function EC(t){const e={},n=a(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],n),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function SC(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig"],i);const r=a(t,["responseModalities"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","responseModalities"],r);const o=a(t,["temperature"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig","temperature"],o);const s=a(t,["topP"]);e!==void 0&&s!=null&&c(e,["setup","generationConfig","topP"],s);const u=a(t,["topK"]);e!==void 0&&u!=null&&c(e,["setup","generationConfig","topK"],u);const d=a(t,["maxOutputTokens"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","maxOutputTokens"],d);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","mediaResolution"],f);const h=a(t,["seed"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","seed"],h);const m=a(t,["speechConfig"]);e!==void 0&&m!=null&&c(e,["setup","generationConfig","speechConfig"],od(m));const g=a(t,["thinkingConfig"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","thinkingConfig"],g);const I=a(t,["enableAffectiveDialog"]);e!==void 0&&I!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],I);const k=a(t,["systemInstruction"]);e!==void 0&&k!=null&&c(e,["setup","systemInstruction"],gC(We(k)));const N=a(t,["tools"]);if(e!==void 0&&N!=null){let b=pr(N);Array.isArray(b)&&(b=b.map(w=>DC(hr(w)))),c(e,["setup","tools"],b)}const U=a(t,["sessionResumption"]);e!==void 0&&U!=null&&c(e,["setup","sessionResumption"],MC(U));const P=a(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&c(e,["setup","inputAudioTranscription"],P);const S=a(t,["outputAudioTranscription"]);e!==void 0&&S!=null&&c(e,["setup","outputAudioTranscription"],S);const A=a(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&c(e,["setup","realtimeInputConfig"],A);const D=a(t,["contextWindowCompression"]);e!==void 0&&D!=null&&c(e,["setup","contextWindowCompression"],D);const V=a(t,["proactivity"]);return e!==void 0&&V!=null&&c(e,["setup","proactivity"],V),n}function CC(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig"],vC(i));const r=a(t,["responseModalities"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","responseModalities"],r);const o=a(t,["temperature"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig","temperature"],o);const s=a(t,["topP"]);e!==void 0&&s!=null&&c(e,["setup","generationConfig","topP"],s);const u=a(t,["topK"]);e!==void 0&&u!=null&&c(e,["setup","generationConfig","topK"],u);const d=a(t,["maxOutputTokens"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","maxOutputTokens"],d);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","mediaResolution"],f);const h=a(t,["seed"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","seed"],h);const m=a(t,["speechConfig"]);e!==void 0&&m!=null&&c(e,["setup","generationConfig","speechConfig"],jy(od(m)));const g=a(t,["thinkingConfig"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","thinkingConfig"],g);const I=a(t,["enableAffectiveDialog"]);e!==void 0&&I!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],I);const k=a(t,["systemInstruction"]);e!==void 0&&k!=null&&c(e,["setup","systemInstruction"],We(k));const N=a(t,["tools"]);if(e!==void 0&&N!=null){let b=pr(N);Array.isArray(b)&&(b=b.map(w=>LC(hr(w)))),c(e,["setup","tools"],b)}const U=a(t,["sessionResumption"]);e!==void 0&&U!=null&&c(e,["setup","sessionResumption"],U);const P=a(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&c(e,["setup","inputAudioTranscription"],P);const S=a(t,["outputAudioTranscription"]);e!==void 0&&S!=null&&c(e,["setup","outputAudioTranscription"],S);const A=a(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&c(e,["setup","realtimeInputConfig"],A);const D=a(t,["contextWindowCompression"]);e!==void 0&&D!=null&&c(e,["setup","contextWindowCompression"],D);const V=a(t,["proactivity"]);return e!==void 0&&V!=null&&c(e,["setup","proactivity"],V),n}function wC(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["setup","model"],ae(t,i));const r=a(e,["config"]);return r!=null&&c(n,["config"],SC(r,n)),n}function IC(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["setup","model"],ae(t,i));const r=a(e,["config"]);return r!=null&&c(n,["config"],CC(r,n)),n}function AC(t){const e={},n=a(t,["musicGenerationConfig"]);return n!=null&&c(e,["musicGenerationConfig"],n),e}function kC(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),c(e,["weightedPrompts"],i)}return e}function PC(t){const e={},n=a(t,["media"]);if(n!=null){let f=Oy(n);Array.isArray(f)&&(f=f.map(h=>Gs(h))),c(e,["mediaChunks"],f)}const i=a(t,["audio"]);i!=null&&c(e,["audio"],Gs(Gy(i)));const r=a(t,["audioStreamEnd"]);r!=null&&c(e,["audioStreamEnd"],r);const o=a(t,["video"]);o!=null&&c(e,["video"],Gs(By(o)));const s=a(t,["text"]);s!=null&&c(e,["text"],s);const u=a(t,["activityStart"]);u!=null&&c(e,["activityStart"],u);const d=a(t,["activityEnd"]);return d!=null&&c(e,["activityEnd"],d),e}function RC(t){const e={},n=a(t,["media"]);if(n!=null){let f=Oy(n);Array.isArray(f)&&(f=f.map(h=>h)),c(e,["mediaChunks"],f)}const i=a(t,["audio"]);i!=null&&c(e,["audio"],Gy(i));const r=a(t,["audioStreamEnd"]);r!=null&&c(e,["audioStreamEnd"],r);const o=a(t,["video"]);o!=null&&c(e,["video"],By(o));const s=a(t,["text"]);s!=null&&c(e,["text"],s);const u=a(t,["activityStart"]);u!=null&&c(e,["activityStart"],u);const d=a(t,["activityEnd"]);return d!=null&&c(e,["activityEnd"],d),e}function xC(t){const e={},n=a(t,["setupComplete"]);n!=null&&c(e,["setupComplete"],n);const i=a(t,["serverContent"]);i!=null&&c(e,["serverContent"],i);const r=a(t,["toolCall"]);r!=null&&c(e,["toolCall"],r);const o=a(t,["toolCallCancellation"]);o!=null&&c(e,["toolCallCancellation"],o);const s=a(t,["usageMetadata"]);s!=null&&c(e,["usageMetadata"],UC(s));const u=a(t,["goAway"]);u!=null&&c(e,["goAway"],u);const d=a(t,["sessionResumptionUpdate"]);return d!=null&&c(e,["sessionResumptionUpdate"],d),e}function NC(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],n);const i=a(t,["thought"]);i!=null&&c(e,["thought"],i);const r=a(t,["inlineData"]);r!=null&&c(e,["inlineData"],Gs(r));const o=a(t,["fileData"]);o!=null&&c(e,["fileData"],yC(o));const s=a(t,["thoughtSignature"]);s!=null&&c(e,["thoughtSignature"],s);const u=a(t,["functionCall"]);u!=null&&c(e,["functionCall"],u);const d=a(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const f=a(t,["executableCode"]);f!=null&&c(e,["executableCode"],f);const h=a(t,["functionResponse"]);h!=null&&c(e,["functionResponse"],h);const m=a(t,["text"]);return m!=null&&c(e,["text"],m),e}function MC(t){const e={},n=a(t,["handle"]);if(n!=null&&c(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function jy(t){const e={},n=a(t,["voiceConfig"]);if(n!=null&&c(e,["voiceConfig"],n),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=a(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function DC(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),c(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],EC(i));const r=a(t,["googleSearchRetrieval"]);if(r!=null&&c(e,["googleSearchRetrieval"],r),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=a(t,["googleMaps"]);o!=null&&c(e,["googleMaps"],TC(o));const s=a(t,["urlContext"]);s!=null&&c(e,["urlContext"],s);const u=a(t,["computerUse"]);u!=null&&c(e,["computerUse"],u);const d=a(t,["codeExecution"]);return d!=null&&c(e,["codeExecution"],d),e}function LC(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>_C(g))),c(e,["functionDeclarations"],m)}const i=a(t,["retrieval"]);i!=null&&c(e,["retrieval"],i);const r=a(t,["googleSearch"]);r!=null&&c(e,["googleSearch"],r);const o=a(t,["googleSearchRetrieval"]);o!=null&&c(e,["googleSearchRetrieval"],o);const s=a(t,["enterpriseWebSearch"]);s!=null&&c(e,["enterpriseWebSearch"],s);const u=a(t,["googleMaps"]);u!=null&&c(e,["googleMaps"],u);const d=a(t,["urlContext"]);d!=null&&c(e,["urlContext"],d);const f=a(t,["computerUse"]);f!=null&&c(e,["computerUse"],f);const h=a(t,["codeExecution"]);return h!=null&&c(e,["codeExecution"],h),e}function UC(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&c(e,["promptTokenCount"],n);const i=a(t,["cachedContentTokenCount"]);i!=null&&c(e,["cachedContentTokenCount"],i);const r=a(t,["candidatesTokenCount"]);r!=null&&c(e,["responseTokenCount"],r);const o=a(t,["toolUsePromptTokenCount"]);o!=null&&c(e,["toolUsePromptTokenCount"],o);const s=a(t,["thoughtsTokenCount"]);s!=null&&c(e,["thoughtsTokenCount"],s);const u=a(t,["totalTokenCount"]);u!=null&&c(e,["totalTokenCount"],u);const d=a(t,["promptTokensDetails"]);if(d!=null){let I=d;Array.isArray(I)&&(I=I.map(k=>k)),c(e,["promptTokensDetails"],I)}const f=a(t,["cacheTokensDetails"]);if(f!=null){let I=f;Array.isArray(I)&&(I=I.map(k=>k)),c(e,["cacheTokensDetails"],I)}const h=a(t,["candidatesTokensDetails"]);if(h!=null){let I=h;Array.isArray(I)&&(I=I.map(k=>k)),c(e,["responseTokensDetails"],I)}const m=a(t,["toolUsePromptTokensDetails"]);if(m!=null){let I=m;Array.isArray(I)&&(I=I.map(k=>k)),c(e,["toolUsePromptTokensDetails"],I)}const g=a(t,["trafficType"]);return g!=null&&c(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FC(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&c(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function bC(t){const e={},n=a(t,["content"]);n!=null&&c(e,["content"],n);const i=a(t,["citationMetadata"]);i!=null&&c(e,["citationMetadata"],VC(i));const r=a(t,["tokenCount"]);r!=null&&c(e,["tokenCount"],r);const o=a(t,["finishReason"]);o!=null&&c(e,["finishReason"],o);const s=a(t,["urlContextMetadata"]);s!=null&&c(e,["urlContextMetadata"],s);const u=a(t,["avgLogprobs"]);u!=null&&c(e,["avgLogprobs"],u);const d=a(t,["groundingMetadata"]);d!=null&&c(e,["groundingMetadata"],d);const f=a(t,["index"]);f!=null&&c(e,["index"],f);const h=a(t,["logprobsResult"]);h!=null&&c(e,["logprobsResult"],h);const m=a(t,["safetyRatings"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(I=>I)),c(e,["safetyRatings"],g)}return e}function VC(t){const e={},n=a(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),c(e,["citations"],i)}return e}function OC(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["_url","model"],ae(t,i));const r=a(e,["contents"]);if(r!=null){let o=Et(r);Array.isArray(o)&&(o=o.map(s=>s)),c(n,["contents"],o)}return n}function BC(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=a(t,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),c(e,["tokensInfo"],r)}return e}function GC(t){const e={},n=a(t,["values"]);n!=null&&c(e,["values"],n);const i=a(t,["statistics"]);return i!=null&&c(e,["statistics"],HC(i)),e}function HC(t){const e={},n=a(t,["truncated"]);n!=null&&c(e,["truncated"],n);const i=a(t,["token_count"]);return i!=null&&c(e,["tokenCount"],i),e}function Wl(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>Jw(o))),c(e,["parts"],r)}const i=a(t,["role"]);return i!=null&&c(e,["role"],i),e}function qC(t){const e={},n=a(t,["controlType"]);n!=null&&c(e,["controlType"],n);const i=a(t,["enableControlImageComputation"]);return i!=null&&c(e,["computeControl"],i),e}function $C(t){const e={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function zC(t,e){const n={},i=a(t,["systemInstruction"]);e!==void 0&&i!=null&&c(e,["systemInstruction"],We(i));const r=a(t,["tools"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>i_(u))),c(e,["tools"],s)}const o=a(t,["generationConfig"]);return e!==void 0&&o!=null&&c(e,["generationConfig"],Lw(o)),n}function WC(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["_url","model"],ae(t,i));const r=a(e,["contents"]);if(r!=null){let s=Et(r);Array.isArray(s)&&(s=s.map(u=>Wl(u))),c(n,["contents"],s)}const o=a(e,["config"]);return o!=null&&$C(o),n}function JC(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["_url","model"],ae(t,i));const r=a(e,["contents"]);if(r!=null){let s=Et(r);Array.isArray(s)&&(s=s.map(u=>u)),c(n,["contents"],s)}const o=a(e,["config"]);return o!=null&&zC(o,n),n}function KC(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=a(t,["totalTokens"]);i!=null&&c(e,["totalTokens"],i);const r=a(t,["cachedContentTokenCount"]);return r!=null&&c(e,["cachedContentTokenCount"],r),e}function YC(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=a(t,["totalTokens"]);return i!=null&&c(e,["totalTokens"],i),e}function XC(t,e){const n={},i=a(e,["model"]);return i!=null&&c(n,["_url","name"],ae(t,i)),n}function QC(t,e){const n={},i=a(e,["model"]);return i!=null&&c(n,["_url","name"],ae(t,i)),n}function jC(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}function ZC(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}function ew(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&c(e,["parameters","storageUri"],i);const r=a(t,["negativePrompt"]);e!==void 0&&r!=null&&c(e,["parameters","negativePrompt"],r);const o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&c(e,["parameters","sampleCount"],o);const s=a(t,["aspectRatio"]);e!==void 0&&s!=null&&c(e,["parameters","aspectRatio"],s);const u=a(t,["guidanceScale"]);e!==void 0&&u!=null&&c(e,["parameters","guidanceScale"],u);const d=a(t,["seed"]);e!==void 0&&d!=null&&c(e,["parameters","seed"],d);const f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&c(e,["parameters","safetySetting"],f);const h=a(t,["personGeneration"]);e!==void 0&&h!=null&&c(e,["parameters","personGeneration"],h);const m=a(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&c(e,["parameters","includeSafetyAttributes"],m);const g=a(t,["includeRaiReason"]);e!==void 0&&g!=null&&c(e,["parameters","includeRaiReason"],g);const I=a(t,["language"]);e!==void 0&&I!=null&&c(e,["parameters","language"],I);const k=a(t,["outputMimeType"]);e!==void 0&&k!=null&&c(e,["parameters","outputOptions","mimeType"],k);const N=a(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&c(e,["parameters","outputOptions","compressionQuality"],N);const U=a(t,["addWatermark"]);e!==void 0&&U!=null&&c(e,["parameters","addWatermark"],U);const P=a(t,["labels"]);e!==void 0&&P!=null&&c(e,["labels"],P);const S=a(t,["editMode"]);e!==void 0&&S!=null&&c(e,["parameters","editMode"],S);const A=a(t,["baseSteps"]);return e!==void 0&&A!=null&&c(e,["parameters","editConfig","baseSteps"],A),n}function tw(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["_url","model"],ae(t,i));const r=a(e,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);const o=a(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>Zw(d))),c(n,["instances[0]","referenceImages"],u)}const s=a(e,["config"]);return s!=null&&ew(s,n),n}function nw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=a(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>Jl(o))),c(e,["generatedImages"],r)}return e}function iw(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&c(e,["requests[]","taskType"],i);const r=a(t,["title"]);e!==void 0&&r!=null&&c(e,["requests[]","title"],r);const o=a(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&c(e,["requests[]","outputDimensionality"],o),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function rw(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&c(e,["instances[]","task_type"],i);const r=a(t,["title"]);e!==void 0&&r!=null&&c(e,["instances[]","title"],r);const o=a(t,["outputDimensionality"]);e!==void 0&&o!=null&&c(e,["parameters","outputDimensionality"],o);const s=a(t,["mimeType"]);e!==void 0&&s!=null&&c(e,["instances[]","mimeType"],s);const u=a(t,["autoTruncate"]);return e!==void 0&&u!=null&&c(e,["parameters","autoTruncate"],u),n}function ow(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["_url","model"],ae(t,i));const r=a(e,["contents"]);if(r!=null){let u=nd(t,r);Array.isArray(u)&&(u=u.map(d=>d)),c(n,["requests[]","content"],u)}const o=a(e,["config"]);o!=null&&iw(o,n);const s=a(e,["model"]);return s!==void 0&&c(n,["requests[]","model"],ae(t,s)),n}function sw(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["_url","model"],ae(t,i));const r=a(e,["contents"]);if(r!=null){let s=nd(t,r);Array.isArray(s)&&(s=s.map(u=>u)),c(n,["instances[]","content"],s)}const o=a(e,["config"]);return o!=null&&rw(o,n),n}function lw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=a(t,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),c(e,["embeddings"],o)}const r=a(t,["metadata"]);return r!=null&&c(e,["metadata"],r),e}function aw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=a(t,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>GC(s))),c(e,["embeddings"],o)}const r=a(t,["metadata"]);return r!=null&&c(e,["metadata"],r),e}function uw(t){const e={},n=a(t,["endpoint"]);n!=null&&c(e,["name"],n);const i=a(t,["deployedModelId"]);return i!=null&&c(e,["deployedModelId"],i),e}function cw(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function dw(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&c(e,["description"],n);const i=a(t,["name"]);i!=null&&c(e,["name"],i);const r=a(t,["parameters"]);r!=null&&c(e,["parameters"],r);const o=a(t,["parametersJsonSchema"]);o!=null&&c(e,["parametersJsonSchema"],o);const s=a(t,["response"]);s!=null&&c(e,["response"],s);const u=a(t,["responseJsonSchema"]);return u!=null&&c(e,["responseJsonSchema"],u),e}function fw(t,e,n){const i={},r=a(e,["systemInstruction"]);n!==void 0&&r!=null&&c(n,["systemInstruction"],Wl(We(r)));const o=a(e,["temperature"]);o!=null&&c(i,["temperature"],o);const s=a(e,["topP"]);s!=null&&c(i,["topP"],s);const u=a(e,["topK"]);u!=null&&c(i,["topK"],u);const d=a(e,["candidateCount"]);d!=null&&c(i,["candidateCount"],d);const f=a(e,["maxOutputTokens"]);f!=null&&c(i,["maxOutputTokens"],f);const h=a(e,["stopSequences"]);h!=null&&c(i,["stopSequences"],h);const m=a(e,["responseLogprobs"]);m!=null&&c(i,["responseLogprobs"],m);const g=a(e,["logprobs"]);g!=null&&c(i,["logprobs"],g);const I=a(e,["presencePenalty"]);I!=null&&c(i,["presencePenalty"],I);const k=a(e,["frequencyPenalty"]);k!=null&&c(i,["frequencyPenalty"],k);const N=a(e,["seed"]);N!=null&&c(i,["seed"],N);const U=a(e,["responseMimeType"]);U!=null&&c(i,["responseMimeType"],U);const P=a(e,["responseSchema"]);P!=null&&c(i,["responseSchema"],id(P));const S=a(e,["responseJsonSchema"]);if(S!=null&&c(i,["responseJsonSchema"],S),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=a(e,["safetySettings"]);if(n!==void 0&&A!=null){let M=A;Array.isArray(M)&&(M=M.map(R=>eI(R))),c(n,["safetySettings"],M)}const D=a(e,["tools"]);if(n!==void 0&&D!=null){let M=pr(D);Array.isArray(M)&&(M=M.map(R=>sI(hr(R)))),c(n,["tools"],M)}const V=a(e,["toolConfig"]);if(n!==void 0&&V!=null&&c(n,["toolConfig"],V),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=a(e,["cachedContent"]);n!==void 0&&b!=null&&c(n,["cachedContent"],hn(t,b));const w=a(e,["responseModalities"]);w!=null&&c(i,["responseModalities"],w);const T=a(e,["mediaResolution"]);T!=null&&c(i,["mediaResolution"],T);const E=a(e,["speechConfig"]);if(E!=null&&c(i,["speechConfig"],rd(E)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const C=a(e,["thinkingConfig"]);C!=null&&c(i,["thinkingConfig"],C);const x=a(e,["imageConfig"]);return x!=null&&c(i,["imageConfig"],x),i}function hw(t,e,n){const i={},r=a(e,["systemInstruction"]);n!==void 0&&r!=null&&c(n,["systemInstruction"],We(r));const o=a(e,["temperature"]);o!=null&&c(i,["temperature"],o);const s=a(e,["topP"]);s!=null&&c(i,["topP"],s);const u=a(e,["topK"]);u!=null&&c(i,["topK"],u);const d=a(e,["candidateCount"]);d!=null&&c(i,["candidateCount"],d);const f=a(e,["maxOutputTokens"]);f!=null&&c(i,["maxOutputTokens"],f);const h=a(e,["stopSequences"]);h!=null&&c(i,["stopSequences"],h);const m=a(e,["responseLogprobs"]);m!=null&&c(i,["responseLogprobs"],m);const g=a(e,["logprobs"]);g!=null&&c(i,["logprobs"],g);const I=a(e,["presencePenalty"]);I!=null&&c(i,["presencePenalty"],I);const k=a(e,["frequencyPenalty"]);k!=null&&c(i,["frequencyPenalty"],k);const N=a(e,["seed"]);N!=null&&c(i,["seed"],N);const U=a(e,["responseMimeType"]);U!=null&&c(i,["responseMimeType"],U);const P=a(e,["responseSchema"]);P!=null&&c(i,["responseSchema"],id(P));const S=a(e,["responseJsonSchema"]);S!=null&&c(i,["responseJsonSchema"],S);const A=a(e,["routingConfig"]);A!=null&&c(i,["routingConfig"],A);const D=a(e,["modelSelectionConfig"]);D!=null&&c(i,["modelConfig"],D);const V=a(e,["safetySettings"]);if(n!==void 0&&V!=null){let ue=V;Array.isArray(ue)&&(ue=ue.map(we=>we)),c(n,["safetySettings"],ue)}const b=a(e,["tools"]);if(n!==void 0&&b!=null){let ue=pr(b);Array.isArray(ue)&&(ue=ue.map(we=>i_(hr(we)))),c(n,["tools"],ue)}const w=a(e,["toolConfig"]);n!==void 0&&w!=null&&c(n,["toolConfig"],w);const T=a(e,["labels"]);n!==void 0&&T!=null&&c(n,["labels"],T);const E=a(e,["cachedContent"]);n!==void 0&&E!=null&&c(n,["cachedContent"],hn(t,E));const C=a(e,["responseModalities"]);C!=null&&c(i,["responseModalities"],C);const x=a(e,["mediaResolution"]);x!=null&&c(i,["mediaResolution"],x);const M=a(e,["speechConfig"]);M!=null&&c(i,["speechConfig"],n_(rd(M)));const R=a(e,["audioTimestamp"]);R!=null&&c(i,["audioTimestamp"],R);const X=a(e,["thinkingConfig"]);X!=null&&c(i,["thinkingConfig"],X);const se=a(e,["imageConfig"]);return se!=null&&c(i,["imageConfig"],se),i}function Np(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["_url","model"],ae(t,i));const r=a(e,["contents"]);if(r!=null){let s=Et(r);Array.isArray(s)&&(s=s.map(u=>Wl(u))),c(n,["contents"],s)}const o=a(e,["config"]);return o!=null&&c(n,["generationConfig"],fw(t,o,n)),n}function Mp(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["_url","model"],ae(t,i));const r=a(e,["contents"]);if(r!=null){let s=Et(r);Array.isArray(s)&&(s=s.map(u=>u)),c(n,["contents"],s)}const o=a(e,["config"]);return o!=null&&c(n,["generationConfig"],hw(t,o,n)),n}function Dp(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=a(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>bC(f))),c(e,["candidates"],d)}const r=a(t,["modelVersion"]);r!=null&&c(e,["modelVersion"],r);const o=a(t,["promptFeedback"]);o!=null&&c(e,["promptFeedback"],o);const s=a(t,["responseId"]);s!=null&&c(e,["responseId"],s);const u=a(t,["usageMetadata"]);return u!=null&&c(e,["usageMetadata"],u),e}function Lp(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=a(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>h)),c(e,["candidates"],f)}const r=a(t,["createTime"]);r!=null&&c(e,["createTime"],r);const o=a(t,["modelVersion"]);o!=null&&c(e,["modelVersion"],o);const s=a(t,["promptFeedback"]);s!=null&&c(e,["promptFeedback"],s);const u=a(t,["responseId"]);u!=null&&c(e,["responseId"],u);const d=a(t,["usageMetadata"]);return d!=null&&c(e,["usageMetadata"],d),e}function pw(t,e){const n={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&c(e,["parameters","sampleCount"],i);const r=a(t,["aspectRatio"]);e!==void 0&&r!=null&&c(e,["parameters","aspectRatio"],r);const o=a(t,["guidanceScale"]);if(e!==void 0&&o!=null&&c(e,["parameters","guidanceScale"],o),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=a(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&c(e,["parameters","safetySetting"],s);const u=a(t,["personGeneration"]);e!==void 0&&u!=null&&c(e,["parameters","personGeneration"],u);const d=a(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&c(e,["parameters","includeSafetyAttributes"],d);const f=a(t,["includeRaiReason"]);e!==void 0&&f!=null&&c(e,["parameters","includeRaiReason"],f);const h=a(t,["language"]);e!==void 0&&h!=null&&c(e,["parameters","language"],h);const m=a(t,["outputMimeType"]);e!==void 0&&m!=null&&c(e,["parameters","outputOptions","mimeType"],m);const g=a(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&c(e,["parameters","outputOptions","compressionQuality"],g),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=a(t,["imageSize"]);if(e!==void 0&&I!=null&&c(e,["parameters","sampleImageSize"],I),a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function mw(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&c(e,["parameters","storageUri"],i);const r=a(t,["negativePrompt"]);e!==void 0&&r!=null&&c(e,["parameters","negativePrompt"],r);const o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&c(e,["parameters","sampleCount"],o);const s=a(t,["aspectRatio"]);e!==void 0&&s!=null&&c(e,["parameters","aspectRatio"],s);const u=a(t,["guidanceScale"]);e!==void 0&&u!=null&&c(e,["parameters","guidanceScale"],u);const d=a(t,["seed"]);e!==void 0&&d!=null&&c(e,["parameters","seed"],d);const f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&c(e,["parameters","safetySetting"],f);const h=a(t,["personGeneration"]);e!==void 0&&h!=null&&c(e,["parameters","personGeneration"],h);const m=a(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&c(e,["parameters","includeSafetyAttributes"],m);const g=a(t,["includeRaiReason"]);e!==void 0&&g!=null&&c(e,["parameters","includeRaiReason"],g);const I=a(t,["language"]);e!==void 0&&I!=null&&c(e,["parameters","language"],I);const k=a(t,["outputMimeType"]);e!==void 0&&k!=null&&c(e,["parameters","outputOptions","mimeType"],k);const N=a(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&c(e,["parameters","outputOptions","compressionQuality"],N);const U=a(t,["addWatermark"]);e!==void 0&&U!=null&&c(e,["parameters","addWatermark"],U);const P=a(t,["labels"]);e!==void 0&&P!=null&&c(e,["labels"],P);const S=a(t,["imageSize"]);e!==void 0&&S!=null&&c(e,["parameters","sampleImageSize"],S);const A=a(t,["enhancePrompt"]);return e!==void 0&&A!=null&&c(e,["parameters","enhancePrompt"],A),n}function gw(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["_url","model"],ae(t,i));const r=a(e,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);const o=a(e,["config"]);return o!=null&&pw(o,n),n}function yw(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["_url","model"],ae(t,i));const r=a(e,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);const o=a(e,["config"]);return o!=null&&mw(o,n),n}function _w(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=a(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>xw(s))),c(e,["generatedImages"],o)}const r=a(t,["positivePromptSafetyAttributes"]);return r!=null&&c(e,["positivePromptSafetyAttributes"],e_(r)),e}function vw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=a(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Jl(s))),c(e,["generatedImages"],o)}const r=a(t,["positivePromptSafetyAttributes"]);return r!=null&&c(e,["positivePromptSafetyAttributes"],t_(r)),e}function Tw(t,e){const n={},i=a(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&c(e,["parameters","sampleCount"],i),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=a(t,["durationSeconds"]);if(e!==void 0&&r!=null&&c(e,["parameters","durationSeconds"],r),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=a(t,["aspectRatio"]);e!==void 0&&o!=null&&c(e,["parameters","aspectRatio"],o);const s=a(t,["resolution"]);e!==void 0&&s!=null&&c(e,["parameters","resolution"],s);const u=a(t,["personGeneration"]);if(e!==void 0&&u!=null&&c(e,["parameters","personGeneration"],u),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=a(t,["negativePrompt"]);e!==void 0&&d!=null&&c(e,["parameters","negativePrompt"],d);const f=a(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&c(e,["parameters","enhancePrompt"],f),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=a(t,["lastFrame"]);e!==void 0&&h!=null&&c(e,["instances[0]","lastFrame"],Kl(h));const m=a(t,["referenceImages"]);if(e!==void 0&&m!=null){let g=m;Array.isArray(g)&&(g=g.map(I=>vI(I))),c(e,["instances[0]","referenceImages"],g)}if(a(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Ew(t,e){const n={},i=a(t,["numberOfVideos"]);e!==void 0&&i!=null&&c(e,["parameters","sampleCount"],i);const r=a(t,["outputGcsUri"]);e!==void 0&&r!=null&&c(e,["parameters","storageUri"],r);const o=a(t,["fps"]);e!==void 0&&o!=null&&c(e,["parameters","fps"],o);const s=a(t,["durationSeconds"]);e!==void 0&&s!=null&&c(e,["parameters","durationSeconds"],s);const u=a(t,["seed"]);e!==void 0&&u!=null&&c(e,["parameters","seed"],u);const d=a(t,["aspectRatio"]);e!==void 0&&d!=null&&c(e,["parameters","aspectRatio"],d);const f=a(t,["resolution"]);e!==void 0&&f!=null&&c(e,["parameters","resolution"],f);const h=a(t,["personGeneration"]);e!==void 0&&h!=null&&c(e,["parameters","personGeneration"],h);const m=a(t,["pubsubTopic"]);e!==void 0&&m!=null&&c(e,["parameters","pubsubTopic"],m);const g=a(t,["negativePrompt"]);e!==void 0&&g!=null&&c(e,["parameters","negativePrompt"],g);const I=a(t,["enhancePrompt"]);e!==void 0&&I!=null&&c(e,["parameters","enhancePrompt"],I);const k=a(t,["generateAudio"]);e!==void 0&&k!=null&&c(e,["parameters","generateAudio"],k);const N=a(t,["lastFrame"]);e!==void 0&&N!=null&&c(e,["instances[0]","lastFrame"],Ft(N));const U=a(t,["referenceImages"]);if(e!==void 0&&U!=null){let A=U;Array.isArray(A)&&(A=A.map(D=>TI(D))),c(e,["instances[0]","referenceImages"],A)}const P=a(t,["mask"]);e!==void 0&&P!=null&&c(e,["instances[0]","mask"],_I(P));const S=a(t,["compressionQuality"]);return e!==void 0&&S!=null&&c(e,["parameters","compressionQuality"],S),n}function Sw(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const i=a(t,["metadata"]);i!=null&&c(e,["metadata"],i);const r=a(t,["done"]);r!=null&&c(e,["done"],r);const o=a(t,["error"]);o!=null&&c(e,["error"],o);const s=a(t,["response","generateVideoResponse"]);return s!=null&&c(e,["response"],Aw(s)),e}function Cw(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const i=a(t,["metadata"]);i!=null&&c(e,["metadata"],i);const r=a(t,["done"]);r!=null&&c(e,["done"],r);const o=a(t,["error"]);o!=null&&c(e,["error"],o);const s=a(t,["response"]);return s!=null&&c(e,["response"],kw(s)),e}function ww(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["_url","model"],ae(t,i));const r=a(e,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);const o=a(e,["image"]);o!=null&&c(n,["instances[0]","image"],Kl(o));const s=a(e,["video"]);s!=null&&c(n,["instances[0]","video"],r_(s));const u=a(e,["source"]);u!=null&&Pw(u,n);const d=a(e,["config"]);return d!=null&&Tw(d,n),n}function Iw(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["_url","model"],ae(t,i));const r=a(e,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);const o=a(e,["image"]);o!=null&&c(n,["instances[0]","image"],Ft(o));const s=a(e,["video"]);s!=null&&c(n,["instances[0]","video"],o_(s));const u=a(e,["source"]);u!=null&&Rw(u,n);const d=a(e,["config"]);return d!=null&&Ew(d,n),n}function Aw(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Mw(s))),c(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&c(e,["raiMediaFilteredCount"],i);const r=a(t,["raiMediaFilteredReasons"]);return r!=null&&c(e,["raiMediaFilteredReasons"],r),e}function kw(t){const e={},n=a(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Dw(s))),c(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&c(e,["raiMediaFilteredCount"],i);const r=a(t,["raiMediaFilteredReasons"]);return r!=null&&c(e,["raiMediaFilteredReasons"],r),e}function Pw(t,e){const n={},i=a(t,["prompt"]);e!==void 0&&i!=null&&c(e,["instances[0]","prompt"],i);const r=a(t,["image"]);e!==void 0&&r!=null&&c(e,["instances[0]","image"],Kl(r));const o=a(t,["video"]);return e!==void 0&&o!=null&&c(e,["instances[0]","video"],r_(o)),n}function Rw(t,e){const n={},i=a(t,["prompt"]);e!==void 0&&i!=null&&c(e,["instances[0]","prompt"],i);const r=a(t,["image"]);e!==void 0&&r!=null&&c(e,["instances[0]","image"],Ft(r));const o=a(t,["video"]);return e!==void 0&&o!=null&&c(e,["instances[0]","video"],o_(o)),n}function xw(t){const e={},n=a(t,["_self"]);n!=null&&c(e,["image"],Ow(n));const i=a(t,["raiFilteredReason"]);i!=null&&c(e,["raiFilteredReason"],i);const r=a(t,["_self"]);return r!=null&&c(e,["safetyAttributes"],e_(r)),e}function Jl(t){const e={},n=a(t,["_self"]);n!=null&&c(e,["image"],Zy(n));const i=a(t,["raiFilteredReason"]);i!=null&&c(e,["raiFilteredReason"],i);const r=a(t,["_self"]);r!=null&&c(e,["safetyAttributes"],t_(r));const o=a(t,["prompt"]);return o!=null&&c(e,["enhancedPrompt"],o),e}function Nw(t){const e={},n=a(t,["_self"]);n!=null&&c(e,["mask"],Zy(n));const i=a(t,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),c(e,["labels"],r)}return e}function Mw(t){const e={},n=a(t,["video"]);return n!=null&&c(e,["video"],gI(n)),e}function Dw(t){const e={},n=a(t,["_self"]);return n!=null&&c(e,["video"],yI(n)),e}function Lw(t){const e={},n=a(t,["modelSelectionConfig"]);n!=null&&c(e,["modelConfig"],n);const i=a(t,["audioTimestamp"]);i!=null&&c(e,["audioTimestamp"],i);const r=a(t,["candidateCount"]);r!=null&&c(e,["candidateCount"],r);const o=a(t,["enableAffectiveDialog"]);o!=null&&c(e,["enableAffectiveDialog"],o);const s=a(t,["frequencyPenalty"]);s!=null&&c(e,["frequencyPenalty"],s);const u=a(t,["logprobs"]);u!=null&&c(e,["logprobs"],u);const d=a(t,["maxOutputTokens"]);d!=null&&c(e,["maxOutputTokens"],d);const f=a(t,["mediaResolution"]);f!=null&&c(e,["mediaResolution"],f);const h=a(t,["presencePenalty"]);h!=null&&c(e,["presencePenalty"],h);const m=a(t,["responseJsonSchema"]);m!=null&&c(e,["responseJsonSchema"],m);const g=a(t,["responseLogprobs"]);g!=null&&c(e,["responseLogprobs"],g);const I=a(t,["responseMimeType"]);I!=null&&c(e,["responseMimeType"],I);const k=a(t,["responseModalities"]);k!=null&&c(e,["responseModalities"],k);const N=a(t,["responseSchema"]);N!=null&&c(e,["responseSchema"],N);const U=a(t,["routingConfig"]);U!=null&&c(e,["routingConfig"],U);const P=a(t,["seed"]);P!=null&&c(e,["seed"],P);const S=a(t,["speechConfig"]);S!=null&&c(e,["speechConfig"],n_(S));const A=a(t,["stopSequences"]);A!=null&&c(e,["stopSequences"],A);const D=a(t,["temperature"]);D!=null&&c(e,["temperature"],D);const V=a(t,["thinkingConfig"]);V!=null&&c(e,["thinkingConfig"],V);const b=a(t,["topK"]);b!=null&&c(e,["topK"],b);const w=a(t,["topP"]);if(w!=null&&c(e,["topP"],w),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Uw(t,e){const n={},i=a(e,["model"]);return i!=null&&c(n,["_url","name"],ae(t,i)),n}function Fw(t,e){const n={},i=a(e,["model"]);return i!=null&&c(n,["_url","name"],ae(t,i)),n}function bw(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&c(e,["enableWidget"],n),e}function Vw(t){const e={},n=a(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],n),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Ow(t){const e={},n=a(t,["bytesBase64Encoded"]);n!=null&&c(e,["imageBytes"],Wn(n));const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Zy(t){const e={},n=a(t,["gcsUri"]);n!=null&&c(e,["gcsUri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&c(e,["imageBytes"],Wn(i));const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function Kl(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=a(t,["imageBytes"]);n!=null&&c(e,["bytesBase64Encoded"],Wn(n));const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Ft(t){const e={},n=a(t,["gcsUri"]);n!=null&&c(e,["gcsUri"],n);const i=a(t,["imageBytes"]);i!=null&&c(e,["bytesBase64Encoded"],Wn(i));const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function Bw(t,e,n){const i={},r=a(e,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const o=a(e,["pageToken"]);n!==void 0&&o!=null&&c(n,["_query","pageToken"],o);const s=a(e,["filter"]);n!==void 0&&s!=null&&c(n,["_query","filter"],s);const u=a(e,["queryBase"]);return n!==void 0&&u!=null&&c(n,["_url","models_url"],zy(t,u)),i}function Gw(t,e,n){const i={},r=a(e,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const o=a(e,["pageToken"]);n!==void 0&&o!=null&&c(n,["_query","pageToken"],o);const s=a(e,["filter"]);n!==void 0&&s!=null&&c(n,["_query","filter"],s);const u=a(e,["queryBase"]);return n!==void 0&&u!=null&&c(n,["_url","models_url"],zy(t,u)),i}function Hw(t,e){const n={},i=a(e,["config"]);return i!=null&&Bw(t,i,n),n}function qw(t,e){const n={},i=a(e,["config"]);return i!=null&&Gw(t,i,n),n}function $w(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const r=a(t,["_self"]);if(r!=null){let o=Wy(r);Array.isArray(o)&&(o=o.map(s=>Ku(s))),c(e,["models"],o)}return e}function zw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const r=a(t,["_self"]);if(r!=null){let o=Wy(r);Array.isArray(o)&&(o=o.map(s=>Yu(s))),c(e,["models"],o)}return e}function Ww(t){const e={},n=a(t,["maskMode"]);n!=null&&c(e,["maskMode"],n);const i=a(t,["segmentationClasses"]);i!=null&&c(e,["maskClasses"],i);const r=a(t,["maskDilation"]);return r!=null&&c(e,["dilation"],r),e}function Ku(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const i=a(t,["displayName"]);i!=null&&c(e,["displayName"],i);const r=a(t,["description"]);r!=null&&c(e,["description"],r);const o=a(t,["version"]);o!=null&&c(e,["version"],o);const s=a(t,["_self"]);s!=null&&c(e,["tunedModelInfo"],lI(s));const u=a(t,["inputTokenLimit"]);u!=null&&c(e,["inputTokenLimit"],u);const d=a(t,["outputTokenLimit"]);d!=null&&c(e,["outputTokenLimit"],d);const f=a(t,["supportedGenerationMethods"]);return f!=null&&c(e,["supportedActions"],f),e}function Yu(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const i=a(t,["displayName"]);i!=null&&c(e,["displayName"],i);const r=a(t,["description"]);r!=null&&c(e,["description"],r);const o=a(t,["versionId"]);o!=null&&c(e,["version"],o);const s=a(t,["deployedModels"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>uw(g))),c(e,["endpoints"],m)}const u=a(t,["labels"]);u!=null&&c(e,["labels"],u);const d=a(t,["_self"]);d!=null&&c(e,["tunedModelInfo"],aI(d));const f=a(t,["defaultCheckpointId"]);f!=null&&c(e,["defaultCheckpointId"],f);const h=a(t,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(g=>g)),c(e,["checkpoints"],m)}return e}function Jw(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],n);const i=a(t,["thought"]);i!=null&&c(e,["thought"],i);const r=a(t,["inlineData"]);r!=null&&c(e,["inlineData"],FC(r));const o=a(t,["fileData"]);o!=null&&c(e,["fileData"],cw(o));const s=a(t,["thoughtSignature"]);s!=null&&c(e,["thoughtSignature"],s);const u=a(t,["functionCall"]);u!=null&&c(e,["functionCall"],u);const d=a(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const f=a(t,["executableCode"]);f!=null&&c(e,["executableCode"],f);const h=a(t,["functionResponse"]);h!=null&&c(e,["functionResponse"],h);const m=a(t,["text"]);return m!=null&&c(e,["text"],m),e}function Kw(t){const e={},n=a(t,["productImage"]);return n!=null&&c(e,["image"],Ft(n)),e}function Yw(t,e){const n={},i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&c(e,["parameters","sampleCount"],i);const r=a(t,["baseSteps"]);e!==void 0&&r!=null&&c(e,["parameters","editConfig","baseSteps"],r);const o=a(t,["outputGcsUri"]);e!==void 0&&o!=null&&c(e,["parameters","storageUri"],o);const s=a(t,["seed"]);e!==void 0&&s!=null&&c(e,["parameters","seed"],s);const u=a(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&c(e,["parameters","safetySetting"],u);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&c(e,["parameters","personGeneration"],d);const f=a(t,["addWatermark"]);e!==void 0&&f!=null&&c(e,["parameters","addWatermark"],f);const h=a(t,["outputMimeType"]);e!==void 0&&h!=null&&c(e,["parameters","outputOptions","mimeType"],h);const m=a(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&c(e,["parameters","outputOptions","compressionQuality"],m);const g=a(t,["enhancePrompt"]);e!==void 0&&g!=null&&c(e,["parameters","enhancePrompt"],g);const I=a(t,["labels"]);return e!==void 0&&I!=null&&c(e,["labels"],I),n}function Xw(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["_url","model"],ae(t,i));const r=a(e,["source"]);r!=null&&jw(r,n);const o=a(e,["config"]);return o!=null&&Yw(o,n),n}function Qw(t){const e={},n=a(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Jl(r))),c(e,["generatedImages"],i)}return e}function jw(t,e){const n={},i=a(t,["prompt"]);e!==void 0&&i!=null&&c(e,["instances[0]","prompt"],i);const r=a(t,["personImage"]);e!==void 0&&r!=null&&c(e,["instances[0]","personImage","image"],Ft(r));const o=a(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>Kw(u))),c(e,["instances[0]","productImages"],s)}return n}function Zw(t){const e={},n=a(t,["referenceImage"]);n!=null&&c(e,["referenceImage"],Ft(n));const i=a(t,["referenceId"]);i!=null&&c(e,["referenceId"],i);const r=a(t,["referenceType"]);r!=null&&c(e,["referenceType"],r);const o=a(t,["maskImageConfig"]);o!=null&&c(e,["maskImageConfig"],Ww(o));const s=a(t,["controlImageConfig"]);s!=null&&c(e,["controlImageConfig"],qC(s));const u=a(t,["styleImageConfig"]);u!=null&&c(e,["styleImageConfig"],u);const d=a(t,["subjectImageConfig"]);return d!=null&&c(e,["subjectImageConfig"],d),e}function e_(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&c(e,["categories"],n);const i=a(t,["safetyAttributes","scores"]);i!=null&&c(e,["scores"],i);const r=a(t,["contentType"]);return r!=null&&c(e,["contentType"],r),e}function t_(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&c(e,["categories"],n);const i=a(t,["safetyAttributes","scores"]);i!=null&&c(e,["scores"],i);const r=a(t,["contentType"]);return r!=null&&c(e,["contentType"],r),e}function eI(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(t,["category"]);n!=null&&c(e,["category"],n);const i=a(t,["threshold"]);return i!=null&&c(e,["threshold"],i),e}function tI(t){const e={},n=a(t,["image"]);return n!=null&&c(e,["image"],Ft(n)),e}function nI(t,e){const n={},i=a(t,["mode"]);e!==void 0&&i!=null&&c(e,["parameters","mode"],i);const r=a(t,["maxPredictions"]);e!==void 0&&r!=null&&c(e,["parameters","maxPredictions"],r);const o=a(t,["confidenceThreshold"]);e!==void 0&&o!=null&&c(e,["parameters","confidenceThreshold"],o);const s=a(t,["maskDilation"]);e!==void 0&&s!=null&&c(e,["parameters","maskDilation"],s);const u=a(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&c(e,["parameters","binaryColorThreshold"],u);const d=a(t,["labels"]);return e!==void 0&&d!=null&&c(e,["labels"],d),n}function iI(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["_url","model"],ae(t,i));const r=a(e,["source"]);r!=null&&oI(r,n);const o=a(e,["config"]);return o!=null&&nI(o,n),n}function rI(t){const e={},n=a(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Nw(r))),c(e,["generatedMasks"],i)}return e}function oI(t,e){const n={},i=a(t,["prompt"]);e!==void 0&&i!=null&&c(e,["instances[0]","prompt"],i);const r=a(t,["image"]);e!==void 0&&r!=null&&c(e,["instances[0]","image"],Ft(r));const o=a(t,["scribbleImage"]);return e!==void 0&&o!=null&&c(e,["instances[0]","scribble"],tI(o)),n}function n_(t){const e={},n=a(t,["voiceConfig"]);if(n!=null&&c(e,["voiceConfig"],n),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=a(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function sI(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),c(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],Vw(i));const r=a(t,["googleSearchRetrieval"]);if(r!=null&&c(e,["googleSearchRetrieval"],r),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=a(t,["googleMaps"]);o!=null&&c(e,["googleMaps"],bw(o));const s=a(t,["urlContext"]);s!=null&&c(e,["urlContext"],s);const u=a(t,["computerUse"]);u!=null&&c(e,["computerUse"],u);const d=a(t,["codeExecution"]);return d!=null&&c(e,["codeExecution"],d),e}function i_(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>dw(g))),c(e,["functionDeclarations"],m)}const i=a(t,["retrieval"]);i!=null&&c(e,["retrieval"],i);const r=a(t,["googleSearch"]);r!=null&&c(e,["googleSearch"],r);const o=a(t,["googleSearchRetrieval"]);o!=null&&c(e,["googleSearchRetrieval"],o);const s=a(t,["enterpriseWebSearch"]);s!=null&&c(e,["enterpriseWebSearch"],s);const u=a(t,["googleMaps"]);u!=null&&c(e,["googleMaps"],u);const d=a(t,["urlContext"]);d!=null&&c(e,["urlContext"],d);const f=a(t,["computerUse"]);f!=null&&c(e,["computerUse"],f);const h=a(t,["codeExecution"]);return h!=null&&c(e,["codeExecution"],h),e}function lI(t){const e={},n=a(t,["baseModel"]);n!=null&&c(e,["baseModel"],n);const i=a(t,["createTime"]);i!=null&&c(e,["createTime"],i);const r=a(t,["updateTime"]);return r!=null&&c(e,["updateTime"],r),e}function aI(t){const e={},n=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&c(e,["baseModel"],n);const i=a(t,["createTime"]);i!=null&&c(e,["createTime"],i);const r=a(t,["updateTime"]);return r!=null&&c(e,["updateTime"],r),e}function uI(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&c(e,["displayName"],i);const r=a(t,["description"]);e!==void 0&&r!=null&&c(e,["description"],r);const o=a(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&c(e,["defaultCheckpointId"],o),n}function cI(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&c(e,["displayName"],i);const r=a(t,["description"]);e!==void 0&&r!=null&&c(e,["description"],r);const o=a(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&c(e,["defaultCheckpointId"],o),n}function dI(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["_url","name"],ae(t,i));const r=a(e,["config"]);return r!=null&&uI(r,n),n}function fI(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["_url","model"],ae(t,i));const r=a(e,["config"]);return r!=null&&cI(r,n),n}function hI(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&c(e,["parameters","storageUri"],i);const r=a(t,["includeRaiReason"]);e!==void 0&&r!=null&&c(e,["parameters","includeRaiReason"],r);const o=a(t,["outputMimeType"]);e!==void 0&&o!=null&&c(e,["parameters","outputOptions","mimeType"],o);const s=a(t,["outputCompressionQuality"]);e!==void 0&&s!=null&&c(e,["parameters","outputOptions","compressionQuality"],s);const u=a(t,["enhanceInputImage"]);e!==void 0&&u!=null&&c(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=a(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&c(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=a(t,["labels"]);e!==void 0&&f!=null&&c(e,["labels"],f);const h=a(t,["numberOfImages"]);e!==void 0&&h!=null&&c(e,["parameters","sampleCount"],h);const m=a(t,["mode"]);return e!==void 0&&m!=null&&c(e,["parameters","mode"],m),n}function pI(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["_url","model"],ae(t,i));const r=a(e,["image"]);r!=null&&c(n,["instances[0]","image"],Ft(r));const o=a(e,["upscaleFactor"]);o!=null&&c(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=a(e,["config"]);return s!=null&&hI(s,n),n}function mI(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=a(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>Jl(o))),c(e,["generatedImages"],r)}return e}function gI(t){const e={},n=a(t,["uri"]);n!=null&&c(e,["uri"],n);const i=a(t,["encodedVideo"]);i!=null&&c(e,["videoBytes"],Wn(i));const r=a(t,["encoding"]);return r!=null&&c(e,["mimeType"],r),e}function yI(t){const e={},n=a(t,["gcsUri"]);n!=null&&c(e,["uri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&c(e,["videoBytes"],Wn(i));const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function _I(t){const e={},n=a(t,["image"]);n!=null&&c(e,["_self"],Ft(n));const i=a(t,["maskMode"]);return i!=null&&c(e,["maskMode"],i),e}function vI(t){const e={},n=a(t,["image"]);n!=null&&c(e,["image"],Kl(n));const i=a(t,["referenceType"]);return i!=null&&c(e,["referenceType"],i),e}function TI(t){const e={},n=a(t,["image"]);n!=null&&c(e,["image"],Ft(n));const i=a(t,["referenceType"]);return i!=null&&c(e,["referenceType"],i),e}function r_(t){const e={},n=a(t,["uri"]);n!=null&&c(e,["uri"],n);const i=a(t,["videoBytes"]);i!=null&&c(e,["encodedVideo"],Wn(i));const r=a(t,["mimeType"]);return r!=null&&c(e,["encoding"],r),e}function o_(t){const e={},n=a(t,["uri"]);n!=null&&c(e,["gcsUri"],n);const i=a(t,["videoBytes"]);i!=null&&c(e,["bytesBase64Encoded"],Wn(i));const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EI="Content-Type",SI="X-Server-Timeout",CI="User-Agent",Xu="x-goog-api-client",wI="1.27.0",II=`google-genai-sdk/${wI}`,AI="v1beta1",kI="v1beta",Up=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class PI{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:AI,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:kI,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const r=[this.getRequestUrlInternal(n)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))r.searchParams.append(s,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,r.toString(),e.abortSignal),this.unaryApiCall(r,o,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[r,o]of Object.entries(n))typeof o=="object"?i[r]=Object.assign(Object.assign({},i[r]),o):o!==void 0&&(i[r]=o);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,r.toString(),e.abortSignal),this.streamApiCall(r,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,r){if(n&&n.timeout||r){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}r&&r.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&RI(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await Fp(r),new zu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await Fp(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var n;return Ji(this,arguments,function*(){const r=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:d}=yield _e(r.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(d,{stream:!0});try{const m=JSON.parse(f);if("error"in m){const g=JSON.parse(JSON.stringify(m.error)),I=g.status,k=g.code,N=`got status: ${I}. ${JSON.stringify(m)}`;if(k>=400&&k<600)throw new zl({message:N,status:k})}}catch(m){if(m.name==="ApiError")throw m}s+=f;let h=s.match(Up);for(;h;){const m=h[1];try{const g=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield _e(new zu(g)),s=s.slice(h[0].length),h=s.match(Up)}catch(g){throw new Error(`exception parsing stream chunk ${m}. ${g}`)}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=II+" "+this.clientOptions.userAgentExtra;return e[CI]=n,e[Xu]=n,e[EI]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[r,o]of Object.entries(e.headers))i.append(r,o);e.timeout&&e.timeout>0&&i.append(SI,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}async uploadFile(e,n){var i;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);r.sizeBytes=String(s.size);const u=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const d=await this.fetchUploadUrl(r,n);return o.upload(e,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let r={};n!=null&&n.httpOptions?r=n.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},s=await this.request({path:J("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:r});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=s==null?void 0:s.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Fp(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(i);throw n>=400&&n<600?new zl({message:r,status:n}):new Error(r)}}function RI(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(o,s){const u=Object.assign({},o);for(const d in s)if(Object.prototype.hasOwnProperty.call(s,d)){const f=s[d],h=u[d];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[d]=i(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[d]=f)}return u}const r=i(n,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xI="mcp_used/unknown";let NI=!1;function s_(t){for(const e of t)if(MI(e)||typeof e=="object"&&"inputSchema"in e)return!0;return NI}function l_(t){var e;const n=(e=t[Xu])!==null&&e!==void 0?e:"";t[Xu]=(n+` ${xI}`).trimStart()}function MI(t){return t!==null&&typeof t=="object"&&t instanceof sd}function DI(t,e=100){return Ji(this,arguments,function*(){let i,r=0;for(;r<e;){const o=yield _e(t.listTools({cursor:i}));for(const s of o.tools)yield yield _e(s),r++;if(!o.nextCursor)break;i=o.nextCursor}})}class sd{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new sd(e,n)}async initialize(){var e,n,i,r;if(this.mcpTools.length>0)return;const o={},s=[];for(const h of this.mcpClients)try{for(var u=!0,d=(n=void 0,so(DI(h))),f;f=await d.next(),e=f.done,!e;u=!0){r=f.value,u=!1;const m=r;s.push(m);const g=m.name;if(o[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);o[g]=h}}catch(m){n={error:m}}finally{try{!u&&!e&&(i=d.return)&&await i.call(d)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),VE(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await r.callTool({name:i.name,arguments:i.args},void 0,o);n.push({functionResponse:{name:i.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function LI(t,e,n){const i=new xE;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(i,r),e(i)}class UI{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=VI(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${r}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(A=>{f=A}),m=e.callbacks,g=function(){f({})},I=this.apiClient,k={onopen:g,onmessage:A=>{LI(I,m.onmessage,A)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(A){},onclose:(i=m==null?void 0:m.onclose)!==null&&i!==void 0?i:function(A){}},N=this.webSocketFactory.create(d,bI(s),k);N.connect(),await h;const S={setup:{model:ae(this.apiClient,e.model)}};return N.send(JSON.stringify(S)),new FI(N,this.apiClient)}}class FI{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=kC(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=AC(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Vi.PLAY)}pause(){this.sendPlaybackControl(Vi.PAUSE)}stop(){this.sendPlaybackControl(Vi.STOP)}resetContext(){this.sendPlaybackControl(Vi.RESET_CONTEXT)}close(){this.conn.close()}}function bI(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function VI(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OI="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function BI(t,e,n){const i=new RE;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const o=JSON.parse(r);if(t.isVertexAI()){const s=xC(o);Object.assign(i,s)}else Object.assign(i,o);e(i)}class GI{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new UI(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,r,o,s,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&s_(e.config.tools)&&l_(m);const g=zI(m);if(this.apiClient.isVertexAI())h=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h);else{const E=this.apiClient.getApiKey();let C="BidiGenerateContent",x="key";E!=null&&E.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),C="BidiGenerateContentConstrained",x="access_token"),h=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${C}?${x}=${E}`}let I=()=>{};const k=new Promise(E=>{I=E}),N=e.callbacks,U=function(){var E;(E=N==null?void 0:N.onopen)===null||E===void 0||E.call(N),I({})},P=this.apiClient,S={onopen:U,onmessage:E=>{BI(P,N.onmessage,E)},onerror:(n=N==null?void 0:N.onerror)!==null&&n!==void 0?n:function(E){},onclose:(i=N==null?void 0:N.onclose)!==null&&i!==void 0?i:function(E){}},A=this.webSocketFactory.create(h,$I(g),S);A.connect(),await k;let D=ae(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const E=this.apiClient.getProject(),C=this.apiClient.getLocation();D=`projects/${E}/locations/${C}/`+D}let V={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[gl.AUDIO]}:e.config.responseModalities=[gl.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const b=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],w=[];for(const E of b)if(this.isCallableTool(E)){const C=E;w.push(await C.tool())}else w.push(E);w.length>0&&(e.config.tools=w);const T={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?V=IC(this.apiClient,T):V=wC(this.apiClient,T),delete V.config,A.send(JSON.stringify(V)),new qI(A,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const HI={turnComplete:!0};class qI{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Et(n.turns),e.isVertexAI()||(i=i.map(r=>Wl(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(OI)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},HI),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:RC(e)}:n={realtimeInput:PC(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function $I(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function zI(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bp=10;function Vp(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ki(s)){r=!0;break}if(!r)return!0;const o=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ki(t){return"callTool"in t&&typeof t.callTool=="function"}function WI(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>Ki(r)))!==null&&i!==void 0?i:!1}function JI(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>!Ki(r)))!==null&&i!==void 0?i:!1}function Op(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KI extends yi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,r,o,s,u;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!WI(n)||Vp(n.config))return await this.generateContentInternal(d);if(JI(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,h;const m=Et(d.contents),g=(o=(r=(i=d.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:bp;let I=0;for(;I<g&&(f=await this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const k=f.candidates[0].content,N=[];for(const U of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Ki(U)){const S=await U.callTool(f.functionCalls);N.push(...S)}I++,h={role:"user",parts:N},d.contents=Et(d.contents),d.contents.push(k),d.contents.push(h),Op(d.config)&&(m.push(k),m.push(h))}return Op(d.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),Vp(n.config)){const i=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var r;let o;const s=[];if(i!=null&&i.generatedImages)for(const d of i.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((r=d==null?void 0:d.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?o=d==null?void 0:d.safetyAttributes:s.push(d);let u;return o?u={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:i.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:i.sdkHttpResponse},u}),this.list=async n=>{var i;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((i=s.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new bo(fi.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var i,r,o,s,u,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((d=(u=n.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,r;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async d=>Ki(d)?await d.tool():d)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&s_(e.config.tools)){const d=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),l_(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,i,r;const o=new Map;for(const s of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Ki(s)){const u=s,d=await u.tool();for(const f of(r=d.functionDeclarations)!==null&&r!==void 0?r:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(e){var n,i,r;const o=(r=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:bp;let s=!1,u=0;const d=await this.initAfcToolsMap(e);return function(f,h,m){var g,I;return Ji(this,arguments,function*(){for(var k,N,U,P;u<o;){s&&(u++,s=!1);const V=yield _e(f.processParamsMaybeAddMcpUsage(m)),b=yield _e(f.generateContentStreamInternal(V)),w=[],T=[];try{for(var S=!0,A=(N=void 0,so(b)),D;D=yield _e(A.next()),k=D.done,!k;S=!0){P=D.value,S=!1;const E=P;if(yield yield _e(E),E.candidates&&(!((g=E.candidates[0])===null||g===void 0)&&g.content)){T.push(E.candidates[0].content);for(const C of(I=E.candidates[0].content.parts)!==null&&I!==void 0?I:[])if(u<o&&C.functionCall){if(!C.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(C.functionCall.name)){const x=yield _e(h.get(C.functionCall.name).callTool([C.functionCall]));w.push(...x)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${C.functionCall.name}`)}}}}catch(E){N={error:E}}finally{try{!S&&!k&&(U=A.return)&&(yield _e(U.call(A)))}finally{if(N)throw N.error}}if(w.length>0){s=!0;const E=new Wr;E.candidates=[{content:{role:"user",parts:w}}],yield yield _e(E);const C=[];C.push(...T),C.push({role:"user",parts:w});const x=Et(m.contents).concat(C);m.contents=x}else break}})}(this,d,e)}async generateContentInternal(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=Mp(this.apiClient,e);return u=J("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Lp(h),g=new Wr;return Object.assign(g,m),g})}else{const f=Np(this.apiClient,e);return u=J("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Dp(h),g=new Wr;return Object.assign(g,m),g})}}async generateContentStreamInternal(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=Mp(this.apiClient,e);return u=J("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(m){return Ji(this,arguments,function*(){var g,I,k,N;try{for(var U=!0,P=so(m),S;S=yield _e(P.next()),g=S.done,!g;U=!0){N=S.value,U=!1;const A=N,D=Lp(yield _e(A.json()));D.sdkHttpResponse={headers:A.headers};const V=new Wr;Object.assign(V,D),yield yield _e(V)}}catch(A){I={error:A}}finally{try{!U&&!g&&(k=P.return)&&(yield _e(k.call(P)))}finally{if(I)throw I.error}}})})}else{const f=Np(this.apiClient,e);return u=J("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(m){return Ji(this,arguments,function*(){var g,I,k,N;try{for(var U=!0,P=so(m),S;S=yield _e(P.next()),g=S.done,!g;U=!0){N=S.value,U=!1;const A=N,D=Dp(yield _e(A.json()));D.sdkHttpResponse={headers:A.headers};const V=new Wr;Object.assign(V,D),yield yield _e(V)}}catch(A){I={error:A}}finally{try{!U&&!g&&(k=P.return)&&(yield _e(k.call(P)))}finally{if(I)throw I.error}}})})}}async embedContent(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=sw(this.apiClient,e);return u=J("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=aw(h),g=new mp;return Object.assign(g,m),g})}else{const f=ow(this.apiClient,e);return u=J("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=lw(h),g=new mp;return Object.assign(g,m),g})}}async generateImagesInternal(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=yw(this.apiClient,e);return u=J("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=vw(h),g=new gp;return Object.assign(g,m),g})}else{const f=gw(this.apiClient,e);return u=J("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=_w(h),g=new gp;return Object.assign(g,m),g})}}async editImageInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const u=tw(this.apiClient,e);return o=J("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),r.then(d=>{const f=nw(d),h=new EE;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const u=pI(this.apiClient,e);return o=J("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),r.then(d=>{const f=mI(d),h=new SE;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const u=Xw(this.apiClient,e);return o=J("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const f=Qw(d),h=new CE;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const u=iI(this.apiClient,e);return o=J("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const f=rI(d),h=new wE;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=Fw(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Yu(h))}else{const f=Uw(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>Ku(h))}}async listInternal(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=qw(this.apiClient,e);return u=J("{models_url}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=zw(h),g=new yp;return Object.assign(g,m),g})}else{const f=Hw(this.apiClient,e);return u=J("{models_url}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=$w(h),g=new yp;return Object.assign(g,m),g})}}async update(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=fI(this.apiClient,e);return u=J("{model}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Yu(h))}else{const f=dI(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>Ku(h))}}async delete(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=QC(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=ZC(h),g=new _p;return Object.assign(g,m),g})}else{const f=XC(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=jC(h),g=new _p;return Object.assign(g,m),g})}}async countTokens(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=JC(this.apiClient,e);return u=J("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=YC(h),g=new vp;return Object.assign(g,m),g})}else{const f=WC(this.apiClient,e);return u=J("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=KC(h),g=new vp;return Object.assign(g,m),g})}}async computeTokens(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const u=OC(this.apiClient,e);return o=J("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),r.then(d=>{const f=BC(d),h=new IE;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=Iw(this.apiClient,e);return u=J("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=Cw(h),g=new yl;return Object.assign(g,m),g})}else{const f=ww(this.apiClient,e);return u=J("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>{const m=Sw(h),g=new yl;return Object.assign(g,m),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YI extends yi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let o;i&&"httpOptions"in i&&(o=i.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let o;i&&"httpOptions"in i&&(o=i.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=_E(e);return u=J("{operationName}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s}else{const f=yE(e);return u=J("{operationName}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const u=cE(e);return o=J("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XI(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&c(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function QI(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>oA(o))),c(e,["parts"],r)}const i=a(t,["role"]);return i!=null&&c(e,["role"],i),e}function jI(t,e,n){const i={},r=a(e,["expireTime"]);n!==void 0&&r!=null&&c(n,["expireTime"],r);const o=a(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&c(n,["newSessionExpireTime"],o);const s=a(e,["uses"]);n!==void 0&&s!=null&&c(n,["uses"],s);const u=a(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&c(n,["bidiGenerateContentSetup"],rA(t,u));const d=a(e,["lockAdditionalFields"]);return n!==void 0&&d!=null&&c(n,["fieldMask"],d),i}function ZI(t,e){const n={},i=a(e,["config"]);return i!=null&&c(n,["config"],jI(t,i,n)),n}function eA(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function tA(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&c(e,["enableWidget"],n),e}function nA(t){const e={},n=a(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],n),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function iA(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig"],i);const r=a(t,["responseModalities"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","responseModalities"],r);const o=a(t,["temperature"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig","temperature"],o);const s=a(t,["topP"]);e!==void 0&&s!=null&&c(e,["setup","generationConfig","topP"],s);const u=a(t,["topK"]);e!==void 0&&u!=null&&c(e,["setup","generationConfig","topK"],u);const d=a(t,["maxOutputTokens"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","maxOutputTokens"],d);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","mediaResolution"],f);const h=a(t,["seed"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","seed"],h);const m=a(t,["speechConfig"]);e!==void 0&&m!=null&&c(e,["setup","generationConfig","speechConfig"],od(m));const g=a(t,["thinkingConfig"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","thinkingConfig"],g);const I=a(t,["enableAffectiveDialog"]);e!==void 0&&I!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],I);const k=a(t,["systemInstruction"]);e!==void 0&&k!=null&&c(e,["setup","systemInstruction"],QI(We(k)));const N=a(t,["tools"]);if(e!==void 0&&N!=null){let b=pr(N);Array.isArray(b)&&(b=b.map(w=>lA(hr(w)))),c(e,["setup","tools"],b)}const U=a(t,["sessionResumption"]);e!==void 0&&U!=null&&c(e,["setup","sessionResumption"],sA(U));const P=a(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&c(e,["setup","inputAudioTranscription"],P);const S=a(t,["outputAudioTranscription"]);e!==void 0&&S!=null&&c(e,["setup","outputAudioTranscription"],S);const A=a(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&c(e,["setup","realtimeInputConfig"],A);const D=a(t,["contextWindowCompression"]);e!==void 0&&D!=null&&c(e,["setup","contextWindowCompression"],D);const V=a(t,["proactivity"]);return e!==void 0&&V!=null&&c(e,["setup","proactivity"],V),n}function rA(t,e){const n={},i=a(e,["model"]);i!=null&&c(n,["setup","model"],ae(t,i));const r=a(e,["config"]);return r!=null&&c(n,["config"],iA(r,n)),n}function oA(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],n);const i=a(t,["thought"]);i!=null&&c(e,["thought"],i);const r=a(t,["inlineData"]);r!=null&&c(e,["inlineData"],XI(r));const o=a(t,["fileData"]);o!=null&&c(e,["fileData"],eA(o));const s=a(t,["thoughtSignature"]);s!=null&&c(e,["thoughtSignature"],s);const u=a(t,["functionCall"]);u!=null&&c(e,["functionCall"],u);const d=a(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const f=a(t,["executableCode"]);f!=null&&c(e,["executableCode"],f);const h=a(t,["functionResponse"]);h!=null&&c(e,["functionResponse"],h);const m=a(t,["text"]);return m!=null&&c(e,["text"],m),e}function sA(t){const e={},n=a(t,["handle"]);if(n!=null&&c(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function lA(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),c(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],nA(i));const r=a(t,["googleSearchRetrieval"]);if(r!=null&&c(e,["googleSearchRetrieval"],r),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=a(t,["googleMaps"]);o!=null&&c(e,["googleMaps"],tA(o));const s=a(t,["urlContext"]);s!=null&&c(e,["urlContext"],s);const u=a(t,["computerUse"]);u!=null&&c(e,["computerUse"],u);const d=a(t,["codeExecution"]);return d!=null&&c(e,["codeExecution"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aA(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(o=>`${n}.${o}`);e.push(...r)}else e.push(n)}return e.join(",")}function uA(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const o=aA(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(f=>s.includes(f)?`generationConfig.${f}`:f));const d=[];o&&d.push(o),u.length>0&&d.push(...u),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class cA extends yi{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=ZI(this.apiClient,e);o=J("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const d=uA(u,e.config);return r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),r.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dA(t,e){const n={},i=a(t,["name"]);return i!=null&&c(n,["_url","name"],i),n}function fA(t,e){const n={},i=a(t,["name"]);return i!=null&&c(n,["_url","name"],i),n}function hA(t,e,n){const i={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=a(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&c(e,["displayName"],r),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=a(t,["epochCount"]);e!==void 0&&o!=null&&c(e,["tuningTask","hyperparameters","epochCount"],o);const s=a(t,["learningRateMultiplier"]);if(s!=null&&c(i,["tuningTask","hyperparameters","learningRateMultiplier"],s),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=a(t,["batchSize"]);e!==void 0&&u!=null&&c(e,["tuningTask","hyperparameters","batchSize"],u);const d=a(t,["learningRate"]);if(e!==void 0&&d!=null&&c(e,["tuningTask","hyperparameters","learningRate"],d),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return i}function pA(t,e,n){const i={},r=a(t,["validationDataset"]);e!==void 0&&r!=null&&c(e,["supervisedTuningSpec"],RA(r));const o=a(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&c(e,["tunedModelDisplayName"],o);const s=a(t,["description"]);e!==void 0&&s!=null&&c(e,["description"],s);const u=a(t,["epochCount"]);e!==void 0&&u!=null&&c(e,["supervisedTuningSpec","hyperParameters","epochCount"],u);const d=a(t,["learningRateMultiplier"]);e!==void 0&&d!=null&&c(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],d);const f=a(t,["exportLastCheckpointOnly"]);e!==void 0&&f!=null&&c(e,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const h=a(t,["adapterSize"]);if(e!==void 0&&h!=null&&c(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h),a(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=a(t,["labels"]);return e!==void 0&&m!=null&&c(e,["labels"],m),i}function mA(t,e){const n={},i=a(t,["baseModel"]);i!=null&&c(n,["baseModel"],i);const r=a(t,["preTunedModel"]);r!=null&&c(n,["preTunedModel"],r);const o=a(t,["trainingDataset"]);o!=null&&c(n,["tuningTask","trainingData"],AA(o));const s=a(t,["config"]);return s!=null&&hA(s,n),n}function gA(t,e){const n={},i=a(t,["baseModel"]);i!=null&&c(n,["baseModel"],i);const r=a(t,["preTunedModel"]);r!=null&&c(n,["preTunedModel"],r);const o=a(t,["trainingDataset"]);o!=null&&kA(o,n);const s=a(t,["config"]);return s!=null&&pA(s,n),n}function yA(t,e){const n={},i=a(t,["name"]);return i!=null&&c(n,["_url","name"],i),n}function _A(t,e){const n={},i=a(t,["name"]);return i!=null&&c(n,["_url","name"],i),n}function vA(t,e,n){const i={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&c(e,["_query","pageSize"],r);const o=a(t,["pageToken"]);e!==void 0&&o!=null&&c(e,["_query","pageToken"],o);const s=a(t,["filter"]);return e!==void 0&&s!=null&&c(e,["_query","filter"],s),i}function TA(t,e,n){const i={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&c(e,["_query","pageSize"],r);const o=a(t,["pageToken"]);e!==void 0&&o!=null&&c(e,["_query","pageToken"],o);const s=a(t,["filter"]);return e!==void 0&&s!=null&&c(e,["_query","filter"],s),i}function EA(t,e){const n={},i=a(t,["config"]);return i!=null&&vA(i,n),n}function SA(t,e){const n={},i=a(t,["config"]);return i!=null&&TA(i,n),n}function CA(t,e){const n={},i=a(t,["sdkHttpResponse"]);i!=null&&c(n,["sdkHttpResponse"],i);const r=a(t,["nextPageToken"]);r!=null&&c(n,["nextPageToken"],r);const o=a(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>a_(u))),c(n,["tuningJobs"],s)}return n}function wA(t,e){const n={},i=a(t,["sdkHttpResponse"]);i!=null&&c(n,["sdkHttpResponse"],i);const r=a(t,["nextPageToken"]);r!=null&&c(n,["nextPageToken"],r);const o=a(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>Qu(u))),c(n,["tuningJobs"],s)}return n}function IA(t,e){const n={},i=a(t,["name"]);i!=null&&c(n,["model"],i);const r=a(t,["name"]);return r!=null&&c(n,["endpoint"],r),n}function AA(t,e){const n={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=a(t,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),c(n,["examples","examples"],r)}return n}function kA(t,e,n){const i={},r=a(t,["gcsUri"]);e!==void 0&&r!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],r);const o=a(t,["vertexDatasetResource"]);if(e!==void 0&&o!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],o),a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function a_(t,e){const n={},i=a(t,["sdkHttpResponse"]);i!=null&&c(n,["sdkHttpResponse"],i);const r=a(t,["name"]);r!=null&&c(n,["name"],r);const o=a(t,["state"]);o!=null&&c(n,["state"],qy(o));const s=a(t,["createTime"]);s!=null&&c(n,["createTime"],s);const u=a(t,["tuningTask","startTime"]);u!=null&&c(n,["startTime"],u);const d=a(t,["tuningTask","completeTime"]);d!=null&&c(n,["endTime"],d);const f=a(t,["updateTime"]);f!=null&&c(n,["updateTime"],f);const h=a(t,["description"]);h!=null&&c(n,["description"],h);const m=a(t,["baseModel"]);m!=null&&c(n,["baseModel"],m);const g=a(t,["_self"]);return g!=null&&c(n,["tunedModel"],IA(g)),n}function Qu(t,e){const n={},i=a(t,["sdkHttpResponse"]);i!=null&&c(n,["sdkHttpResponse"],i);const r=a(t,["name"]);r!=null&&c(n,["name"],r);const o=a(t,["state"]);o!=null&&c(n,["state"],qy(o));const s=a(t,["createTime"]);s!=null&&c(n,["createTime"],s);const u=a(t,["startTime"]);u!=null&&c(n,["startTime"],u);const d=a(t,["endTime"]);d!=null&&c(n,["endTime"],d);const f=a(t,["updateTime"]);f!=null&&c(n,["updateTime"],f);const h=a(t,["error"]);h!=null&&c(n,["error"],h);const m=a(t,["description"]);m!=null&&c(n,["description"],m);const g=a(t,["baseModel"]);g!=null&&c(n,["baseModel"],g);const I=a(t,["tunedModel"]);I!=null&&c(n,["tunedModel"],I);const k=a(t,["preTunedModel"]);k!=null&&c(n,["preTunedModel"],k);const N=a(t,["supervisedTuningSpec"]);N!=null&&c(n,["supervisedTuningSpec"],N);const U=a(t,["tuningDataStats"]);U!=null&&c(n,["tuningDataStats"],U);const P=a(t,["encryptionSpec"]);P!=null&&c(n,["encryptionSpec"],P);const S=a(t,["partnerModelTuningSpec"]);S!=null&&c(n,["partnerModelTuningSpec"],S);const A=a(t,["customBaseModel"]);A!=null&&c(n,["customBaseModel"],A);const D=a(t,["experiment"]);D!=null&&c(n,["experiment"],D);const V=a(t,["labels"]);V!=null&&c(n,["labels"],V);const b=a(t,["outputUri"]);b!=null&&c(n,["outputUri"],b);const w=a(t,["pipelineJob"]);w!=null&&c(n,["pipelineJob"],w);const T=a(t,["serviceAccount"]);T!=null&&c(n,["serviceAccount"],T);const E=a(t,["tunedModelDisplayName"]);E!=null&&c(n,["tunedModelDisplayName"],E);const C=a(t,["veoTuningSpec"]);return C!=null&&c(n,["veoTuningSpec"],C),n}function PA(t,e){const n={},i=a(t,["sdkHttpResponse"]);i!=null&&c(n,["sdkHttpResponse"],i);const r=a(t,["name"]);r!=null&&c(n,["name"],r);const o=a(t,["metadata"]);o!=null&&c(n,["metadata"],o);const s=a(t,["done"]);s!=null&&c(n,["done"],s);const u=a(t,["error"]);return u!=null&&c(n,["error"],u),n}function RA(t,e){const n={},i=a(t,["gcsUri"]);i!=null&&c(n,["validationDatasetUri"],i);const r=a(t,["vertexDatasetResource"]);return r!=null&&c(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xA extends yi{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new bo(fi.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:r});return o.baseModel=void 0,await this.tuneInternal(o)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),o=await this.tuneMldevInternal(r);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:$u.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=_A(e);return u=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>Qu(h))}else{const f=yA(e);return u=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>a_(h))}}async listInternal(e){var n,i,r,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=SA(e);return u=J("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=wA(h),g=new Tp;return Object.assign(g,m),g})}else{const f=EA(e);return u=J("tunedModels",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=CA(h),g=new Tp;return Object.assign(g,m),g})}}async cancel(e){var n,i,r,o;let s="",u={};if(this.apiClient.isVertexAI()){const d=fA(e);s=J("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const d=dA(e);s=J("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const u=gA(e);return o=J("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),r.then(d=>Qu(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=mA(e);return o=J("tunedModels",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),r.then(d=>PA(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NA{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const MA=1024*1024*8,DA=3,LA=1e3,UA=2,Ha="x-goog-upload-status";async function FA(t,e,n){var i,r,o;let s=0,u=0,d=new zu(new Response),f="upload";for(s=t.size;u<s;){const m=Math.min(MA,s-u),g=t.slice(u,u+m);u+m>=s&&(f+=", finalize");let I=0,k=LA;for(;I<DA&&(d=await n.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(m)}}}),!(!((i=d==null?void 0:d.headers)===null||i===void 0)&&i[Ha]));)I++,await VA(k),k=k*UA;if(u+=m,((r=d==null?void 0:d.headers)===null||r===void 0?void 0:r[Ha])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(d==null?void 0:d.json());if(((o=d==null?void 0:d.headers)===null||o===void 0?void 0:o[Ha])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function bA(t){return{size:t.size,type:t.type}}function VA(t){return new Promise(e=>setTimeout(e,t))}class OA{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await FA(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await bA(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BA{create(e,n,i){return new GA(e,n,i)}}class GA{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bp="x-goog-api-key";class HA{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Bp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Bp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qA="gl-node/";class $A{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=aE(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const r=new HA(this.apiKey);this.apiClient=new PI({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:qA+"web",uploader:new OA,downloader:new NA}),this.models=new KI(this.apiClient),this.live=new GI(this.apiClient,r,new BA),this.batches=new kS(this.apiClient),this.chats=new oC(this.models,this.apiClient),this.caches=new nC(this.apiClient),this.files=new mC(this.apiClient),this.operations=new YI(this.apiClient),this.authTokens=new cA(this.apiClient),this.tunings=new xA(this.apiClient)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},zA=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],s=t[n++],u=t[n++],d=((r&7)<<18|(o&63)<<12|(s&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],s=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},c_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],s=r+1<t.length,u=s?t[r+1]:0,d=r+2<t.length,f=d?t[r+2]:0,h=o>>2,m=(o&3)<<4|u>>4;let g=(u&15)<<2|f>>6,I=f&63;d||(I=64,s||(g=64)),i.push(n[h],n[m],n[g],n[I])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(u_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],u=r<t.length?n[t.charAt(r)]:0;++r;const f=r<t.length?n[t.charAt(r)]:64;++r;const m=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||u==null||f==null||m==null)throw new WA;const g=o<<2|u>>4;if(i.push(g),f!==64){const I=u<<4&240|f>>2;if(i.push(I),m!==64){const k=f<<6&192|m;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class WA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JA=function(t){const e=u_(t);return c_.encodeByteArray(e,!0)},vl=function(t){return JA(t).replace(/\./g,"")},d_=function(t){try{return c_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=()=>KA().__FIREBASE_DEFAULTS__,XA=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&d_(t[1]);return e&&JSON.parse(e)},ld=()=>{try{return YA()||XA()||QA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},f_=t=>{var e,n;return(n=(e=ld())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jA=t=>{const e=f_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},h_=()=>{var t;return(t=ld())===null||t===void 0?void 0:t.config},p_=t=>{var e;return(e=ld())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[vl(JSON.stringify(n)),vl(JSON.stringify(s)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function n1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function i1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function r1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o1(){const t=et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function s1(){try{return typeof indexedDB=="object"}catch{return!1}}function l1(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="FirebaseError";class pn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=a1,Object.setPrototypeOf(this,pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vo.prototype.create)}}class Vo{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?u1(o,i):"Error",u=`${this.serviceName}: ${s} (${r}).`;return new pn(r,u,i)}}function u1(t,e){return t.replace(c1,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const c1=/\{\$([^}]+)}/g;function d1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Tl(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],s=e[r];if(Gp(o)&&Gp(s)){if(!Tl(o,s))return!1}else if(o!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Gp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function f1(t,e){const n=new h1(t,e);return n.subscribe.bind(n)}class h1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");p1(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=qa),r.error===void 0&&(r.error=qa),r.complete===void 0&&(r.complete=qa);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function p1(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qa(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t){return t&&t._delegate?t._delegate:t}class hi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new ZA;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(y1(e))try{this.getOrInitializeService({instanceIdentifier:ei})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ei){return this.instances.has(e)}getOptions(e=ei){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&s.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:g1(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ei){return this.component?this.component.multipleInstances?e:ei:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g1(t){return t===ei?void 0:t}function y1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new m1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const v1={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},T1=ce.INFO,E1={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},S1=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=E1[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ad{constructor(e){this.name=e,this._logLevel=T1,this._logHandler=S1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?v1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const C1=(t,e)=>e.some(n=>t instanceof n);let Hp,qp;function w1(){return Hp||(Hp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I1(){return qp||(qp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m_=new WeakMap,ju=new WeakMap,g_=new WeakMap,$a=new WeakMap,ud=new WeakMap;function A1(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Vn(t.result)),r()},s=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&m_.set(n,t)}).catch(()=>{}),ud.set(e,t),e}function k1(t){if(ju.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),r()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});ju.set(t,e)}let Zu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ju.get(t);if(e==="objectStoreNames")return t.objectStoreNames||g_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function P1(t){Zu=t(Zu)}function R1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(za(this),e,...n);return g_.set(i,e.sort?e.sort():[e]),Vn(i)}:I1().includes(t)?function(...e){return t.apply(za(this),e),Vn(m_.get(this))}:function(...e){return Vn(t.apply(za(this),e))}}function x1(t){return typeof t=="function"?R1(t):(t instanceof IDBTransaction&&k1(t),C1(t,w1())?new Proxy(t,Zu):t)}function Vn(t){if(t instanceof IDBRequest)return A1(t);if($a.has(t))return $a.get(t);const e=x1(t);return e!==t&&($a.set(t,e),ud.set(e,t)),e}const za=t=>ud.get(t);function N1(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(t,e),u=Vn(s);return i&&s.addEventListener("upgradeneeded",d=>{i(Vn(s.result),d.oldVersion,d.newVersion,Vn(s.transaction),d)}),n&&s.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const M1=["get","getKey","getAll","getAllKeys","count"],D1=["put","add","delete","clear"],Wa=new Map;function $p(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wa.get(e))return Wa.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=D1.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||M1.includes(n)))return;const o=async function(s,...u){const d=this.transaction(s,r?"readwrite":"readonly");let f=d.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),r&&d.done]))[0]};return Wa.set(e,o),o}P1(t=>({...t,get:(e,n,i)=>$p(e,n)||t.get(e,n,i),has:(e,n)=>!!$p(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(U1(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function U1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ec="@firebase/app",zp="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new ad("@firebase/app"),F1="@firebase/app-compat",b1="@firebase/analytics-compat",V1="@firebase/analytics",O1="@firebase/app-check-compat",B1="@firebase/app-check",G1="@firebase/auth",H1="@firebase/auth-compat",q1="@firebase/database",$1="@firebase/data-connect",z1="@firebase/database-compat",W1="@firebase/functions",J1="@firebase/functions-compat",K1="@firebase/installations",Y1="@firebase/installations-compat",X1="@firebase/messaging",Q1="@firebase/messaging-compat",j1="@firebase/performance",Z1="@firebase/performance-compat",ek="@firebase/remote-config",tk="@firebase/remote-config-compat",nk="@firebase/storage",ik="@firebase/storage-compat",rk="@firebase/firestore",ok="@firebase/vertexai-preview",sk="@firebase/firestore-compat",lk="firebase",ak="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc="[DEFAULT]",uk={[ec]:"fire-core",[F1]:"fire-core-compat",[V1]:"fire-analytics",[b1]:"fire-analytics-compat",[B1]:"fire-app-check",[O1]:"fire-app-check-compat",[G1]:"fire-auth",[H1]:"fire-auth-compat",[q1]:"fire-rtdb",[$1]:"fire-data-connect",[z1]:"fire-rtdb-compat",[W1]:"fire-fn",[J1]:"fire-fn-compat",[K1]:"fire-iid",[Y1]:"fire-iid-compat",[X1]:"fire-fcm",[Q1]:"fire-fcm-compat",[j1]:"fire-perf",[Z1]:"fire-perf-compat",[ek]:"fire-rc",[tk]:"fire-rc-compat",[nk]:"fire-gcs",[ik]:"fire-gcs-compat",[rk]:"fire-fst",[sk]:"fire-fst-compat",[ok]:"fire-vertex","fire-js":"fire-js",[lk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=new Map,ck=new Map,nc=new Map;function Wp(t,e){try{t.container.addComponent(e)}catch(n){un.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lr(t){const e=t.name;if(nc.has(e))return un.debug(`There were multiple attempts to register component ${e}.`),!1;nc.set(e,t);for(const n of El.values())Wp(n,t);for(const n of ck.values())Wp(n,t);return!0}function cd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},On=new Vo("app","Firebase",dk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw On.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=ak;function y_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:tc,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw On.create("bad-app-name",{appName:String(r)});if(n||(n=h_()),!n)throw On.create("no-options");const o=El.get(r);if(o){if(Tl(n,o.options)&&Tl(i,o.config))return o;throw On.create("duplicate-app",{appName:r})}const s=new _1(r);for(const d of nc.values())s.addComponent(d);const u=new fk(n,i,s);return El.set(r,u),u}function __(t=tc){const e=El.get(t);if(!e&&t===tc&&h_())return y_();if(!e)throw On.create("no-app",{appName:t});return e}function Bn(t,e,n){var i;let r=(i=uk[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&u.push("and"),s&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),un.warn(u.join(" "));return}lr(new hi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="firebase-heartbeat-database",pk=1,Po="firebase-heartbeat-store";let Ja=null;function v_(){return Ja||(Ja=N1(hk,pk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Po)}catch(n){console.warn(n)}}}}).catch(t=>{throw On.create("idb-open",{originalErrorMessage:t.message})})),Ja}async function mk(t){try{const n=(await v_()).transaction(Po),i=await n.objectStore(Po).get(T_(t));return await n.done,i}catch(e){if(e instanceof pn)un.warn(e.message);else{const n=On.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});un.warn(n.message)}}}async function Jp(t,e){try{const i=(await v_()).transaction(Po,"readwrite");await i.objectStore(Po).put(e,T_(t)),await i.done}catch(n){if(n instanceof pn)un.warn(n.message);else{const i=On.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});un.warn(i.message)}}}function T_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=1024,yk=30*24*60*60*1e3;class _k{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Tk(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Kp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const u=new Date(s.date).valueOf();return Date.now()-u<=yk}),this._storage.overwrite(this._heartbeatsCache))}catch(i){un.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Kp(),{heartbeatsToSend:i,unsentEntries:r}=vk(this._heartbeatsCache.heartbeats),o=vl(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return un.warn(n),""}}}function Kp(){return new Date().toISOString().substring(0,10)}function vk(t,e=gk){const n=[];let i=t.slice();for(const r of t){const o=n.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),Yp(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Yp(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Tk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s1()?l1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Jp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Jp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Yp(t){return vl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(t){lr(new hi("platform-logger",e=>new L1(e),"PRIVATE")),lr(new hi("heartbeat",e=>new _k(e),"PRIVATE")),Bn(ec,zp,t),Bn(ec,zp,"esm2017"),Bn("fire-js","")}Ek("");var Xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,T){function E(){}E.prototype=T.prototype,w.D=T.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(C,x,M){for(var R=Array(arguments.length-2),X=2;X<arguments.length;X++)R[X-2]=arguments[X];return T.prototype[x].apply(C,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(w,T,E){E||(E=0);var C=Array(16);if(typeof T=="string")for(var x=0;16>x;++x)C[x]=T.charCodeAt(E++)|T.charCodeAt(E++)<<8|T.charCodeAt(E++)<<16|T.charCodeAt(E++)<<24;else for(x=0;16>x;++x)C[x]=T[E++]|T[E++]<<8|T[E++]<<16|T[E++]<<24;T=w.g[0],E=w.g[1],x=w.g[2];var M=w.g[3],R=T+(M^E&(x^M))+C[0]+3614090360&4294967295;T=E+(R<<7&4294967295|R>>>25),R=M+(x^T&(E^x))+C[1]+3905402710&4294967295,M=T+(R<<12&4294967295|R>>>20),R=x+(E^M&(T^E))+C[2]+606105819&4294967295,x=M+(R<<17&4294967295|R>>>15),R=E+(T^x&(M^T))+C[3]+3250441966&4294967295,E=x+(R<<22&4294967295|R>>>10),R=T+(M^E&(x^M))+C[4]+4118548399&4294967295,T=E+(R<<7&4294967295|R>>>25),R=M+(x^T&(E^x))+C[5]+1200080426&4294967295,M=T+(R<<12&4294967295|R>>>20),R=x+(E^M&(T^E))+C[6]+2821735955&4294967295,x=M+(R<<17&4294967295|R>>>15),R=E+(T^x&(M^T))+C[7]+4249261313&4294967295,E=x+(R<<22&4294967295|R>>>10),R=T+(M^E&(x^M))+C[8]+1770035416&4294967295,T=E+(R<<7&4294967295|R>>>25),R=M+(x^T&(E^x))+C[9]+2336552879&4294967295,M=T+(R<<12&4294967295|R>>>20),R=x+(E^M&(T^E))+C[10]+4294925233&4294967295,x=M+(R<<17&4294967295|R>>>15),R=E+(T^x&(M^T))+C[11]+2304563134&4294967295,E=x+(R<<22&4294967295|R>>>10),R=T+(M^E&(x^M))+C[12]+1804603682&4294967295,T=E+(R<<7&4294967295|R>>>25),R=M+(x^T&(E^x))+C[13]+4254626195&4294967295,M=T+(R<<12&4294967295|R>>>20),R=x+(E^M&(T^E))+C[14]+2792965006&4294967295,x=M+(R<<17&4294967295|R>>>15),R=E+(T^x&(M^T))+C[15]+1236535329&4294967295,E=x+(R<<22&4294967295|R>>>10),R=T+(x^M&(E^x))+C[1]+4129170786&4294967295,T=E+(R<<5&4294967295|R>>>27),R=M+(E^x&(T^E))+C[6]+3225465664&4294967295,M=T+(R<<9&4294967295|R>>>23),R=x+(T^E&(M^T))+C[11]+643717713&4294967295,x=M+(R<<14&4294967295|R>>>18),R=E+(M^T&(x^M))+C[0]+3921069994&4294967295,E=x+(R<<20&4294967295|R>>>12),R=T+(x^M&(E^x))+C[5]+3593408605&4294967295,T=E+(R<<5&4294967295|R>>>27),R=M+(E^x&(T^E))+C[10]+38016083&4294967295,M=T+(R<<9&4294967295|R>>>23),R=x+(T^E&(M^T))+C[15]+3634488961&4294967295,x=M+(R<<14&4294967295|R>>>18),R=E+(M^T&(x^M))+C[4]+3889429448&4294967295,E=x+(R<<20&4294967295|R>>>12),R=T+(x^M&(E^x))+C[9]+568446438&4294967295,T=E+(R<<5&4294967295|R>>>27),R=M+(E^x&(T^E))+C[14]+3275163606&4294967295,M=T+(R<<9&4294967295|R>>>23),R=x+(T^E&(M^T))+C[3]+4107603335&4294967295,x=M+(R<<14&4294967295|R>>>18),R=E+(M^T&(x^M))+C[8]+1163531501&4294967295,E=x+(R<<20&4294967295|R>>>12),R=T+(x^M&(E^x))+C[13]+2850285829&4294967295,T=E+(R<<5&4294967295|R>>>27),R=M+(E^x&(T^E))+C[2]+4243563512&4294967295,M=T+(R<<9&4294967295|R>>>23),R=x+(T^E&(M^T))+C[7]+1735328473&4294967295,x=M+(R<<14&4294967295|R>>>18),R=E+(M^T&(x^M))+C[12]+2368359562&4294967295,E=x+(R<<20&4294967295|R>>>12),R=T+(E^x^M)+C[5]+4294588738&4294967295,T=E+(R<<4&4294967295|R>>>28),R=M+(T^E^x)+C[8]+2272392833&4294967295,M=T+(R<<11&4294967295|R>>>21),R=x+(M^T^E)+C[11]+1839030562&4294967295,x=M+(R<<16&4294967295|R>>>16),R=E+(x^M^T)+C[14]+4259657740&4294967295,E=x+(R<<23&4294967295|R>>>9),R=T+(E^x^M)+C[1]+2763975236&4294967295,T=E+(R<<4&4294967295|R>>>28),R=M+(T^E^x)+C[4]+1272893353&4294967295,M=T+(R<<11&4294967295|R>>>21),R=x+(M^T^E)+C[7]+4139469664&4294967295,x=M+(R<<16&4294967295|R>>>16),R=E+(x^M^T)+C[10]+3200236656&4294967295,E=x+(R<<23&4294967295|R>>>9),R=T+(E^x^M)+C[13]+681279174&4294967295,T=E+(R<<4&4294967295|R>>>28),R=M+(T^E^x)+C[0]+3936430074&4294967295,M=T+(R<<11&4294967295|R>>>21),R=x+(M^T^E)+C[3]+3572445317&4294967295,x=M+(R<<16&4294967295|R>>>16),R=E+(x^M^T)+C[6]+76029189&4294967295,E=x+(R<<23&4294967295|R>>>9),R=T+(E^x^M)+C[9]+3654602809&4294967295,T=E+(R<<4&4294967295|R>>>28),R=M+(T^E^x)+C[12]+3873151461&4294967295,M=T+(R<<11&4294967295|R>>>21),R=x+(M^T^E)+C[15]+530742520&4294967295,x=M+(R<<16&4294967295|R>>>16),R=E+(x^M^T)+C[2]+3299628645&4294967295,E=x+(R<<23&4294967295|R>>>9),R=T+(x^(E|~M))+C[0]+4096336452&4294967295,T=E+(R<<6&4294967295|R>>>26),R=M+(E^(T|~x))+C[7]+1126891415&4294967295,M=T+(R<<10&4294967295|R>>>22),R=x+(T^(M|~E))+C[14]+2878612391&4294967295,x=M+(R<<15&4294967295|R>>>17),R=E+(M^(x|~T))+C[5]+4237533241&4294967295,E=x+(R<<21&4294967295|R>>>11),R=T+(x^(E|~M))+C[12]+1700485571&4294967295,T=E+(R<<6&4294967295|R>>>26),R=M+(E^(T|~x))+C[3]+2399980690&4294967295,M=T+(R<<10&4294967295|R>>>22),R=x+(T^(M|~E))+C[10]+4293915773&4294967295,x=M+(R<<15&4294967295|R>>>17),R=E+(M^(x|~T))+C[1]+2240044497&4294967295,E=x+(R<<21&4294967295|R>>>11),R=T+(x^(E|~M))+C[8]+1873313359&4294967295,T=E+(R<<6&4294967295|R>>>26),R=M+(E^(T|~x))+C[15]+4264355552&4294967295,M=T+(R<<10&4294967295|R>>>22),R=x+(T^(M|~E))+C[6]+2734768916&4294967295,x=M+(R<<15&4294967295|R>>>17),R=E+(M^(x|~T))+C[13]+1309151649&4294967295,E=x+(R<<21&4294967295|R>>>11),R=T+(x^(E|~M))+C[4]+4149444226&4294967295,T=E+(R<<6&4294967295|R>>>26),R=M+(E^(T|~x))+C[11]+3174756917&4294967295,M=T+(R<<10&4294967295|R>>>22),R=x+(T^(M|~E))+C[2]+718787259&4294967295,x=M+(R<<15&4294967295|R>>>17),R=E+(M^(x|~T))+C[9]+3951481745&4294967295,w.g[0]=w.g[0]+T&4294967295,w.g[1]=w.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,w.g[2]=w.g[2]+x&4294967295,w.g[3]=w.g[3]+M&4294967295}i.prototype.u=function(w,T){T===void 0&&(T=w.length);for(var E=T-this.blockSize,C=this.B,x=this.h,M=0;M<T;){if(x==0)for(;M<=E;)r(this,w,M),M+=this.blockSize;if(typeof w=="string"){for(;M<T;)if(C[x++]=w.charCodeAt(M++),x==this.blockSize){r(this,C),x=0;break}}else for(;M<T;)if(C[x++]=w[M++],x==this.blockSize){r(this,C),x=0;break}}this.h=x,this.o+=T},i.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var T=1;T<w.length-8;++T)w[T]=0;var E=8*this.o;for(T=w.length-8;T<w.length;++T)w[T]=E&255,E/=256;for(this.u(w),w=Array(16),T=E=0;4>T;++T)for(var C=0;32>C;C+=8)w[E++]=this.g[T]>>>C&255;return w};function o(w,T){var E=u;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=T(w)}function s(w,T){this.h=T;for(var E=[],C=!0,x=w.length-1;0<=x;x--){var M=w[x]|0;C&&M==T||(E[x]=M,C=!1)}this.g=E}var u={};function d(w){return-128<=w&&128>w?o(w,function(T){return new s([T|0],0>T?-1:0)}):new s([w|0],0>w?-1:0)}function f(w){if(isNaN(w)||!isFinite(w))return m;if(0>w)return U(f(-w));for(var T=[],E=1,C=0;w>=E;C++)T[C]=w/E|0,E*=4294967296;return new s(T,0)}function h(w,T){if(w.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(w.charAt(0)=="-")return U(h(w.substring(1),T));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=f(Math.pow(T,8)),C=m,x=0;x<w.length;x+=8){var M=Math.min(8,w.length-x),R=parseInt(w.substring(x,x+M),T);8>M?(M=f(Math.pow(T,M)),C=C.j(M).add(f(R))):(C=C.j(E),C=C.add(f(R)))}return C}var m=d(0),g=d(1),I=d(16777216);t=s.prototype,t.m=function(){if(N(this))return-U(this).m();for(var w=0,T=1,E=0;E<this.g.length;E++){var C=this.i(E);w+=(0<=C?C:4294967296+C)*T,T*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(k(this))return"0";if(N(this))return"-"+U(this).toString(w);for(var T=f(Math.pow(w,6)),E=this,C="";;){var x=D(E,T).g;E=P(E,x.j(T));var M=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=x,k(E))return M+C;for(;6>M.length;)M="0"+M;C=M+C}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function k(w){if(w.h!=0)return!1;for(var T=0;T<w.g.length;T++)if(w.g[T]!=0)return!1;return!0}function N(w){return w.h==-1}t.l=function(w){return w=P(this,w),N(w)?-1:k(w)?0:1};function U(w){for(var T=w.g.length,E=[],C=0;C<T;C++)E[C]=~w.g[C];return new s(E,~w.h).add(g)}t.abs=function(){return N(this)?U(this):this},t.add=function(w){for(var T=Math.max(this.g.length,w.g.length),E=[],C=0,x=0;x<=T;x++){var M=C+(this.i(x)&65535)+(w.i(x)&65535),R=(M>>>16)+(this.i(x)>>>16)+(w.i(x)>>>16);C=R>>>16,M&=65535,R&=65535,E[x]=R<<16|M}return new s(E,E[E.length-1]&-2147483648?-1:0)};function P(w,T){return w.add(U(T))}t.j=function(w){if(k(this)||k(w))return m;if(N(this))return N(w)?U(this).j(U(w)):U(U(this).j(w));if(N(w))return U(this.j(U(w)));if(0>this.l(I)&&0>w.l(I))return f(this.m()*w.m());for(var T=this.g.length+w.g.length,E=[],C=0;C<2*T;C++)E[C]=0;for(C=0;C<this.g.length;C++)for(var x=0;x<w.g.length;x++){var M=this.i(C)>>>16,R=this.i(C)&65535,X=w.i(x)>>>16,se=w.i(x)&65535;E[2*C+2*x]+=R*se,S(E,2*C+2*x),E[2*C+2*x+1]+=M*se,S(E,2*C+2*x+1),E[2*C+2*x+1]+=R*X,S(E,2*C+2*x+1),E[2*C+2*x+2]+=M*X,S(E,2*C+2*x+2)}for(C=0;C<T;C++)E[C]=E[2*C+1]<<16|E[2*C];for(C=T;C<2*T;C++)E[C]=0;return new s(E,0)};function S(w,T){for(;(w[T]&65535)!=w[T];)w[T+1]+=w[T]>>>16,w[T]&=65535,T++}function A(w,T){this.g=w,this.h=T}function D(w,T){if(k(T))throw Error("division by zero");if(k(w))return new A(m,m);if(N(w))return T=D(U(w),T),new A(U(T.g),U(T.h));if(N(T))return T=D(w,U(T)),new A(U(T.g),T.h);if(30<w.g.length){if(N(w)||N(T))throw Error("slowDivide_ only works with positive integers.");for(var E=g,C=T;0>=C.l(w);)E=V(E),C=V(C);var x=b(E,1),M=b(C,1);for(C=b(C,2),E=b(E,2);!k(C);){var R=M.add(C);0>=R.l(w)&&(x=x.add(E),M=R),C=b(C,1),E=b(E,1)}return T=P(w,x.j(T)),new A(x,T)}for(x=m;0<=w.l(T);){for(E=Math.max(1,Math.floor(w.m()/T.m())),C=Math.ceil(Math.log(E)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),M=f(E),R=M.j(T);N(R)||0<R.l(w);)E-=C,M=f(E),R=M.j(T);k(M)&&(M=g),x=x.add(M),w=P(w,R)}return new A(x,w)}t.A=function(w){return D(this,w).h},t.and=function(w){for(var T=Math.max(this.g.length,w.g.length),E=[],C=0;C<T;C++)E[C]=this.i(C)&w.i(C);return new s(E,this.h&w.h)},t.or=function(w){for(var T=Math.max(this.g.length,w.g.length),E=[],C=0;C<T;C++)E[C]=this.i(C)|w.i(C);return new s(E,this.h|w.h)},t.xor=function(w){for(var T=Math.max(this.g.length,w.g.length),E=[],C=0;C<T;C++)E[C]=this.i(C)^w.i(C);return new s(E,this.h^w.h)};function V(w){for(var T=w.g.length+1,E=[],C=0;C<T;C++)E[C]=w.i(C)<<1|w.i(C-1)>>>31;return new s(E,w.h)}function b(w,T){var E=T>>5;T%=32;for(var C=w.g.length-E,x=[],M=0;M<C;M++)x[M]=0<T?w.i(M+E)>>>T|w.i(M+E+1)<<32-T:w.i(M+E);return new s(x,w.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,E_=s}).apply(typeof Xp<"u"?Xp:typeof self<"u"?self:typeof window<"u"?window:{});var As=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,y){return l==Array.prototype||l==Object.prototype||(l[p]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof As=="object"&&As];for(var p=0;p<l.length;++p){var y=l[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=n(this);function r(l,p){if(p)e:{var y=i;l=l.split(".");for(var v=0;v<l.length-1;v++){var L=l[v];if(!(L in y))break e;y=y[L]}l=l[l.length-1],v=y[l],p=p(v),p!=v&&p!=null&&e(y,l,{configurable:!0,writable:!0,value:p})}}function o(l,p){l instanceof String&&(l+="");var y=0,v=!1,L={next:function(){if(!v&&y<l.length){var F=y++;return{value:p(F,l[F]),done:!1}}return v=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}r("Array.prototype.values",function(l){return l||function(){return o(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},u=this||self;function d(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function f(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function h(l,p,y){return l.call.apply(l.bind,arguments)}function m(l,p,y){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,v),l.apply(p,L)}}return function(){return l.apply(p,arguments)}}function g(l,p,y){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,g.apply(null,arguments)}function I(l,p){var y=Array.prototype.slice.call(arguments,1);return function(){var v=y.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function k(l,p){function y(){}y.prototype=p.prototype,l.aa=p.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(v,L,F){for(var H=Array(arguments.length-2),he=2;he<arguments.length;he++)H[he-2]=arguments[he];return p.prototype[L].apply(v,H)}}function N(l){const p=l.length;if(0<p){const y=Array(p);for(let v=0;v<p;v++)y[v]=l[v];return y}return[]}function U(l,p){for(let y=1;y<arguments.length;y++){const v=arguments[y];if(d(v)){const L=l.length||0,F=v.length||0;l.length=L+F;for(let H=0;H<F;H++)l[L+H]=v[H]}else l.push(v)}}class P{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function S(l){return/^[\s\xa0]*$/.test(l)}function A(){var l=u.navigator;return l&&(l=l.userAgent)?l:""}function D(l){return D[" "](l),l}D[" "]=function(){};var V=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function b(l,p,y){for(const v in l)p.call(y,l[v],v,l)}function w(l,p){for(const y in l)p.call(void 0,l[y],y,l)}function T(l){const p={};for(const y in l)p[y]=l[y];return p}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,p){let y,v;for(let L=1;L<arguments.length;L++){v=arguments[L];for(y in v)l[y]=v[y];for(let F=0;F<E.length;F++)y=E[F],Object.prototype.hasOwnProperty.call(v,y)&&(l[y]=v[y])}}function x(l){var p=1;l=l.split(":");const y=[];for(;0<p&&l.length;)y.push(l.shift()),p--;return l.length&&y.push(l.join(":")),y}function M(l){u.setTimeout(()=>{throw l},0)}function R(){var l=Y;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class X{constructor(){this.h=this.g=null}add(p,y){const v=se.get();v.set(p,y),this.h?this.h.next=v:this.g=v,this.h=v}}var se=new P(()=>new ue,l=>l.reset());class ue{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let we,G=!1,Y=new X,Q=()=>{const l=u.Promise.resolve(void 0);we=()=>{l.then(W)}};var W=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(y){M(y)}var p=se;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}G=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};u.addEventListener("test",y,p),u.removeEventListener("test",y,p)}catch{}return l}();function wt(l,p){if(ne.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(V){e:{try{D(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else y=="mouseover"?p=l.fromElement:y=="mouseout"&&(p=l.toElement);this.relatedTarget=p,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:It[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&wt.aa.h.call(this)}}k(wt,ne);var It={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Ql=0;function $o(l,p,y,v,L){this.listener=l,this.proxy=null,this.src=p,this.type=y,this.capture=!!v,this.ha=L,this.key=++Ql,this.da=this.fa=!1}function j(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Wt(l){this.src=l,this.g={},this.h=0}Wt.prototype.add=function(l,p,y,v,L){var F=l.toString();l=this.g[F],l||(l=this.g[F]=[],this.h++);var H=Tr(l,p,v,L);return-1<H?(p=l[H],y||(p.fa=!1)):(p=new $o(p,this.src,F,!!v,L),p.fa=y,l.push(p)),p};function vr(l,p){var y=p.type;if(y in l.g){var v=l.g[y],L=Array.prototype.indexOf.call(v,p,void 0),F;(F=0<=L)&&Array.prototype.splice.call(v,L,1),F&&(j(p),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Tr(l,p,y,v){for(var L=0;L<l.length;++L){var F=l[L];if(!F.da&&F.listener==p&&F.capture==!!y&&F.ha==v)return L}return-1}var Jn="closure_lm_"+(1e6*Math.random()|0),Er={};function zo(l,p,y,v,L){if(v&&v.once)return Jo(l,p,y,v,L);if(Array.isArray(p)){for(var F=0;F<p.length;F++)zo(l,p[F],y,v,L);return null}return y=wr(y),l&&l[Le]?l.K(p,y,f(v)?!!v.capture:!!v,L):Wo(l,p,y,!1,v,L)}function Wo(l,p,y,v,L,F){if(!p)throw Error("Invalid event type");var H=f(L)?!!L.capture:!!L,he=_i(l);if(he||(l[Jn]=he=new Wt(l)),y=he.add(p,y,v,H,F),y.proxy)return y;if(v=jl(),y.proxy=v,v.src=l,v.listener=y,l.addEventListener)me||(L=H),L===void 0&&(L=!1),l.addEventListener(p.toString(),v,L);else if(l.attachEvent)l.attachEvent(Yo(p.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return y}function jl(){function l(y){return p.call(l.src,l.listener,y)}const p=Zl;return l}function Jo(l,p,y,v,L){if(Array.isArray(p)){for(var F=0;F<p.length;F++)Jo(l,p[F],y,v,L);return null}return y=wr(y),l&&l[Le]?l.L(p,y,f(v)?!!v.capture:!!v,L):Wo(l,p,y,!0,v,L)}function Ko(l,p,y,v,L){if(Array.isArray(p))for(var F=0;F<p.length;F++)Ko(l,p[F],y,v,L);else v=f(v)?!!v.capture:!!v,y=wr(y),l&&l[Le]?(l=l.i,p=String(p).toString(),p in l.g&&(F=l.g[p],y=Tr(F,y,v,L),-1<y&&(j(F[y]),Array.prototype.splice.call(F,y,1),F.length==0&&(delete l.g[p],l.h--)))):l&&(l=_i(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Tr(p,y,v,L)),(y=-1<l?p[l]:null)&&Sr(y))}function Sr(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Le])vr(p.i,l);else{var y=l.type,v=l.proxy;p.removeEventListener?p.removeEventListener(y,v,l.capture):p.detachEvent?p.detachEvent(Yo(y),v):p.addListener&&p.removeListener&&p.removeListener(v),(y=_i(p))?(vr(y,l),y.h==0&&(y.src=null,p[Jn]=null)):j(l)}}}function Yo(l){return l in Er?Er[l]:Er[l]="on"+l}function Zl(l,p){if(l.da)l=!0;else{p=new wt(p,this);var y=l.listener,v=l.ha||l.src;l.fa&&Sr(l),l=y.call(v,p)}return l}function _i(l){return l=l[Jn],l instanceof Wt?l:null}var Cr="__closure_events_fn_"+(1e9*Math.random()>>>0);function wr(l){return typeof l=="function"?l:(l[Cr]||(l[Cr]=function(p){return l.handleEvent(p)}),l[Cr])}function Ne(){ee.call(this),this.i=new Wt(this),this.M=this,this.F=null}k(Ne,ee),Ne.prototype[Le]=!0,Ne.prototype.removeEventListener=function(l,p,y,v){Ko(this,l,p,y,v)};function Ue(l,p){var y,v=l.F;if(v)for(y=[];v;v=v.F)y.push(v);if(l=l.M,v=p.type||p,typeof p=="string")p=new ne(p,l);else if(p instanceof ne)p.target=p.target||l;else{var L=p;p=new ne(v,l),C(p,L)}if(L=!0,y)for(var F=y.length-1;0<=F;F--){var H=p.g=y[F];L=$(H,v,!0,p)&&L}if(H=p.g=l,L=$(H,v,!0,p)&&L,L=$(H,v,!1,p)&&L,y)for(F=0;F<y.length;F++)H=p.g=y[F],L=$(H,v,!1,p)&&L}Ne.prototype.N=function(){if(Ne.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var y=l.g[p],v=0;v<y.length;v++)j(y[v]);delete l.g[p],l.h--}}this.F=null},Ne.prototype.K=function(l,p,y,v){return this.i.add(String(l),p,!1,y,v)},Ne.prototype.L=function(l,p,y,v){return this.i.add(String(l),p,!0,y,v)};function $(l,p,y,v){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,F=0;F<p.length;++F){var H=p[F];if(H&&!H.da&&H.capture==y){var he=H.listener,Fe=H.ha||H.src;H.fa&&vr(l.i,H),L=he.call(Fe,v)!==!1&&L}}return L&&!v.defaultPrevented}function q(l,p,y){if(typeof l=="function")y&&(l=g(l,y));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:u.setTimeout(l,p||0)}function K(l){l.g=q(()=>{l.g=null,l.i&&(l.i=!1,K(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class fe extends ee{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:K(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Be(l){ee.call(this),this.h=l,this.g={}}k(Be,ee);var bt=[];function Vt(l){b(l.g,function(p,y){this.g.hasOwnProperty(y)&&Sr(p)},l),l.g={}}Be.prototype.N=function(){Be.aa.N.call(this),Vt(this)},Be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ke=u.JSON.stringify,vi=u.JSON.parse,ea=class{stringify(l){return u.JSON.stringify(l,void 0)}parse(l){return u.JSON.parse(l,void 0)}};function Ye(){}Ye.prototype.h=null;function Xo(l){return l.h||(l.h=l.i())}function ta(){}var Kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ir(){ne.call(this,"d")}k(Ir,ne);function Ar(){ne.call(this,"c")}k(Ar,ne);var Ti={},Id=null;function na(){return Id=Id||new Ne}Ti.La="serverreachability";function Ad(l){ne.call(this,Ti.La,l)}k(Ad,ne);function kr(l){const p=na();Ue(p,new Ad(p))}Ti.STAT_EVENT="statevent";function kd(l,p){ne.call(this,Ti.STAT_EVENT,l),this.stat=p}k(kd,ne);function Xe(l){const p=na();Ue(p,new kd(p,l))}Ti.Ma="timingevent";function Pd(l,p){ne.call(this,Ti.Ma,l),this.size=p}k(Pd,ne);function Pr(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){l()},p)}function Rr(){this.g=!0}Rr.prototype.xa=function(){this.g=!1};function rv(l,p,y,v,L,F){l.info(function(){if(l.g)if(F)for(var H="",he=F.split("&"),Fe=0;Fe<he.length;Fe++){var le=he[Fe].split("=");if(1<le.length){var Ge=le[0];le=le[1];var He=Ge.split("_");H=2<=He.length&&He[1]=="type"?H+(Ge+"="+le+"&"):H+(Ge+"=redacted&")}}else H=null;else H=F;return"XMLHTTP REQ ("+v+") [attempt "+L+"]: "+p+`
`+y+`
`+H})}function ov(l,p,y,v,L,F,H){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+L+"]: "+p+`
`+y+`
`+F+" "+H})}function Ei(l,p,y,v){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+lv(l,y)+(v?" "+v:"")})}function sv(l,p){l.info(function(){return"TIMEOUT: "+p})}Rr.prototype.info=function(){};function lv(l,p){if(!l.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var v=y[l];if(!(2>v.length)){var L=v[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var H=1;H<L.length;H++)L[H]=""}}}}return Ke(y)}catch{return p}}var ia={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},av={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ra;function Qo(){}k(Qo,Ye),Qo.prototype.g=function(){return new XMLHttpRequest},Qo.prototype.i=function(){return{}},ra=new Qo;function mn(l,p,y,v){this.j=l,this.i=p,this.l=y,this.R=v||1,this.U=new Be(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rd}function Rd(){this.i=null,this.g="",this.h=!1}var xd={},oa={};function sa(l,p,y){l.L=1,l.v=ts(Jt(p)),l.m=y,l.P=!0,Nd(l,null)}function Nd(l,p){l.F=Date.now(),jo(l),l.A=Jt(l.v);var y=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),zd(y.i,"t",v),l.C=0,y=l.j.J,l.h=new Rd,l.g=cf(l.j,y?p:null,!l.m),0<l.O&&(l.M=new fe(g(l.Y,l,l.g),l.O)),p=l.U,y=l.g,v=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(bt[0]=L.toString()),L=bt);for(var F=0;F<L.length;F++){var H=zo(y,L[F],v||p.handleEvent,!1,p.h||p);if(!H)break;p.g[H.key]=H}p=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),kr(),rv(l.i,l.u,l.A,l.l,l.R,l.m)}mn.prototype.ca=function(l){l=l.target;const p=this.M;p&&Kt(l)==3?p.j():this.Y(l)},mn.prototype.Y=function(l){try{if(l==this.g)e:{const He=Kt(this.g);var p=this.g.Ba();const wi=this.g.Z();if(!(3>He)&&(He!=3||this.g&&(this.h.h||this.g.oa()||jd(this.g)))){this.J||He!=4||p==7||(p==8||0>=wi?kr(3):kr(2)),la(this);var y=this.g.Z();this.X=y;t:if(Md(this)){var v=jd(this.g);l="";var L=v.length,F=Kt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yn(this),xr(this);var H="";break t}this.h.i=new u.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,l+=this.h.i.decode(v[p],{stream:!(F&&p==L-1)});v.length=0,this.h.g+=l,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=y==200,ov(this.i,this.u,this.A,this.l,this.R,He,y),this.o){if(this.T&&!this.K){t:{if(this.g){var he,Fe=this.g;if((he=Fe.g?Fe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(he)){var le=he;break t}}le=null}if(y=le)Ei(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,aa(this,y);else{this.o=!1,this.s=3,Xe(12),Yn(this),xr(this);break e}}if(this.P){y=!0;let At;for(;!this.J&&this.C<H.length;)if(At=uv(this,H),At==oa){He==4&&(this.s=4,Xe(14),y=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(At==xd){this.s=4,Xe(15),Ei(this.i,this.l,H,"[Invalid Chunk]"),y=!1;break}else Ei(this.i,this.l,At,null),aa(this,At);if(Md(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||H.length!=0||this.h.h||(this.s=1,Xe(16),y=!1),this.o=this.o&&y,!y)Ei(this.i,this.l,H,"[Invalid Chunked Response]"),Yn(this),xr(this);else if(0<H.length&&!this.W){this.W=!0;var Ge=this.j;Ge.g==this&&Ge.ba&&!Ge.M&&(Ge.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),pa(Ge),Ge.M=!0,Xe(11))}}else Ei(this.i,this.l,H,null),aa(this,H);He==4&&Yn(this),this.o&&!this.J&&(He==4?sf(this.j,this):(this.o=!1,jo(this)))}else Av(this.g),y==400&&0<H.indexOf("Unknown SID")?(this.s=3,Xe(12)):(this.s=0,Xe(13)),Yn(this),xr(this)}}}catch{}finally{}};function Md(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function uv(l,p){var y=l.C,v=p.indexOf(`
`,y);return v==-1?oa:(y=Number(p.substring(y,v)),isNaN(y)?xd:(v+=1,v+y>p.length?oa:(p=p.slice(v,v+y),l.C=v+y,p)))}mn.prototype.cancel=function(){this.J=!0,Yn(this)};function jo(l){l.S=Date.now()+l.I,Dd(l,l.I)}function Dd(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Pr(g(l.ba,l),p)}function la(l){l.B&&(u.clearTimeout(l.B),l.B=null)}mn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(sv(this.i,this.A),this.L!=2&&(kr(),Xe(17)),Yn(this),this.s=2,xr(this)):Dd(this,this.S-l)};function xr(l){l.j.G==0||l.J||sf(l.j,l)}function Yn(l){la(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,Vt(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function aa(l,p){try{var y=l.j;if(y.G!=0&&(y.g==l||ua(y.h,l))){if(!l.K&&ua(y.h,l)&&y.G==3){try{var v=y.Da.g.parse(p)}catch{v=null}if(Array.isArray(v)&&v.length==3){var L=v;if(L[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)ls(y),os(y);else break e;ha(y),Xe(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=Pr(g(y.Za,y),6e3));if(1>=Fd(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Qn(y,11)}else if((l.K||y.g==l)&&ls(y),!S(p))for(L=y.Da.g.parse(p),p=0;p<L.length;p++){let le=L[p];if(y.T=le[0],le=le[1],y.G==2)if(le[0]=="c"){y.K=le[1],y.ia=le[2];const Ge=le[3];Ge!=null&&(y.la=Ge,y.j.info("VER="+y.la));const He=le[4];He!=null&&(y.Aa=He,y.j.info("SVER="+y.Aa));const wi=le[5];wi!=null&&typeof wi=="number"&&0<wi&&(v=1.5*wi,y.L=v,y.j.info("backChannelRequestTimeoutMs_="+v)),v=y;const At=l.g;if(At){const as=At.g?At.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(as){var F=v.h;F.g||as.indexOf("spdy")==-1&&as.indexOf("quic")==-1&&as.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ca(F,F.h),F.h=null))}if(v.D){const ma=At.g?At.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(v.ya=ma,ge(v.I,v.D,ma))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),v=y;var H=l;if(v.qa=uf(v,v.J?v.ia:null,v.W),H.K){bd(v.h,H);var he=H,Fe=v.L;Fe&&(he.I=Fe),he.B&&(la(he),jo(he)),v.g=H}else rf(v);0<y.i.length&&ss(y)}else le[0]!="stop"&&le[0]!="close"||Qn(y,7);else y.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?Qn(y,7):fa(y):le[0]!="noop"&&y.l&&y.l.ta(le),y.v=0)}}kr(4)}catch{}}var cv=class{constructor(l,p){this.g=l,this.map=p}};function Ld(l){this.l=l||10,u.PerformanceNavigationTiming?(l=u.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ud(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Fd(l){return l.h?1:l.g?l.g.size:0}function ua(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function ca(l,p){l.g?l.g.add(p):l.h=p}function bd(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Ld.prototype.cancel=function(){if(this.i=Vd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Vd(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const y of l.g.values())p=p.concat(y.D);return p}return N(l.i)}function dv(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(d(l)){for(var p=[],y=l.length,v=0;v<y;v++)p.push(l[v]);return p}p=[],y=0;for(v in l)p[y++]=l[v];return p}function fv(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(d(l)||typeof l=="string"){var p=[];l=l.length;for(var y=0;y<l;y++)p.push(y);return p}p=[],y=0;for(const v in l)p[y++]=v;return p}}}function Od(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(d(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var y=fv(l),v=dv(l),L=v.length,F=0;F<L;F++)p.call(void 0,v[F],y&&y[F],l)}var Bd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hv(l,p){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var v=l[y].indexOf("="),L=null;if(0<=v){var F=l[y].substring(0,v);L=l[y].substring(v+1)}else F=l[y];p(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Xn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Xn){this.h=l.h,Zo(this,l.j),this.o=l.o,this.g=l.g,es(this,l.s),this.l=l.l;var p=l.i,y=new Dr;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),Gd(this,y),this.m=l.m}else l&&(p=String(l).match(Bd))?(this.h=!1,Zo(this,p[1]||"",!0),this.o=Nr(p[2]||""),this.g=Nr(p[3]||"",!0),es(this,p[4]),this.l=Nr(p[5]||"",!0),Gd(this,p[6]||"",!0),this.m=Nr(p[7]||"")):(this.h=!1,this.i=new Dr(null,this.h))}Xn.prototype.toString=function(){var l=[],p=this.j;p&&l.push(Mr(p,Hd,!0),":");var y=this.g;return(y||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Mr(p,Hd,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Mr(y,y.charAt(0)=="/"?gv:mv,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Mr(y,_v)),l.join("")};function Jt(l){return new Xn(l)}function Zo(l,p,y){l.j=y?Nr(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function es(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function Gd(l,p,y){p instanceof Dr?(l.i=p,vv(l.i,l.h)):(y||(p=Mr(p,yv)),l.i=new Dr(p,l.h))}function ge(l,p,y){l.i.set(p,y)}function ts(l){return ge(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Nr(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Mr(l,p,y){return typeof l=="string"?(l=encodeURI(l).replace(p,pv),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function pv(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Hd=/[#\/\?@]/g,mv=/[#\?:]/g,gv=/[#\?]/g,yv=/[#\?@]/g,_v=/#/g;function Dr(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function gn(l){l.g||(l.g=new Map,l.h=0,l.i&&hv(l.i,function(p,y){l.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=Dr.prototype,t.add=function(l,p){gn(this),this.i=null,l=Si(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(p),this.h+=1,this};function qd(l,p){gn(l),p=Si(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function $d(l,p){return gn(l),p=Si(l,p),l.g.has(p)}t.forEach=function(l,p){gn(this),this.g.forEach(function(y,v){y.forEach(function(L){l.call(p,L,v,this)},this)},this)},t.na=function(){gn(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let v=0;v<p.length;v++){const L=l[v];for(let F=0;F<L.length;F++)y.push(p[v])}return y},t.V=function(l){gn(this);let p=[];if(typeof l=="string")$d(this,l)&&(p=p.concat(this.g.get(Si(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)p=p.concat(l[y])}return p},t.set=function(l,p){return gn(this),this.i=null,l=Si(this,l),$d(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},t.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function zd(l,p,y){qd(l,p),0<y.length&&(l.i=null,l.g.set(Si(l,p),N(y)),l.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var v=p[y];const F=encodeURIComponent(String(v)),H=this.V(v);for(v=0;v<H.length;v++){var L=F;H[v]!==""&&(L+="="+encodeURIComponent(String(H[v]))),l.push(L)}}return this.i=l.join("&")};function Si(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function vv(l,p){p&&!l.j&&(gn(l),l.i=null,l.g.forEach(function(y,v){var L=v.toLowerCase();v!=L&&(qd(this,v),zd(this,L,y))},l)),l.j=p}function Tv(l,p){const y=new Rr;if(u.Image){const v=new Image;v.onload=I(yn,y,"TestLoadImage: loaded",!0,p,v),v.onerror=I(yn,y,"TestLoadImage: error",!1,p,v),v.onabort=I(yn,y,"TestLoadImage: abort",!1,p,v),v.ontimeout=I(yn,y,"TestLoadImage: timeout",!1,p,v),u.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else p(!1)}function Ev(l,p){const y=new Rr,v=new AbortController,L=setTimeout(()=>{v.abort(),yn(y,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:v.signal}).then(F=>{clearTimeout(L),F.ok?yn(y,"TestPingServer: ok",!0,p):yn(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),yn(y,"TestPingServer: error",!1,p)})}function yn(l,p,y,v,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),v(y)}catch{}}function Sv(){this.g=new ea}function Cv(l,p,y){const v=y||"";try{Od(l,function(L,F){let H=L;f(L)&&(H=Ke(L)),p.push(v+F+"="+encodeURIComponent(H))})}catch(L){throw p.push(v+"type="+encodeURIComponent("_badmap")),L}}function ns(l){this.l=l.Ub||null,this.j=l.eb||!1}k(ns,Ye),ns.prototype.g=function(){return new is(this.l,this.j)},ns.prototype.i=function(l){return function(){return l}}({});function is(l,p){Ne.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(is,Ne),t=is.prototype,t.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,Ur(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||u).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lr(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Ur(this)),this.g&&(this.readyState=3,Ur(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wd(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wd(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Lr(this):Ur(this),this.readyState==3&&Wd(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Lr(this))},t.Qa=function(l){this.g&&(this.response=l,Lr(this))},t.ga=function(){this.g&&Lr(this)};function Lr(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Ur(l)}t.setRequestHeader=function(l,p){this.u.append(l,p)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=p.next();return l.join(`\r
`)};function Ur(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Jd(l){let p="";return b(l,function(y,v){p+=v,p+=":",p+=y,p+=`\r
`}),p}function da(l,p,y){e:{for(v in y){var v=!1;break e}v=!0}v||(y=Jd(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):ge(l,p,y))}function Ae(l){Ne.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ae,Ne);var wv=/^https?$/i,Iv=["POST","PUT"];t=Ae.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,p,y,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ra.g(),this.v=this.o?Xo(this.o):Xo(ra),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(F){Kd(this,F);return}if(l=y||"",y=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var L in v)y.set(L,v[L]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const F of v.keys())y.set(F,v.get(F));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(y.keys()).find(F=>F.toLowerCase()=="content-type"),L=u.FormData&&l instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Iv,p,void 0))||v||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,H]of y)this.g.setRequestHeader(F,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qd(this),this.u=!0,this.g.send(l),this.u=!1}catch(F){Kd(this,F)}};function Kd(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,Yd(l),rs(l)}function Yd(l){l.A||(l.A=!0,Ue(l,"complete"),Ue(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ue(this,"complete"),Ue(this,"abort"),rs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rs(this,!0)),Ae.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xd(this):this.bb())},t.bb=function(){Xd(this)};function Xd(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Kt(l)!=4||l.Z()!=2)){if(l.u&&Kt(l)==4)q(l.Ea,0,l);else if(Ue(l,"readystatechange"),Kt(l)==4){l.h=!1;try{const H=l.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var v;if(v=H===0){var L=String(l.D).match(Bd)[1]||null;!L&&u.self&&u.self.location&&(L=u.self.location.protocol.slice(0,-1)),v=!wv.test(L?L.toLowerCase():"")}y=v}if(y)Ue(l,"complete"),Ue(l,"success");else{l.m=6;try{var F=2<Kt(l)?l.g.statusText:""}catch{F=""}l.l=F+" ["+l.Z()+"]",Yd(l)}}finally{rs(l)}}}}function rs(l,p){if(l.g){Qd(l);const y=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||Ue(l,"ready");try{y.onreadystatechange=v}catch{}}}function Qd(l){l.I&&(u.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Kt(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Kt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),vi(p)}};function jd(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Av(l){const p={};l=(l.g&&2<=Kt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(S(l[v]))continue;var y=x(l[v]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const F=p[L]||[];p[L]=F,F.push(y)}w(p,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fr(l,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||p}function Zd(l){this.Aa=0,this.i=[],this.j=new Rr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fr("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fr("baseRetryDelayMs",5e3,l),this.cb=Fr("retryDelaySeedMs",1e4,l),this.Wa=Fr("forwardChannelMaxRetries",2,l),this.wa=Fr("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ld(l&&l.concurrentRequestLimit),this.Da=new Sv,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Zd.prototype,t.la=8,t.G=1,t.connect=function(l,p,y,v){Xe(0),this.W=l,this.H=p||{},y&&v!==void 0&&(this.H.OSID=y,this.H.OAID=v),this.F=this.X,this.I=uf(this,null,this.W),ss(this)};function fa(l){if(ef(l),l.G==3){var p=l.U++,y=Jt(l.I);if(ge(y,"SID",l.K),ge(y,"RID",p),ge(y,"TYPE","terminate"),br(l,y),p=new mn(l,l.j,p),p.L=2,p.v=ts(Jt(y)),y=!1,u.navigator&&u.navigator.sendBeacon)try{y=u.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&u.Image&&(new Image().src=p.v,y=!0),y||(p.g=cf(p.j,null),p.g.ea(p.v)),p.F=Date.now(),jo(p)}af(l)}function os(l){l.g&&(pa(l),l.g.cancel(),l.g=null)}function ef(l){os(l),l.u&&(u.clearTimeout(l.u),l.u=null),ls(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&u.clearTimeout(l.s),l.s=null)}function ss(l){if(!Ud(l.h)&&!l.s){l.s=!0;var p=l.Ga;we||Q(),G||(we(),G=!0),Y.add(p,l),l.B=0}}function kv(l,p){return Fd(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Pr(g(l.Ga,l,p),lf(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new mn(this,this.j,l);let F=this.o;if(this.S&&(F?(F=T(F),C(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var v=this.i[y];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(p+=v,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=nf(this,L,p),y=Jt(this.I),ge(y,"RID",l),ge(y,"CVER",22),this.D&&ge(y,"X-HTTP-Session-Id",this.D),br(this,y),F&&(this.O?p="headers="+encodeURIComponent(String(Jd(F)))+"&"+p:this.m&&da(y,this.m,F)),ca(this.h,L),this.Ua&&ge(y,"TYPE","init"),this.P?(ge(y,"$req",p),ge(y,"SID","null"),L.T=!0,sa(L,y,null)):sa(L,y,p),this.G=2}}else this.G==3&&(l?tf(this,l):this.i.length==0||Ud(this.h)||tf(this))};function tf(l,p){var y;p?y=p.l:y=l.U++;const v=Jt(l.I);ge(v,"SID",l.K),ge(v,"RID",y),ge(v,"AID",l.T),br(l,v),l.m&&l.o&&da(v,l.m,l.o),y=new mn(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),p&&(l.i=p.D.concat(l.i)),p=nf(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ca(l.h,y),sa(y,v,p)}function br(l,p){l.H&&b(l.H,function(y,v){ge(p,v,y)}),l.l&&Od({},function(y,v){ge(p,v,y)})}function nf(l,p,y){y=Math.min(l.i.length,y);var v=l.l?g(l.l.Na,l.l,l):null;e:{var L=l.i;let F=-1;for(;;){const H=["count="+y];F==-1?0<y?(F=L[0].g,H.push("ofs="+F)):F=0:H.push("ofs="+F);let he=!0;for(let Fe=0;Fe<y;Fe++){let le=L[Fe].g;const Ge=L[Fe].map;if(le-=F,0>le)F=Math.max(0,L[Fe].g-100),he=!1;else try{Cv(Ge,H,"req"+le+"_")}catch{v&&v(Ge)}}if(he){v=H.join("&");break e}}}return l=l.i.splice(0,y),p.D=l,v}function rf(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;we||Q(),G||(we(),G=!0),Y.add(p,l),l.v=0}}function ha(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Pr(g(l.Fa,l),lf(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,of(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Pr(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xe(10),os(this),of(this))};function pa(l){l.A!=null&&(u.clearTimeout(l.A),l.A=null)}function of(l){l.g=new mn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=Jt(l.qa);ge(p,"RID","rpc"),ge(p,"SID",l.K),ge(p,"AID",l.T),ge(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&ge(p,"TO",l.ja),ge(p,"TYPE","xmlhttp"),br(l,p),l.m&&l.o&&da(p,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=ts(Jt(p)),y.m=null,y.P=!0,Nd(y,l)}t.Za=function(){this.C!=null&&(this.C=null,os(this),ha(this),Xe(19))};function ls(l){l.C!=null&&(u.clearTimeout(l.C),l.C=null)}function sf(l,p){var y=null;if(l.g==p){ls(l),pa(l),l.g=null;var v=2}else if(ua(l.h,p))y=p.D,bd(l.h,p),v=1;else return;if(l.G!=0){if(p.o)if(v==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var L=l.B;v=na(),Ue(v,new Pd(v,y)),ss(l)}else rf(l);else if(L=p.s,L==3||L==0&&0<p.X||!(v==1&&kv(l,p)||v==2&&ha(l)))switch(y&&0<y.length&&(p=l.h,p.i=p.i.concat(y)),L){case 1:Qn(l,5);break;case 4:Qn(l,10);break;case 3:Qn(l,6);break;default:Qn(l,2)}}}function lf(l,p){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*p}function Qn(l,p){if(l.j.info("Error code "+p),p==2){var y=g(l.fb,l),v=l.Xa;const L=!v;v=new Xn(v||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Zo(v,"https"),ts(v),L?Tv(v.toString(),y):Ev(v.toString(),y)}else Xe(2);l.G=0,l.l&&l.l.sa(p),af(l),ef(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Xe(2)):(this.j.info("Failed to ping google.com"),Xe(1))};function af(l){if(l.G=0,l.ka=[],l.l){const p=Vd(l.h);(p.length!=0||l.i.length!=0)&&(U(l.ka,p),U(l.ka,l.i),l.h.i.length=0,N(l.i),l.i.length=0),l.l.ra()}}function uf(l,p,y){var v=y instanceof Xn?Jt(y):new Xn(y);if(v.g!="")p&&(v.g=p+"."+v.g),es(v,v.s);else{var L=u.location;v=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var F=new Xn(null);v&&Zo(F,v),p&&(F.g=p),L&&es(F,L),y&&(F.l=y),v=F}return y=l.D,p=l.ya,y&&p&&ge(v,y,p),ge(v,"VER",l.la),br(l,v),v}function cf(l,p,y){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new Ae(new ns({eb:y})):new Ae(l.pa),p.Ha(l.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function df(){}t=df.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gt(l,p){Ne.call(this),this.g=new Zd(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!S(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!S(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Ci(this)}k(gt,Ne),gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gt.prototype.close=function(){fa(this.g)},gt.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=Ke(l),l=y);p.i.push(new cv(p.Ya++,l)),p.G==3&&ss(p)},gt.prototype.N=function(){this.g.l=null,delete this.j,fa(this.g),delete this.g,gt.aa.N.call(this)};function ff(l){Ir.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const y in p){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}k(ff,Ir);function hf(){Ar.call(this),this.status=1}k(hf,Ar);function Ci(l){this.g=l}k(Ci,df),Ci.prototype.ua=function(){Ue(this.g,"a")},Ci.prototype.ta=function(l){Ue(this.g,new ff(l))},Ci.prototype.sa=function(l){Ue(this.g,new hf)},Ci.prototype.ra=function(){Ue(this.g,"b")},gt.prototype.send=gt.prototype.o,gt.prototype.open=gt.prototype.m,gt.prototype.close=gt.prototype.close,ia.NO_ERROR=0,ia.TIMEOUT=8,ia.HTTP_ERROR=6,av.COMPLETE="complete",ta.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Ne.prototype.listen=Ne.prototype.K,Ae.prototype.listenOnce=Ae.prototype.L,Ae.prototype.getLastError=Ae.prototype.Ka,Ae.prototype.getLastErrorCode=Ae.prototype.Ba,Ae.prototype.getStatus=Ae.prototype.Z,Ae.prototype.getResponseJson=Ae.prototype.Oa,Ae.prototype.getResponseText=Ae.prototype.oa,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Ha}).apply(typeof As<"u"?As:typeof self<"u"?self:typeof window<"u"?window:{});const Qp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new ad("@firebase/firestore");function Mt(t,...e){if(ar.logLevel<=ce.DEBUG){const n=e.map(dd);ar.debug(`Firestore (${Bo}): ${t}`,...n)}}function S_(t,...e){if(ar.logLevel<=ce.ERROR){const n=e.map(dd);ar.error(`Firestore (${Bo}): ${t}`,...n)}}function Sk(t,...e){if(ar.logLevel<=ce.WARN){const n=e.map(dd);ar.warn(`Firestore (${Bo}): ${t}`,...n)}}function dd(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t="Unexpected state"){const e=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: `+t;throw S_(e),new Error(e)}function lo(t,e){t||fd()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends pn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ck{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(je.UNAUTHENTICATED))}shutdown(){}}class wk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ik{constructor(e){this.t=e,this.currentUser=je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lo(this.o===void 0);let i=this.i;const r=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let o=new ao;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ao,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await r(this.currentUser)})},u=d=>{Mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(Mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ao)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(lo(typeof i.accessToken=="string"),new C_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lo(e===null||typeof e=="string"),new je(e)}}class Ak{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=je.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kk{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new Ak(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rk{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){lo(this.o===void 0);const i=o=>{o.error!=null&&Mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Mt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{Mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):Mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(lo(typeof n.token=="string"),this.R=n.token,new Pk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xk(t){return t.name==="IndexedDbTransactionError"}class Sl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jp,re;(re=jp||(jp={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new E_([4294967295,4294967295],0);function Ka(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,n,i=1e3,r=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&Mt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){const s=Date.now()+i,u=new hd(e,n,s,r,o);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var Zp,em;(em=Zp||(Zp={})).ea="default",em.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=new Map;function Dk(t,e,n,i){if(e===!0&&i===!0)throw new ot(rt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Lk(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fd()}function Uk(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ot(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lk(t);throw new ot(rt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ot(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ot(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Dk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mk((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ot(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ot(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ot(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class w_{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nm(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Ck;switch(i.type){case"firstParty":return new kk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ot(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=tm.get(n);i&&(Mt("ComponentProvider","Removing Datastore"),tm.delete(n),i.terminate())}(this),Promise.resolve()}}function Fk(t,e,n,i={}){var r;const o=(t=Uk(t,w_))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Sk("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let u,d;if(typeof i.mockUserToken=="string")u=i.mockUserToken,d=je.MOCK_USER;else{u=e1(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new ot(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new je(f)}t._authCredentials=new wk(new C_(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Nk(this,"async_queue_retry"),this.Vu=()=>{const i=Ka();i&&Mt("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=Ka();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Ka();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ao;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!xk(e))throw e;Mt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const r=function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(i);throw S_("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const r=hd.createAndSchedule(this,e,n,i,o=>this.yu(o));return this.Tu.push(r),r}fu(){this.Eu&&fd()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class bk extends w_{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new im,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new im(e),this._firestoreClient=void 0,await e}}}function Vk(t,e){const n=typeof t=="object"?t:__(),i=typeof t=="string"?t:e||"(default)",r=cd(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=jA("firestore");o&&Fk(r,...o)}return r}(function(e,n=!0){(function(r){Bo=r})(yr),lr(new hi("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),u=new bk(new Ik(i.getProvider("auth-internal")),new Rk(i.getProvider("app-check-internal")),function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ot(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(f.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Bn(Qp,"4.7.3",e),Bn(Qp,"4.7.3","esm2017")})();var Ok="firebase",Bk="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn(Ok,Bk,"app");function pd(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function I_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Gk=I_,A_=new Vo("auth","Firebase",I_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new ad("@firebase/auth");function Hk(t,...e){Cl.logLevel<=ce.WARN&&Cl.warn(`Auth (${yr}): ${t}`,...e)}function Hs(t,...e){Cl.logLevel<=ce.ERROR&&Cl.error(`Auth (${yr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t,...e){throw md(t,...e)}function $t(t,...e){return md(t,...e)}function k_(t,e,n){const i=Object.assign(Object.assign({},Gk()),{[e]:n});return new Vo("auth","Firebase",i).create(e,{appName:t.name})}function si(t){return k_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function md(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return A_.create(t,...e)}function Z(t,e,...n){if(!t)throw md(e,...n)}function en(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hs(e),new Error(e)}function dn(t,e){t||en(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qk(){return rm()==="http:"||rm()==="https:"}function rm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qk()||i1()||"connection"in navigator)?navigator.onLine:!0}function zk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n){this.shortDelay=e,this.longDelay=n,dn(n>e,"Short delay should be less than long delay!"),this.isMobile=t1()||r1()}get(){return $k()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t,e){dn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;en("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;en("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;en("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=new Go(3e4,6e4);function yd(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _r(t,e,n,i,r={}){return R_(t,r,async()=>{let o={},s={};i&&(e==="GET"?s=i:o={body:JSON.stringify(i)});const u=Oo(Object.assign({key:t.config.apiKey},s)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:d},o);return n1()||(f.referrerPolicy="no-referrer"),P_.fetch()(x_(t,t.config.apiHost,n,u),f)})}async function R_(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},Wk),e);try{const r=new Yk(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw ks(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const u=o.ok?s.errorMessage:s.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw ks(t,"credential-already-in-use",s);if(d==="EMAIL_EXISTS")throw ks(t,"email-already-in-use",s);if(d==="USER_DISABLED")throw ks(t,"user-disabled",s);const h=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw k_(t,h,f);cn(t,h)}}catch(r){if(r instanceof pn)throw r;cn(t,"network-request-failed",{message:String(r)})}}async function Kk(t,e,n,i,r={}){const o=await _r(t,e,n,i,r);return"mfaPendingCredential"in o&&cn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function x_(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?gd(t.config,r):`${t.config.apiScheme}://${r}`}class Yk{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i($t(this.auth,"network-request-failed")),Jk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ks(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=$t(t,e,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(t,e){return _r(t,"POST","/v1/accounts:delete",e)}async function N_(t,e){return _r(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Qk(t,e=!1){const n=gr(t),i=await n.getIdToken(e),r=_d(i);Z(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:uo(Ya(r.auth_time)),issuedAtTime:uo(Ya(r.iat)),expirationTime:uo(Ya(r.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ya(t){return Number(t)*1e3}function _d(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Hs("JWT malformed, contained fewer than 3 sections"),null;try{const r=d_(n);return r?JSON.parse(r):(Hs("Failed to decode base64 JWT payload"),null)}catch(r){return Hs("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function om(t){const e=_d(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof pn&&jk(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function jk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uo(this.lastLoginAt),this.creationTime=uo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Ro(t,N_(n,{idToken:i}));Z(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?M_(o.providerUserInfo):[],u=tP(t.providerData,s),d=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),h=d?f:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new rc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function eP(t){const e=gr(t);await wl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tP(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function M_(t){return t.map(e=>{var{providerId:n}=e,i=pd(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nP(t,e){const n=await R_(t,{},async()=>{const i=Oo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,s=x_(t,r,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",P_.fetch()(s,{method:"POST",headers:u,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iP(t,e){return _r(t,"POST","/v2/accounts:revokeToken",yd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):om(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const n=om(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await nP(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,s=new Yi;return i&&(Z(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(Z(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(Z(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yi,this.toJSON())}_performRefresh(){return en("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class tn{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=pd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rc(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ro(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Qk(this,e)}reload(){return eP(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new tn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await wl(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(si(this.auth));const e=await this.getIdToken();return await Ro(this,Xk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,s,u,d,f,h;const m=(i=n.displayName)!==null&&i!==void 0?i:void 0,g=(r=n.email)!==null&&r!==void 0?r:void 0,I=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,k=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(u=n.tenantId)!==null&&u!==void 0?u:void 0,U=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,P=(f=n.createdAt)!==null&&f!==void 0?f:void 0,S=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:A,emailVerified:D,isAnonymous:V,providerData:b,stsTokenManager:w}=n;Z(A&&w,e,"internal-error");const T=Yi.fromJSON(this.name,w);Z(typeof A=="string",e,"internal-error"),vn(m,e.name),vn(g,e.name),Z(typeof D=="boolean",e,"internal-error"),Z(typeof V=="boolean",e,"internal-error"),vn(I,e.name),vn(k,e.name),vn(N,e.name),vn(U,e.name),vn(P,e.name),vn(S,e.name);const E=new tn({uid:A,auth:e,email:g,emailVerified:D,displayName:m,isAnonymous:V,photoURL:k,phoneNumber:I,tenantId:N,stsTokenManager:T,createdAt:P,lastLoginAt:S});return b&&Array.isArray(b)&&(E.providerData=b.map(C=>Object.assign({},C))),U&&(E._redirectEventId=U),E}static async _fromIdTokenResponse(e,n,i=!1){const r=new Yi;r.updateFromServerResponse(n);const o=new tn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await wl(o),o}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];Z(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?M_(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),u=new Yi;u.updateFromIdToken(i);const d=new tn({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:s}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new rc(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=new Map;function nn(t){dn(t instanceof Function,"Expected a class definition");let e=sm.get(t);return e?(dn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sm.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}D_.type="NONE";const lm=D_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t,e,n){return`firebase:${t}:${e}:${n}`}class Xi{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=qs(this.userKey,r.apiKey,o),this.fullPersistenceKey=qs("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?tn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Xi(nn(lm),e,i);const r=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||nn(lm);const s=qs(i,e.config.apiKey,e.name);let u=null;for(const f of n)try{const h=await f._get(s);if(h){const m=tn._fromJSON(e,h);f!==o&&(u=m),o=f;break}}catch{}const d=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Xi(o,e,i):(o=d[0],u&&await o._set(s,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(s)}catch{}})),new Xi(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(b_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(L_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O_(e))return"Blackberry";if(B_(e))return"Webos";if(U_(e))return"Safari";if((e.includes("chrome/")||F_(e))&&!e.includes("edge/"))return"Chrome";if(V_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function L_(t=et()){return/firefox\//i.test(t)}function U_(t=et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function F_(t=et()){return/crios\//i.test(t)}function b_(t=et()){return/iemobile/i.test(t)}function V_(t=et()){return/android/i.test(t)}function O_(t=et()){return/blackberry/i.test(t)}function B_(t=et()){return/webos/i.test(t)}function vd(t=et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rP(t=et()){var e;return vd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oP(){return o1()&&document.documentMode===10}function G_(t=et()){return vd(t)||V_(t)||B_(t)||O_(t)||/windows phone/i.test(t)||b_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(t,e=[]){let n;switch(t){case"Browser":n=am(et());break;case"Worker":n=`${am(et())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((s,u)=>{try{const d=e(o);s(d)}catch(d){u(d)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(t,e={}){return _r(t,"GET","/v2/passwordPolicy",yd(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=6;class uP{constructor(e){var n,i,r,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:aP,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,s,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(s=d.containsNumericCharacter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new um(this),this.idTokenSubscription=new um(this),this.beforeStateQueue=new sP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nn(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Xi.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await N_(this,{idToken:e}),i=await tn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Rn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!s||s===u)&&(d!=null&&d.user)&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(si(this));const n=e?gr(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lP(this),n=new uP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vo("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await iP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&nn(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await Xi.create(this,[nn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(u,this,"internal-error"),u.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,r);return()=>{s=!0,d()}}else{const d=e.addObserver(n);return()=>{s=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Hk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Td(t){return gr(t)}class um{constructor(e){this.auth=e,this.observer=null,this.addObserver=f1(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ed={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dP(t){Ed=t}function fP(t){return Ed.loadJS(t)}function hP(){return Ed.gapiScript}function pP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t,e){const n=cd(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(Tl(o,e??{}))return r;cn(r,"already-initialized")}return n.initialize({options:e})}function gP(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(nn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function yP(t,e,n){const i=Td(t);Z(i._canInitEmulator,i,"emulator-config-failed"),Z(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),o=q_(e),{host:s,port:u}=_P(e),d=u===null?"":`:${u}`;i.config.emulator={url:`${o}//${s}${d}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||vP()}function q_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _P(t){const e=q_(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:cm(i.substr(o.length+1))}}else{const[o,s]=i.split(":");return{host:o,port:cm(s)}}}function cm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function vP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return en("not implemented")}_getIdTokenResponse(e){return en("not implemented")}_linkToIdToken(e,n){return en("not implemented")}_getReauthenticationResolver(e){return en("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qi(t,e){return Kk(t,"POST","/v1/accounts:signInWithIdp",yd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="http://localhost";class pi extends $_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=pd(n,["providerId","signInMethod"]);if(!i||!r)return null;const s=new pi(i,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Qi(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Qi(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qi(e,n)}buildRequest(){const e={requestUri:TP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Oo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends z_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn extends Ho{constructor(){super("facebook.com")}static credential(e){return pi._fromParams({providerId:wn.PROVIDER_ID,signInMethod:wn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wn.credentialFromTaggedObject(e)}static credentialFromError(e){return wn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wn.credential(e.oauthAccessToken)}catch{return null}}}wn.FACEBOOK_SIGN_IN_METHOD="facebook.com";wn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt extends Ho{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pi._fromParams({providerId:Qt.PROVIDER_ID,signInMethod:Qt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qt.credentialFromTaggedObject(e)}static credentialFromError(e){return Qt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Qt.credential(n,i)}catch{return null}}}Qt.GOOGLE_SIGN_IN_METHOD="google.com";Qt.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In extends Ho{constructor(){super("github.com")}static credential(e){return pi._fromParams({providerId:In.PROVIDER_ID,signInMethod:In.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return In.credentialFromTaggedObject(e)}static credentialFromError(e){return In.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return In.credential(e.oauthAccessToken)}catch{return null}}}In.GITHUB_SIGN_IN_METHOD="github.com";In.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An extends Ho{constructor(){super("twitter.com")}static credential(e,n){return pi._fromParams({providerId:An.PROVIDER_ID,signInMethod:An.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return An.credentialFromTaggedObject(e)}static credentialFromError(e){return An.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return An.credential(n,i)}catch{return null}}}An.TWITTER_SIGN_IN_METHOD="twitter.com";An.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await tn._fromIdTokenResponse(e,i,r),s=dm(i);return new ur({user:o,providerId:s,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=dm(i);return new ur({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function dm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends pn{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Il.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Il(e,n,i,r)}}function W_(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Il._fromErrorAndOperation(t,o,e,i):o})}async function EP(t,e,n=!1){const i=await Ro(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ur._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP(t,e,n=!1){const{auth:i}=t;if(Rn(i.app))return Promise.reject(si(i));const r="reauthenticate";try{const o=await Ro(t,W_(i,r,e,t),n);Z(o.idToken,i,"internal-error");const s=_d(o.idToken);Z(s,i,"internal-error");const{sub:u}=s;return Z(t.uid===u,i,"user-mismatch"),ur._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&cn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CP(t,e,n=!1){if(Rn(t.app))return Promise.reject(si(t));const i="signIn",r=await W_(t,i,e),o=await ur._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}function wP(t,e,n,i){return gr(t).onIdTokenChanged(e,n,i)}function IP(t,e,n){return gr(t).beforeAuthStateChanged(e,n)}const Al="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Al,"1"),this.storage.removeItem(Al),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=1e3,kP=10;class K_ extends J_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=G_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,u,d)=>{this.notifyListeners(s,d)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const s=this.storage.getItem(i);!n&&this.localCache[i]===s||this.notifyListeners(i,s)},o=this.storage.getItem(i);oP()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,kP):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},AP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}K_.type="LOCAL";const PP=K_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_ extends J_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Y_.type="SESSION";const X_=Y_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Yl(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,s=this.handlersMap[r];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(s).map(async f=>f(n.origin,o)),d=await RP(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((u,d)=>{const f=Sd("",20);r.port1.start();const h=setTimeout(()=>{d(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(m){const g=m;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(g.data.response);break;default:clearTimeout(h),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return window}function NP(t){zt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(){return typeof zt().WorkerGlobalScope<"u"&&typeof zt().importScripts=="function"}async function MP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function LP(){return Q_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="firebaseLocalStorageDb",UP=1,kl="firebaseLocalStorage",Z_="fbase_key";class qo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xl(t,e){return t.transaction([kl],e?"readwrite":"readonly").objectStore(kl)}function FP(){const t=indexedDB.deleteDatabase(j_);return new qo(t).toPromise()}function oc(){const t=indexedDB.open(j_,UP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(kl,{keyPath:Z_})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(kl)?e(i):(i.close(),await FP(),e(await oc()))})})}async function fm(t,e,n){const i=Xl(t,!0).put({[Z_]:e,value:n});return new qo(i).toPromise()}async function bP(t,e){const n=Xl(t,!1).get(e),i=await new qo(n).toPromise();return i===void 0?null:i.value}function hm(t,e){const n=Xl(t,!0).delete(e);return new qo(n).toPromise()}const VP=800,OP=3;class ev{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await oc(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>OP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yl._getInstance(LP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await MP(),!this.activeServiceWorker)return;this.sender=new xP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await oc();return await fm(e,Al,"1"),await hm(e,Al),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>fm(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>bP(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=Xl(r,!1).getAll();return new qo(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ev.type="LOCAL";const BP=ev;new Go(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t,e){return e?nn(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends $_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HP(t){return CP(t.auth,new Cd(t),t.bypassAuthState)}function qP(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),SP(n,new Cd(t),t.bypassAuthState)}async function $P(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),EP(n,new Cd(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:s,type:u}=e;if(s){this.reject(s);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HP;case"linkViaPopup":case"linkViaRedirect":return $P;case"reauthViaPopup":case"reauthViaRedirect":return qP;default:cn(this.auth,"internal-error")}}resolve(e){dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=new Go(2e3,1e4);class Oi extends tv{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Oi.currentPopupAction&&Oi.currentPopupAction.cancel(),Oi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){dn(this.filter.length===1,"Popup operations only handle one event");const e=Sd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($t(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($t(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($t(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zP.get())};e()}}Oi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP="pendingRedirect",$s=new Map;class JP extends tv{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=$s.get(this.auth._key());if(!e){try{const i=await KP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}$s.set(this.auth._key(),e)}return this.bypassAuthState||$s.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KP(t,e){const n=QP(e),i=XP(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function YP(t,e){$s.set(t._key(),e)}function XP(t){return nn(t._redirectPersistence)}function QP(t){return qs(WP,t.config.apiKey,t.name)}async function jP(t,e,n=!1){if(Rn(t.app))return Promise.reject(si(t));const i=Td(t),r=GP(i,e),s=await new JP(i,r,n).execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=10*60*1e3;class eR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!nv(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError($t(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZP&&this.cachedEventUids.clear(),this.cachedEventUids.has(pm(e))}saveEventToCache(e){this.cachedEventUids.add(pm(e)),this.lastProcessedEventTime=Date.now()}}function pm(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nv({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nv(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(t,e={}){return _r(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rR=/^https?/;async function oR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await nR(t);for(const n of e)try{if(sR(n))return}catch{}cn(t,"unauthorized-domain")}function sR(t){const e=ic(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===i}if(!rR.test(n))return!1;if(iR.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new Go(3e4,6e4);function mm(){const t=zt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aR(t){return new Promise((e,n)=>{var i,r,o;function s(){mm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mm(),n($t(t,"network-request-failed"))},timeout:lR.get()})}if(!((r=(i=zt().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=zt().gapi)===null||o===void 0)&&o.load)s();else{const u=pP("iframefcb");return zt()[u]=()=>{gapi.load?s():n($t(t,"network-request-failed"))},fP(`${hP()}?onload=${u}`).catch(d=>n(d))}}).catch(e=>{throw zs=null,e})}let zs=null;function uR(t){return zs=zs||aR(t),zs}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=new Go(5e3,15e3),dR="__/auth/iframe",fR="emulator/auth/iframe",hR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mR(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gd(e,fR):`https://${t.config.authDomain}/${dR}`,i={apiKey:e.apiKey,appName:t.name,v:yr},r=pR.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Oo(i).slice(1)}`}async function gR(t){const e=await uR(t),n=zt().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:mR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hR,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const s=$t(t,"network-request-failed"),u=zt().setTimeout(()=>{o(s)},cR.get());function d(){zt().clearTimeout(u),r(i)}i.ping(d).then(d,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_R=500,vR=600,TR="_blank",ER="http://localhost";class gm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SR(t,e,n,i=_R,r=vR){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const d=Object.assign(Object.assign({},yR),{width:i.toString(),height:r.toString(),top:o,left:s}),f=et().toLowerCase();n&&(u=F_(f)?TR:n),L_(f)&&(e=e||ER,d.scrollbars="yes");const h=Object.entries(d).reduce((g,[I,k])=>`${g}${I}=${k},`,"");if(rP(f)&&u!=="_self")return CR(e||"",u),new gm(null);const m=window.open(e||"",u,h);Z(m,t,"popup-blocked");try{m.focus()}catch{}return new gm(m)}function CR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="__/auth/handler",IR="emulator/auth/handler",AR=encodeURIComponent("fac");async function ym(t,e,n,i,r,o){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:yr,eventId:r};if(e instanceof z_){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",d1(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries(o||{}))s[h]=m}if(e instanceof Ho){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const u=s;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const d=await t._getAppCheckToken(),f=d?`#${AR}=${encodeURIComponent(d)}`:"";return`${kR(t)}?${Oo(u).slice(1)}${f}`}function kR({config:t}){return t.emulator?gd(t,IR):`https://${t.authDomain}/${wR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="webStorageSupport";class PR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X_,this._completeRedirectFn=jP,this._overrideRedirectResult=YP}async _openPopup(e,n,i,r){var o;dn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await ym(e,n,i,ic(),r);return SR(e,s,Sd())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await ym(e,n,i,ic(),r);return NP(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(dn(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await gR(e),i=new eR(e);return n.register("authEvent",r=>(Z(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xa,{type:Xa},r=>{var o;const s=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[Xa];s!==void 0&&n(!!s),cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return G_()||U_()||vd()}}const RR=PR;var _m="@firebase/auth",vm="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MR(t){lr(new hi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=i.options;Z(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:s,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H_(t)},f=new cP(i,r,o,d);return gP(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),lr(new hi("auth-internal",e=>{const n=Td(e.getProvider("auth").getImmediate());return(i=>new xR(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(_m,vm,NR(t)),Bn(_m,vm,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=5*60,LR=p_("authIdTokenMaxAge")||DR;let Tm=null;const UR=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>LR)return;const r=n==null?void 0:n.token;Tm!==r&&(Tm=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function FR(t=__()){const e=cd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=mP(t,{popupRedirectResolver:RR,persistence:[BP,PP,X_]}),i=p_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const s=UR(o.toString());IP(n,s,()=>s(n.currentUser)),wP(n,u=>s(u))}}const r=f_("auth");return r&&yP(n,`http://${r}`),n}function bR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}dP({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=$t("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",bR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MR("Browser");const VR={apiKey:{}.VITE_FIREBASE_API_KEY||"",authDomain:{}.VITE_FIREBASE_AUTH_DOMAIN||"",projectId:{}.VITE_FIREBASE_PROJECT_ID||"",storageBucket:{}.VITE_FIREBASE_STORAGE_BUCKET||"",messagingSenderId:{}.VITE_FIREBASE_MESSAGING_SENDER_ID||"",appId:{}.VITE_FIREBASE_APP_ID||""},iv=y_(VR);Vk(iv);FR(iv);new Qt;function OR(){return/Mobi|Android/i.test(navigator.userAgent)}function BR(){return window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}const GR={ko:{language_selection_title:"언어",error_wish_required:"목표를 입력해주세요.",error_outcome_required:"결과를 입력해주세요.",error_obstacle_required:"장애물을 입력해주세요.",error_plan_required:"If-Then 계획을 입력해주세요.",error_deadline_required:"마감일을 선택해주세요.",error_day_required:"하나 이상의 요일을 선택해주세요.",my_goals_title:"나의 목표",sort_label_manual:"수동",sort_label_deadline:"마감일순",sort_label_newest:"최신순",sort_label_alphabetical:"이름순",sort_label_ai:"AI 추천",ai_sorting_button:"정렬 중...",add_new_goal_button_label:"새로운 목표 추가",filter_all:"모든 목표",filter_active:"진행중",filter_completed:"완료됨",empty_message_all:"첫 번째 목표를 추가하여 시작해보세요.",empty_message_active:"진행중인 목표가 없습니다.",empty_message_completed:"아직 완료된 목표가 없습니다.",empty_encouragement_1:"새로운 여정의 첫 걸음을 내딛어보세요.",empty_encouragement_2:"작은 변화가 큰 성취로 이어집니다.",empty_encouragement_3:"오늘 하는 일이 내일을 만듭니다.",empty_encouragement_4:"당신의 목표가 현실이 되는 순간을 만나보세요.",delete_button:"삭제",edit_button_aria:"목표 편집",info_button_aria:"상세 정보",filter_title:"필터",sort_title:"정렬",filter_sort_button_aria:"필터 및 정렬",calendar_view_button_aria:"캘린더 보기",list_view_button_aria:"목록 보기",more_options_button_aria:"더 보기",select_button_label:"선택",cancel_selection_button_label:"취소",delete_selected_button_label:"{count}개 삭제",delete_selected_confirm_title:"목표 삭제",delete_selected_confirm_message:"선택한 {count}개의 목표가 영구적으로 삭제됩니다.",days_left:"{count}일 남음",d_day:"D-DAY",days_overdue:"{count}일 지남",month_names:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],day_names_short:["일","월","화","수","목","금","토"],day_names_long:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],calendar_header_month_format:"{year}년 {month}",calendar_view_day3:"3일",calendar_view_week:"주",calendar_view_month:"월",settings_title:"설정",sort_alert_title:"정렬 실패",sort_alert_message:"AI 추천 정렬을 사용하려면<br/>2개 이상의 목표가 필요합니다.",ai_sort_error_title:"AI 정렬 오류",ai_sort_error_message:"지금은 목표를 정렬할 수 없습니다.",confirm_button:"확인",new_goal_modal_title:"새로운 목표",edit_goal_modal_title:"목표 편집",wish_label:"목표",outcome_label:"최상의 결과",obstacle_label:"장애물",plan_label:"If-Then 계획",deadline_label:"마감일",cancel_button:"취소",add_button:"추가",save_button:"저장",goal_details_modal_title:"목표 상세 정보",ai_coach_suggestion:"🤖 AI 코치",ai_analyzing:"AI 분석 중...",close_button:"닫기",ai_sort_reason_modal_title:"AI 정렬 재안",ai_sort_criteria:"AI 정렬 기준",delete_account_final_confirm_title:"계정 삭제",delete_account_final_confirm_message:"계정을 포함한 모든 목표, 폴더, 설정, 데이터가 영구적으로 삭제되며, 이 작업은 되돌릴 수 없습니다.",delete_all_data_button:"계정 완전 삭제",settings_done_button:"완료",settings_section_data:"데이터 관리",settings_export_data:"내보내기",settings_import_data:"가져오기",import_confirm_title:"데이터 가져오기",import_confirm_message:"현재 목표를 새로운 데이터로 교체합니다. 이 작업은 되돌릴 수 없습니다.",import_success_toast:"데이터를 성공적으로 가져왔습니다.",import_error_alert_title:"가져오기 실패",import_error_alert_message:"파일을 읽는 중 오류가 발생했거나 파일 형식이 올바르지 않습니다.",settings_section_general:"일반",settings_section_info:"정보",settings_section_help:"사용방법",settings_dark_mode:"다크 모드",settings_language:"언어",settings_api_key:"AI 도우미 설정",settings_api_key_placeholder:"Gemini API 키 입력",settings_offline_mode:"오프라인 사용",settings_offline_mode_desc:"AI 기능 없이 기본 앱 기능만 사용",language_name:"한국어 (대한민국)",language_modal_title:"언어",settings_section_background:"화면",settings_bg_default:"라이트",settings_bg_default_dark:"다크",settings_bg_pink:"핑크",settings_bg_cherry_noir:"체리 누아르",settings_bg_blue:"블루",settings_bg_deep_ocean:"오션",settings_bg_green:"그린",settings_bg_forest_green:"포레스트",settings_bg_purple:"퍼플",settings_bg_royal_purple:"로얄 퍼플",settings_version:"버전",settings_developer:"개발자",developer_name:"GimGyuMin",settings_copyright:"저작권",copyright_notice:"© 2025 GimGyuMin. All Rights Reserved.",build_number:"빌드 번호",settings_data_header:"데이터 관리",settings_data_header_desc:"목표 데이터를 파일로 내보내거나, 파일에서 가져옵니다.",settings_background_header:"배경화면",settings_background_header_desc:"앱의 배경화면 스타일을 변경하여 개성을 표현해 보세요.",data_importing:"가져오는 중...",data_exporting:"내보내는 중...",data_deleting:"삭제 중...",url_import_title:"URL에서 데이터 불러오기",url_import_message:"URL의 데이터로 현재 목표 목록을 덮어쓰시겠습니까?",url_import_confirm:"불러오기",url_import_success:"URL에서 데이터를 성공적으로 가져왔습니다!",url_import_error:"URL의 데이터가 올바르지 않습니다.",settings_share_link_header:"링크로 공유",settings_generate_link:"공유 링크 생성",settings_copy_link:"복사",link_copied_toast:"링크가 클립보드에 복사되었습니다.",short_url_created:"📎 단축 URL이 생성되었습니다!",share_link_created:"🔗 공유 링크가 생성되었습니다!",short_url_failed:"⚠️ 단축 URL 생성에 실패하여 기본 링크를 사용합니다.",no_data_to_share:"공유할 목표가 없습니다. 먼저 목표를 추가해주세요.",usage_guide_tab:"사용방법",usage_guide_title:"사용 가이드",usage_basic_title:"목표 추가하기",usage_basic_desc:`1. 홈 화면에서 "목표 추가 및 편집" 버튼을 탭하세요.
2. 목표, 결과, 장애물, 계획을 차례로 입력하세요.
3. 마감일과 반복 요일을 선택하세요.
4. "저장" 버튼을 눌러 목표를 추가하세요.`,usage_ai_title:"AI 기능 사용하기",usage_ai_desc:`• 목표 작성 시 "AI 제안" 버튼으로 개선된 목표를 받아보세요.
• 목표 목록에서 "AI 정렬" 버튼으로 중요도 순 정렬이 가능합니다.
• AI 분석을 통해 더 효과적인 목표 설정을 도와드립니다.

※ AI 기능 사용을 위해서는 API 키 설정이 필요합니다.`,usage_ai_setup_title:"AI 기능 설정하기",usage_ai_setup_desc:`1. 설정 > 일반에서 API 키 입력란을 찾으세요.
2. Google Gemini API 키를 입력하세요.
3. API 키 발급 방법은 다음 Google 지원 문서를 참조하세요:
   https://ai.google.dev/gemini-api/docs/api-key
4. 키 입력 후 AI 기능이 활성화됩니다.`,usage_share_title:"목표 공유하기",usage_share_desc:`1. 설정 > 공유에서 "목표 링크 생성" 버튼을 탭하세요.
2. 자동으로 생성된 단축 링크를 확인하세요.
3. "링크 복사" 버튼으로 클립보드에 복사하세요.
4. 메신저나 이메일로 링크를 공유하세요.`,usage_theme_title:"테마 변경하기",usage_theme_desc:`1. 설정 > 모양에서 다크 모드 토글을 사용하세요.
2. 배경 테마에서 원하는 색상을 선택하세요.
3. 기본, 핑크, 블루, 그린, 퍼플 테마 중 선택 가능합니다.
4. 변경 사항은 즉시 적용됩니다.`,usage_calendar_title:"캘린더 보기 사용하기",usage_calendar_desc:`1. 하단 탭에서 캘린더 아이콘을 탭하세요.
2. 3일/주간/월간 보기를 선택할 수 있습니다.
3. 날짜를 탭하여 해당 날의 목표를 확인하세요.
4. 좌우 화살표로 날짜를 이동할 수 있습니다.`,usage_offline_desc:`1. 설정 > 일반에서 "오프라인 모드" 토글을 켜세요.
2. API 키 없이도 목표 추가, 편집, 삭제가 가능합니다.
3. AI 기능은 사용할 수 없지만 모든 기본 기능은 정상 작동합니다.
4. 데이터는 브라우저에 안전하게 저장됩니다.`,goal_assistant_title:"새로운 목표",goal_assistant_mode_woop:"WOOP 방식",goal_assistant_mode_automation:"빠른 생성",automation_title:"목표 시리즈 만들기",automation_base_name_label:"목표 이름",automation_base_name_placeholder:"예: 영어 단어 학습",automation_total_units_label:"총 분량",automation_total_units_placeholder:"예: 30",automation_units_per_day_label:"일일 분량",automation_period_label:"기간",automation_start_date_label:"시작일",automation_end_date_label:"종료일",automation_generate_button:"{count}개 생성",automation_error_all_fields:"모든 필드를 올바르게 입력해주세요.",automation_error_start_after_end:"시작일은 종료일보다 빨라야 합니다.",automation_error_short_period:"기간이 너무 짧습니다. (1일 이상)",next_button:"다음",back_button:"이전",wish_tip:"측정 가능하고 구체적인, 도전적이면서도 현실적인 목표를 설정하세요.",wish_example:"예: 3개월 안에 5kg 감량하기, 이번 학기에 A+ 받기",outcome_tip:"목표 달성 시 얻게 될 가장 긍정적인 결과를 생생하게 상상해 보세요.",outcome_example:"예: 더 건강하고 자신감 있는 모습, 성적 장학금 수령",obstacle_tip:"목표 달성을 방해할 수 있는 내면의 장애물(습관, 감정 등)은 무엇인가요?",obstacle_example:"예: 퇴근 후 피곤해서 운동 가기 싫은 마음, 어려운 과제를 미루는 습관",plan_tip:"'만약 ~라면, ~하겠다' 형식으로 장애물에 대한 구체적인 대응 계획을 세워보세요.",plan_example:"예: 만약 퇴근 후 운동 가기 싫다면, 일단 운동복으로 갈아입고 10분만 스트레칭한다.",recurrence_label:"반복",recurrence_tip:"정해진 요일에 꾸준히 해야 하는 목표인가요? 반복으로 설정하여 연속 달성을 기록해 보세요.",recurrence_example:"예: 매주 월,수,금 헬스장 가기",recurrence_option_daily:"반복 목표",deadline_tip:"현실적인 마감일을 설정하여 동기를 부여하세요. 마감일이 없는 장기 목표도 좋습니다.",deadline_option_no_deadline:"마감일 없음",day_names_short_picker:["월","화","수","목","금","토","일"],version_update_title:"새로운 기능",version_update_1_title:"AI 도우미 설정",version_update_1_desc:"Gemini API 키를 직접 설정하거나 오프라인 모드로 AI 없이도 앱을 사용할 수 있습니다.",version_update_2_title:"목표 공유",version_update_2_desc:"목표를 링크로 공유하고 단축 URL로 쉽게 전달하세요. 한국어도 완벽하게 지원합니다.",version_update_3_title:"모던 스타일 UI",version_update_3_desc:"세련된 모던 디자인 언어와 모바일 최적화로 더욱 직관적인 경험을 제공합니다."},en:{language_selection_title:"Language",error_wish_required:"Please enter your wish.",error_outcome_required:"Please enter the outcome.",error_obstacle_required:"Please enter the obstacle.",error_plan_required:"Please enter your If-Then plan.",error_deadline_required:"Please select a deadline.",error_day_required:"Please select at least one day.",my_goals_title:"My Goals",sort_label_manual:"Manual",sort_label_deadline:"Deadline",sort_label_newest:"Newest",sort_label_alphabetical:"Alphabetical",sort_label_ai:"AI Recommended",ai_sorting_button:"Sorting...",add_new_goal_button_label:"Add New Goal",filter_all:"All Goals",filter_active:"In Progress",filter_completed:"Completed",empty_message_all:"Add your first goal to begin your journey.",empty_message_active:"No goals in progress.",empty_message_completed:"No completed goals yet.",empty_encouragement_1:"Take the first step toward something amazing.",empty_encouragement_2:"Small changes lead to big achievements.",empty_encouragement_3:"What you do today shapes tomorrow.",empty_encouragement_4:"Your goals are waiting to become reality.",delete_button:"Delete",edit_button_aria:"Edit Goal",info_button_aria:"Details",filter_title:"Filter",sort_title:"Sort",filter_sort_button_aria:"Filter and Sort",calendar_view_button_aria:"Calendar View",list_view_button_aria:"List View",more_options_button_aria:"More",select_button_label:"Select",cancel_selection_button_label:"Cancel",delete_selected_button_label:"Delete {count}",delete_selected_confirm_title:"Delete Goals",delete_selected_confirm_message:"The {count} selected goals will be permanently deleted.",days_left:"{count} days left",d_day:"D-DAY",days_overdue:"{count} days overdue",month_names:["January","February","March","April","May","June","July","August","September","October","November","December"],day_names_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],day_names_long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],calendar_header_month_format:"{month} {year}",calendar_view_day3:"3-Day",calendar_view_week:"Week",calendar_view_month:"Month",settings_title:"Settings",sort_alert_title:"Unable to Sort",sort_alert_message:"Add at least two goals to use AI recommendations.",ai_sort_error_title:"Sorting Unavailable",ai_sort_error_message:"AI sorting is temporarily unavailable.",confirm_button:"OK",new_goal_modal_title:"New Goal",edit_goal_modal_title:"Edit Goal",wish_label:"Wish",outcome_label:"Outcome",obstacle_label:"Obstacle",plan_label:"If-Then Plan",deadline_label:"Deadline",cancel_button:"Cancel",add_button:"Add",save_button:"Save",goal_details_modal_title:"Goal Details",ai_coach_suggestion:"🤖 AI Coach",ai_analyzing:"AI Analyzing...",close_button:"Close",ai_sort_reason_modal_title:"Sort Reason",ai_sort_criteria:"🤖 Sort Criteria",delete_account_final_confirm_title:"Delete Account",delete_account_final_confirm_message:"Your account and all data (goals, folders, settings) will be permanently deleted. This action cannot be undone.",delete_all_data_button:"Delete Account",settings_done_button:"Done",settings_section_data:"Data Management",settings_export_data:"Export",settings_import_data:"Import",import_confirm_title:"Import Data",import_confirm_message:"This will replace your current goals with new data. This action cannot be undone.",import_success_toast:"Data imported successfully.",import_error_alert_title:"Import Failed",import_error_alert_message:"There was an error reading the file, or the file format is incorrect.",settings_section_general:"General",settings_section_info:"Information",settings_section_help:"How to Use",settings_dark_mode:"Dark Mode",settings_language:"Language",settings_api_key:"AI Assistant",settings_api_key_placeholder:"Enter Gemini API key",settings_offline_mode:"Offline Mode",settings_offline_mode_desc:"Use basic features without AI",language_name:"English (US)",language_modal_title:"Language",settings_section_background:"Appearance",settings_bg_default:"Light",settings_bg_default_dark:"Dark",settings_bg_pink:"Pink",settings_bg_cherry_noir:"Cherry Noir",settings_bg_blue:"Blue",settings_bg_deep_ocean:"Ocean",settings_bg_green:"Green",settings_bg_forest_green:"Forest",settings_bg_purple:"Purple",settings_bg_royal_purple:"Royal Purple",settings_section_account:"Nova Beta Account",settings_sync_data:"Sync Data",settings_load_data:"Load Data",settings_logout:"Sign Out",data_deleting:"Deleting...",settings_version:"Version",settings_developer:"Developer",developer_name:"GimGyuMin",settings_copyright:"Copyright",copyright_notice:"© 2025 GimGyuMin. All Rights Reserved.",build_number:"Build Number",settings_data_header:"Data Management",settings_data_header_desc:"Export or import your goal data.",settings_background_header:"Background",settings_background_header_desc:"Change the app's background style to express your personality.",data_importing:"Importing...",data_exporting:"Exporting...",url_import_title:"Load from URL",url_import_message:"Overwrite current goals with data from the URL?",url_import_confirm:"Load",url_import_success:"Successfully loaded data from URL!",url_import_error:"Invalid data in URL.",settings_share_link_header:"Share via Link",settings_generate_link:"Generate Share Link",settings_copy_link:"Copy",link_copied_toast:"Link copied to clipboard.",short_url_created:"📎 Short URL created successfully!",share_link_created:"🔗 Share link generated!",short_url_failed:"⚠️ Short URL creation failed, using default link.",no_data_to_share:"No goals to share. Please add goals first.",usage_guide_tab:"How to Use",usage_guide_title:"User Guide",usage_basic_title:"Add a Goal",usage_basic_desc:`1. Tap "Add and Edit Goals" button on the home screen.
2. Fill in your goal, outcome, obstacle, and plan in order.
3. Select deadline and repeat days.
4. Tap "Save" to add your goal.`,usage_ai_title:"Use AI Features",usage_ai_desc:`• Use "AI Suggestion" button when writing goals for improvements.
• Tap "AI Sort" button to organize goals by importance.
• Get AI analysis for more effective goal setting.

※ API key setup is required to use AI features.`,usage_ai_setup_title:"Set Up AI Features",usage_ai_setup_desc:`1. Go to Settings > General and find the API Key field.
2. Enter your Google Gemini API key.
3. For API key generation, refer to the Google documentation:
   https://ai.google.dev/gemini-api/docs/api-key
4. AI features will be activated after entering the key.`,usage_share_title:"Share Your Goals",usage_share_desc:`1. Go to Settings > Sharing and tap "Create Goal Link".
2. Review the automatically generated short link.
3. Tap "Copy Link" to copy to clipboard.
4. Share the link via messenger or email.`,usage_theme_title:"Change Theme",usage_theme_desc:`1. Go to Settings > Appearance and use the dark mode toggle.
2. Select your preferred background theme.
3. Choose from Default, Pink, Blue, Green, or Purple themes.
4. Changes are applied immediately.`,usage_calendar_title:"Use Calendar View",usage_calendar_desc:`1. Tap the calendar icon in the bottom tabs.
2. Choose between 3-day, weekly, or monthly view.
3. Tap on any date to see goals for that day.
4. Use left/right arrows to navigate dates.`,usage_offline_title:"Use Offline Mode",usage_offline_desc:`1. Go to Settings > General and turn on "Offline Mode".
2. Add, edit, and delete goals without an API key.
3. AI features are unavailable, but all basic functions work normally.
4. Your data is safely stored in the browser.`,goal_assistant_title:"Add Goal",goal_assistant_mode_woop:"WOOP",goal_assistant_mode_automation:"Automation",automation_title:"Goal Automation",automation_base_name_label:"Base Goal Name",automation_base_name_placeholder:"e.g., Study Vocabulary",automation_total_units_label:"Total Units",automation_total_units_placeholder:"e.g., 30",automation_units_per_day_label:"Units per Day",automation_period_label:"Period",automation_start_date_label:"Start Date",automation_end_date_label:"End Date",automation_generate_button:"Generate {count}",automation_error_all_fields:"Please fill out all fields correctly.",automation_error_start_after_end:"Start date must be before end date.",automation_error_short_period:"The period is too short (min. 1 day).",next_button:"Next",back_button:"Back",wish_tip:"Set a challenging yet realistic goal. Make it specific and measurable.",wish_example:"e.g., Lose 5kg in 3 months, Get an A+ this semester",outcome_tip:"Imagine the most positive outcome of achieving your goal. The more vivid, the better.",outcome_example:"e.g., Feeling healthier and more confident, Receiving a scholarship",obstacle_tip:"What is the main internal obstacle (e.g., habits, emotions) that could stop you?",obstacle_example:"e.g., Feeling too tired for the gym after work, Procrastinating on difficult tasks",plan_tip:"Create a specific plan to overcome your obstacle in an 'if-then' format.",plan_example:"e.g., If I feel too tired for the gym after work, then I will change into my workout clothes and stretch for 10 minutes.",recurrence_label:"Recurrence",recurrence_tip:"Is this a goal you need to work on consistently? Set it as a recurring goal to track your streak.",recurrence_example:"e.g., Go to the gym every Mon, Wed, Fri",recurrence_option_daily:"Recurring Goal",deadline_tip:"Set a realistic deadline to stay motivated. Long-term goals without a deadline are also fine.",deadline_option_no_deadline:"No Deadline",day_names_short_picker:["M","T","W","T","F","S","S"],settings_delete_account:"Delete All Data",delete_account_header:"Delete Data",delete_account_header_desc:"This action is irreversible and will permanently delete all your goals and data.",version_update_title:"What's New",version_update_1_title:"AI Assistant Setup",version_update_1_desc:"Configure your Gemini API key directly or use offline mode to enjoy the app without AI features.",version_update_2_title:"Goal Sharing",version_update_2_desc:"Share your goals via links with short URL support. Perfect Unicode handling for all languages.",version_update_3_title:"Modern Style UI",version_update_3_desc:"Refined modern design language with mobile optimization for a more intuitive experience."}},te={add:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),_.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),more:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("circle",{cx:"12",cy:"12",r:"1"}),_.jsx("circle",{cx:"19",cy:"12",r:"1"}),_.jsx("circle",{cx:"5",cy:"12",r:"1"})]}),check:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:_.jsx("polyline",{points:"20 6 9 17 4 12"})}),info:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("circle",{cx:"12",cy:"12",r:"10"}),_.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),_.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),delete:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("polyline",{points:"3 6 5 6 21 6"}),_.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),_.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),_.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),edit:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),_.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),close:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),back:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:_.jsx("polyline",{points:"15 18 9 12 15 6"})}),forward:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:_.jsx("polyline",{points:"9 18 15 12 9 6"})}),calendar:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),_.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),_.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),_.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),list:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),_.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),_.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),_.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),_.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),_.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]}),settings:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("circle",{cx:"12",cy:"12",r:"3"}),_.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),filter:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:_.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),ai:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M12 3L14.34 8.66L20 11L14.34 13.34L12 19L9.66 13.34L4 11L9.66 8.66L12 3Z"}),_.jsx("path",{d:"M5 21L7 16"}),_.jsx("path",{d:"M19 21L17 16"})]}),flame:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:_.jsx("path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"})}),data:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),_.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]}),background:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round",children:[_.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),_.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),_.jsx("polyline",{points:"21 15 16 10 5 21"})]}),account:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),_.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),infoCircle:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("circle",{cx:"12",cy:"12",r:"10"}),_.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),_.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),help:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("circle",{cx:"12",cy:"12",r:"10"}),_.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),_.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),moon:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:_.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),exclamation:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:_.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 15c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm1-4h-2V7h2v6z"})}),globe:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("circle",{cx:"12",cy:"12",r:"10"}),_.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),_.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 1.53 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]})},ji=(t,e)=>{const n=new Date(t),i=new Date(e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()&&n.getDate()===i.getDate()},HR=(t,e)=>{if(!t)return null;const n=new Date;n.setHours(0,0,0,0);const i=new Date(t);i.setHours(0,0,0,0);const r=i.getTime()-n.getTime(),o=Math.ceil(r/(1e3*60*60*24));return o===0?e("d_day"):o>0?e("days_left").replace("{count}",String(o)):e("days_overdue").replace("{count}",String(Math.abs(o)))},Em=(t,e=1)=>{const n=new Date(t),i=n.getDay(),r=(i<e?7:0)+i-e;return n.setDate(n.getDate()-r),n.setHours(0,0,0,0),n},Sm=t=>{try{const e=new TextEncoder().encode(t),n=Array.from(e).map(i=>String.fromCharCode(i)).join("");return btoa(n)}catch(e){return console.error("UTF-8 to Base64 encoding failed:",e),""}},qR=t=>{try{const e=atob(t),n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return new TextDecoder().decode(n)}catch(e){return console.error("Base64 to UTF-8 decoding failed:",e),""}},Cm=t=>{try{const n=JSON.stringify(t).replace(/\s+/g," ").trim();return Sm(n)}catch(e){return console.error("Data compression failed:",e),Sm(JSON.stringify(t))}},$R=async t=>{if(t.length<1500)return t;const e=t.length;return e>2e3?(console.warn("⚠️ URL이 매우 깁니다. 일부 플랫폼에서 제한이 있을 수 있습니다."),t):(console.log("✅ URL 공유 준비 완료 (길이:",e,"문자)"),t)},sc=[{id:"default",lightThemeClass:"bg-solid-default",darkThemeClass:"bg-solid-default",lightNameKey:"settings_bg_default",darkNameKey:"settings_bg_default_dark"},{id:"pink",lightThemeClass:"bg-solid-pink",darkThemeClass:"bg-solid-pink",lightNameKey:"settings_bg_pink",darkNameKey:"settings_bg_cherry_noir"},{id:"blue",lightThemeClass:"bg-solid-blue",darkThemeClass:"bg-solid-blue",lightNameKey:"settings_bg_blue",darkNameKey:"settings_bg_deep_ocean"},{id:"green",lightThemeClass:"bg-solid-green",darkThemeClass:"bg-solid-green",lightNameKey:"settings_bg_green",darkNameKey:"settings_bg_forest_green"},{id:"purple",lightThemeClass:"bg-solid-purple",darkThemeClass:"bg-solid-purple",lightNameKey:"settings_bg_purple",darkNameKey:"settings_bg_royal_purple"}],wd=()=>{B.useState([]),B.useState({}),B.useState([]),B.useState(null),B.useState("all"),B.useState(["school","work","personal","other"]);const[t,e]=B.useState(!1),[n,i]=B.useState("ko");B.useState(null),B.useState([]);const[r,o]=B.useState([]),[s,u]=B.useState("all"),[d,f]=B.useState("manual"),[h,m]=B.useState(!1),[g,I]=B.useState("system"),[k,N]=B.useState("default");B.useState(!1);const[U,P]=B.useState(null),[S,A]=B.useState(null),[D,V]=B.useState(!1),[b,w]=B.useState(!1),[T,E]=B.useState(!1),[C,x]=B.useState(null),[M,R]=B.useState(""),[X,se]=B.useState(!1),[ue,we]=B.useState(new Set),[G,Y]=B.useState(!1),[Q,W]=B.useState(!1),[ee,ne]=B.useState(""),[me,wt]=B.useState(!1),[It,Le]=B.useState("idle"),[Ql,$o]=B.useState(!1),j=$=>{var K;const q=(K=GR[n])==null?void 0:K[$];return Array.isArray(q)?q.join(", "):q||$},Wt=()=>{if(!ee||me)return null;try{return new $A({apiKey:ee})}catch{return null}},vr=$=>{I($)},Tr=()=>{Le("deleting"),setTimeout(()=>{o([]),R("모든 데이터가 삭제되었습니다."),Le("idle"),V(!1)},1500)},Jn=B.useMemo(()=>[j("empty_encouragement_1"),j("empty_encouragement_2"),j("empty_encouragement_3"),j("empty_encouragement_4")],[n]),Er=B.useMemo(()=>Jn[Math.floor(Math.random()*Jn.length)],[Jn]);B.useEffect(()=>{const $=localStorage.getItem("nova-todos"),q=localStorage.getItem("nova-dark-mode"),K=localStorage.getItem("nova-background"),fe=localStorage.getItem("nova-sort-type");if($){const Be=JSON.parse($),bt=new Date().toISOString(),Vt=Be.map(Ke=>Ke.isRecurring&&Ke.lastCompletedDate&&!ji(bt,Ke.lastCompletedDate)?{...Ke,completed:!1}:Ke);o(Vt)}q&&m(JSON.parse(q)),K&&N(K),fe&&f(fe)},[]),B.useEffect(()=>{const q=new URLSearchParams(window.location.search).get("data");if(q)try{const K=qR(q),fe=JSON.parse(K);if(Array.isArray(fe)&&(fe.length===0||"wish"in fe[0]&&"id"in fe[0]))x({title:j("url_import_title"),message:j("url_import_message"),confirmText:j("url_import_confirm"),cancelText:j("cancel_button"),onConfirm:()=>{o(fe),R(j("url_import_success")),window.history.replaceState({},document.title,window.location.pathname)},onCancel:()=>{window.history.replaceState({},document.title,window.location.pathname)}});else throw new Error("Invalid data format")}catch(K){console.error("Failed to parse data from URL",K),x({title:j("import_error_alert_title"),message:j("url_import_error")}),window.history.replaceState({},document.title,window.location.pathname)}},[j]),B.useEffect(()=>{const $=window.matchMedia("(prefers-color-scheme: dark)"),q=K=>{g==="system"&&m(K.matches)};return m(g==="system"?$.matches:g==="dark"),$.addEventListener("change",q),()=>$.removeEventListener("change",q)},[g]),B.useEffect(()=>{(()=>{const q=localStorage.getItem("pwa-prompt-dismissed"),K=OR(),fe=BR();if(K&&!fe&&!q){const Be=setTimeout(()=>{$o(!0)},3e3);return()=>clearTimeout(Be)}})()},[]),B.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/Nova-AI-Planer/sw.js").then($=>{console.log("SW registered: ",$)}).catch($=>{console.log("SW registration failed: ",$)})},[]),B.useEffect(()=>{localStorage.setItem("nova-theme",g),localStorage.setItem("nova-dark-mode",JSON.stringify(h))},[g,h]),B.useEffect(()=>{localStorage.setItem("nova-lang",n)},[n]),B.useEffect(()=>{localStorage.setItem("nova-todos",JSON.stringify(r))},[r]),B.useEffect(()=>{localStorage.setItem("nova-api-key",ee)},[ee]),B.useEffect(()=>{localStorage.setItem("nova-offline-mode",String(me))},[me]),B.useEffect(()=>{const $=sc.find(K=>K.id===k)||sc[0],q=h?$.darkThemeClass:$.lightThemeClass;document.body.className="",h&&document.body.classList.add("dark-mode"),q&&document.body.classList.add(q),localStorage.setItem("nova-background",k)},[k,h]),B.useEffect(()=>{localStorage.setItem("nova-sort-type",d)},[d]),B.useEffect(()=>{if(M){const $=setTimeout(()=>R(""),3e3);return()=>clearTimeout($)}},[M]);const zo=B.useMemo(()=>{let $=[...r];if(window.location.hash==="#research-log")xv(()=>import("./ResearchReflectionForm-b1b7e820.js"),[]).then(({default:q})=>{const K=document.getElementById("root");K&&(K.style.background="var(--modal-backdrop-color)",K.style.display="flex",K.style.justifyContent="center",K.style.alignItems="center",Zi.createRoot(K).render(_.jsx("div",{className:"modal-backdrop",children:_.jsx("div",{className:"modal-content",style:{maxWidth:420,width:"100%"},children:_.jsx(q,{})})})))});else{const q=document.getElementById("root");q&&Zi.createRoot(q).render(_.jsx(Rl.StrictMode,{children:_.jsx(wd,{})}))}return d==="deadline"?$.sort((q,K)=>!q.deadline&&!K.deadline?0:q.deadline?K.deadline?new Date(q.deadline).getTime()-new Date(K.deadline).getTime():-1:1):d==="newest"?$.sort((q,K)=>K.id-q.id):d==="alphabetical"&&$.sort((q,K)=>q.wish.localeCompare(K.wish)),s==="active"?$.filter(q=>!q.completed):s==="completed"?$.filter(q=>q.completed):$},[r,s,d]),Wo=$=>{const q={...$,id:Date.now(),completed:!1,lastCompletedDate:null,streak:0};o(K=>[q,...K]),e(!1)},jl=$=>{const q=$.map((K,fe)=>({...K,id:Date.now()+fe,completed:!1,lastCompletedDate:null,streak:0})).reverse();o(K=>[...q,...K]),e(!1)},Jo=$=>{o(r.map(q=>q.id===$.id?$:q)),P(null)},Ko=$=>{o(r.filter(q=>q.id!==$))},Sr=$=>{const q=new Date().toISOString();o(r.map(K=>{if(K.id===$){const fe=!K.completed;let Be=K.streak;return K.isRecurring&&(fe?(!K.lastCompletedDate||!ji(q,K.lastCompletedDate))&&(Be=(K.streak||0)+1):K.lastCompletedDate&&ji(q,K.lastCompletedDate)&&(Be=Math.max(0,(K.streak||1)-1))),{...K,completed:fe,lastCompletedDate:fe?q:K.lastCompletedDate,streak:Be}}return K}))},Yo=async $=>{if($==="ai"){if(r.length<2){x({title:j("sort_alert_title"),message:j("sort_alert_message")});return}W(!0);try{const q=Wt();if(!q){R(me?"오프라인 모드에서는 AI 정렬을 사용할 수 없습니다.":"AI 정렬을 사용하려면 설정에서 API 키를 입력해주세요."),W(!1),f("manual");return}const K=`Here is a list of goals with their details (wish, outcome, obstacle, plan, deadline). Prioritize them based on urgency (closer deadline), importance (based on outcome), and feasibility (based on plan). Return a JSON object with a single key "sorted_ids" which is an array of the goal IDs in the recommended order. Do not include any other text or explanations. Goals: ${JSON.stringify(r.map(({id:Ye,wish:Xo,outcome:ta,obstacle:Kn,plan:Ir,deadline:Ar})=>({id:Ye,wish:Xo,outcome:ta,obstacle:Kn,plan:Ir,deadline:Ar})))}`,fe=await q.models.generateContent({model:"gemini-2.5-flash",contents:K,config:{responseMimeType:"application/json",responseSchema:{type:Nt.OBJECT,properties:{sorted_ids:{type:Nt.ARRAY,items:{type:Nt.NUMBER}}}}}}),bt=JSON.parse(fe.text).sorted_ids.map(Number),Vt=new Map(r.map(Ye=>[Number(Ye.id),Ye])),Ke=bt.map(Ye=>Vt.get(Ye)).filter(Boolean),vi=r.filter(Ye=>!bt.includes(Number(Ye.id))),ea=[...Ke,...vi].map(Ye=>({...Ye,id:Number(Ye.id)}));o(ea),f("manual")}catch(q){console.error("AI sort failed:",q),x({title:j("ai_sort_error_title"),message:j("ai_sort_error_message")})}finally{W(!1)}}else f($)},Zl=$=>{const q=new Set(ue);q.has($)?q.delete($):q.add($),we(q)},_i=()=>{se(!1),we(new Set)},Cr=()=>{const $=ue.size;x({title:j("delete_selected_confirm_title"),message:(typeof j("delete_selected_confirm_message")=="string"?j("delete_selected_confirm_message"):"").replace("{count}",String($)),isDestructive:!0,confirmText:(typeof j("delete_selected_button_label")=="string"?j("delete_selected_button_label"):"").replace("{count}",String($)),cancelText:j("cancel_button"),onConfirm:()=>{o(r.filter(q=>!ue.has(q.id))),_i()}})},wr=()=>{Le("exporting");const $=JSON.stringify(r,null,2),q="data:application/json;charset=utf-8,"+encodeURIComponent($),K="nova_goals.json",fe=document.createElement("a");fe.setAttribute("href",q),fe.setAttribute("download",K),fe.click(),setTimeout(()=>{Le("idle"),V(!1)},1500)},Ne=$=>{var fe;const q=(fe=$.target.files)==null?void 0:fe[0];if(!q)return;const K=new FileReader;K.onload=Be=>{var bt;try{const Vt=(bt=Be.target)==null?void 0:bt.result;if(typeof Vt!="string")throw new Error("File content is not a string");const Ke=JSON.parse(Vt);if(Array.isArray(Ke)&&Ke.every(vi=>"wish"in vi&&"id"in vi))x({title:j("import_confirm_title"),message:j("import_confirm_message"),confirmText:j("settings_import_data"),cancelText:j("cancel_button"),onConfirm:()=>{Le("importing"),setTimeout(()=>{o(Ke),R(j("import_success_toast")),Le("idle"),V(!1)},1500)}});else throw new Error("Invalid file format")}catch{x({title:j("import_error_alert_title"),message:j("import_error_alert_message")})}},K.onerror=()=>x({title:j("import_error_alert_title"),message:j("import_error_alert_message")}),K.readAsText(q),$.target.value=""},Ue=t||!!U||!!S||D||!!C||b||T;return _.jsxs("div",{className:`main-page-layout ${G?"calendar-view-active":""}`,children:[_.jsx("div",{className:`page-content ${Ue?"modal-open":""}`,children:_.jsxs("div",{className:"container",children:[_.jsx(zR,{t:j,isSelectionMode:X,selectedCount:ue.size,onCancelSelection:_i,onDeleteSelected:Cr,isViewModeCalendar:G,onToggleViewMode:()=>Y(!G),isAiSorting:Q,sortType:d,onSort:Yo,filter:s,onFilter:u,onSetSelectionMode:()=>se(!0),onOpenSettings:()=>V(!0),onAddGoal:()=>e(!0)}),G?_.jsx(ex,{todos:r,t:j,onGoalClick:A,language:n}):_.jsx(WR,{todos:zo,onToggleComplete:Sr,onDelete:Ko,onEdit:P,onInfo:A,t:j,filter:s,randomEncouragement:Er,isSelectionMode:X,selectedTodoIds:ue,onSelectTodo:Zl})]})}),t&&_.jsx(Im,{onClose:()=>e(!1),onAddTodo:Wo,onAddMultipleTodos:jl,t:j,language:n,createAI:Wt}),U&&_.jsx(Im,{onClose:()=>P(null),onEditTodo:Jo,existingTodo:U,t:j,language:n,createAI:Wt}),S&&_.jsx(XR,{todo:S,onClose:()=>A(null),t:j,createAI:Wt}),D&&_.jsx(QR,{onClose:()=>V(!1),isDarkMode:h,onToggleDarkMode:()=>m(!h),themeMode:g,onThemeChange:vr,backgroundTheme:k,onSetBackgroundTheme:N,onExportData:wr,onImportData:Ne,setAlertConfig:x,onDeleteAllData:Tr,dataActionStatus:It,language:n,onSetLanguage:i,t:j,todos:r,setToastMessage:R,onOpenVersionInfo:()=>w(!0),onOpenUsageGuide:()=>E(!0),apiKey:ee,onSetApiKey:ne,isOfflineMode:me,onToggleOfflineMode:()=>wt(!me)}),b&&_.jsx(jR,{onClose:()=>w(!1),t:j}),T&&_.jsx(ZR,{onClose:()=>E(!1),t:j}),C&&_.jsx(tx,{title:C.title,message:C.message,onConfirm:()=>{var $;($=C.onConfirm)==null||$.call(C),x(null)},onCancel:C.onCancel?()=>{var $;($=C.onCancel)==null||$.call(C),x(null)}:void 0,confirmText:C.confirmText,cancelText:C.cancelText,isDestructive:C.isDestructive,t:j}),M&&_.jsx("div",{className:"toast-notification",children:M}),Ql&&_.jsx(rE,{onClose:()=>$o(!1)})]})},wm=document.getElementById("root");wm&&Zi.createRoot(wm).render(_.jsx(Rl.StrictMode,{children:_.jsx(wd,{})}));const zR=({t,isSelectionMode:e,selectedCount:n,onCancelSelection:i,onDeleteSelected:r,isViewModeCalendar:o,onToggleViewMode:s,isAiSorting:u,sortType:d,onSort:f,filter:h,onFilter:m,onSetSelectionMode:g,onOpenSettings:I,onAddGoal:k})=>{const[N,U]=B.useState(!1);B.useEffect(()=>{const A=()=>{U(!1)};return document.addEventListener("click",A),document.addEventListener("touchstart",A),()=>{document.removeEventListener("click",A),document.removeEventListener("touchstart",A)}},[]);const P=A=>{A.stopPropagation(),U(D=>!D)},S=A=>{A.stopPropagation()};return _.jsxs("header",{children:[_.jsx("div",{className:"header-left",children:e&&_.jsx("button",{onClick:i,className:"header-action-button",children:t("cancel_selection_button_label")})}),_.jsxs("div",{className:"header-title-group",children:[_.jsx("h1",{children:t("my_goals_title")}),!e&&_.jsxs("div",{className:"header-inline-actions",children:[_.jsx("button",{onClick:s,className:"header-icon-button","aria-label":t(o?"list_view_button_aria":"calendar_view_button_aria"),children:o?te.list:te.calendar}),_.jsxs("div",{className:"filter-sort-container",children:[_.jsx("button",{onClick:P,onTouchStart:P,className:"header-icon-button","aria-label":t("filter_sort_button_aria"),children:u?_.jsx("div",{className:"spinner"}):te.filter}),N&&_.jsxs("div",{className:"profile-popover filter-sort-popover",onClick:S,onTouchStart:S,children:[_.jsx("div",{className:"popover-section",children:_.jsx("button",{onClick:()=>{g(),U(!1)},className:"popover-action-button",children:_.jsx("span",{children:t("select_button_label")})})}),_.jsxs("div",{className:"popover-section",children:[_.jsx("h4",{children:t("filter_title")}),_.jsxs("button",{onClick:()=>{m("all")},className:`popover-action-button ${h==="all"?"active":""}`,children:[_.jsx("span",{children:t("filter_all")}),h==="all"&&te.check]}),_.jsxs("button",{onClick:()=>{m("active")},className:`popover-action-button ${h==="active"?"active":""}`,children:[_.jsx("span",{children:t("filter_active")}),h==="active"&&te.check]}),_.jsxs("button",{onClick:()=>{m("completed")},className:`popover-action-button ${h==="completed"?"active":""}`,children:[_.jsx("span",{children:t("filter_completed")}),h==="completed"&&te.check]})]}),_.jsxs("div",{className:"popover-section",children:[_.jsx("h4",{children:t("sort_title")}),_.jsxs("button",{onClick:()=>{f("manual")},className:`popover-action-button ${d==="manual"?"active":""}`,children:[_.jsx("span",{children:t("sort_label_manual")}),d==="manual"&&te.check]}),_.jsxs("button",{onClick:()=>{f("deadline")},className:`popover-action-button ${d==="deadline"?"active":""}`,children:[_.jsx("span",{children:t("sort_label_deadline")}),d==="deadline"&&te.check]}),_.jsxs("button",{onClick:()=>{f("newest")},className:`popover-action-button ${d==="newest"?"active":""}`,children:[_.jsx("span",{children:t("sort_label_newest")}),d==="newest"&&te.check]}),_.jsxs("button",{onClick:()=>{f("alphabetical")},className:`popover-action-button ${d==="alphabetical"?"active":""}`,children:[_.jsx("span",{children:t("sort_label_alphabetical")}),d==="alphabetical"&&te.check]}),_.jsxs("button",{onClick:()=>{f("ai")},className:"popover-action-button with-icon",children:[_.jsx("span",{className:"popover-button-icon",children:te.ai}),_.jsx("span",{children:t(u?"ai_sorting_button":"sort_label_ai")})]})]})]})]}),_.jsx("button",{onClick:I,className:"header-icon-button","aria-label":t("settings_title"),children:te.settings})]})]}),_.jsx("div",{className:"header-right",children:e?_.jsx("button",{onClick:r,className:"header-action-button destructive",children:t("delete_selected_button_label").replace("{count}",String(n))}):_.jsx("button",{onClick:k,className:"header-icon-button","aria-label":t("add_new_goal_button_label"),children:te.add})})]})},WR=({todos:t,onToggleComplete:e,onDelete:n,onEdit:i,onInfo:r,t:o,filter:s,randomEncouragement:u,isSelectionMode:d,selectedTodoIds:f,onSelectTodo:h})=>{if(t.length===0){const m=`empty_message_${s}`;return _.jsxs("div",{className:"empty-message",children:[_.jsx("p",{children:o(m)}),s==="all"&&_.jsx("span",{children:u})]})}return _.jsx("ul",{children:t.map(m=>_.jsx(JR,{todo:m,onToggleComplete:e,onDelete:n,onEdit:i,onInfo:r,t:o,isSelectionMode:d,isSelected:f.has(m.id),onSelect:h},m.id))})},JR=Rl.memo(({todo:t,onToggleComplete:e,onDelete:n,onEdit:i,onInfo:r,t:o,isSelectionMode:s,isSelected:u,onSelect:d})=>{const f=()=>{s&&d(t.id)};return _.jsx("li",{className:`${t.completed?"completed":""} ${s?"selection-mode":""} ${u?"selected":""}`,onClick:f,children:_.jsxs("div",{className:"swipeable-content",children:[_.jsxs("label",{className:"checkbox-container",onClick:h=>h.stopPropagation(),children:[_.jsx("input",{type:"checkbox",checked:t.completed,onChange:()=>e(t.id)}),_.jsx("span",{className:"checkmark"})]}),_.jsxs("div",{className:"todo-text-with-streak",children:[_.jsx("span",{className:"todo-text",children:t.wish}),t.isRecurring&&t.streak>0&&_.jsxs("div",{className:"streak-indicator",children:[te.flame,_.jsx("span",{children:t.streak})]})]}),_.jsxs("div",{className:"todo-actions-and-meta",children:[_.jsx("div",{className:"todo-meta-badges",children:t.deadline&&_.jsx("span",{className:"todo-deadline",children:HR(t.deadline,o)})}),_.jsxs("div",{className:"todo-buttons",children:[_.jsx("button",{onClick:h=>{h.stopPropagation(),i(t)},className:"info-button edit-button","aria-label":o("edit_button_aria"),children:te.edit}),_.jsx("button",{onClick:h=>{h.stopPropagation(),n(t.id)},className:"delete-button","aria-label":o("delete_button"),children:te.delete}),_.jsx("button",{onClick:h=>{h.stopPropagation(),r(t)},className:"info-button","aria-label":o("info_button_aria"),children:te.info})]})]})]})})}),KR=({step:t,t:e,createAI:n,...i})=>{const{wish:r,setWish:o,outcome:s,setOutcome:u,obstacle:d,setObstacle:f,plan:h,setPlan:m,isRecurring:g,setIsRecurring:I,recurringDays:k,setRecurringDays:N,deadline:U,setDeadline:P,noDeadline:S,setNoDeadline:A,errors:D,language:V}=i,[b,w]=B.useState(!1),[T,E]=B.useState(""),[C,x]=B.useState(""),M=async(R,X)=>{if(X){w(!0),E(""),x("");try{const se=n();if(!se){x("AI 기능을 사용하려면 설정에서 API 키를 입력해주세요."),w(!1);return}const ue=`Provide concise, actionable feedback on this part of a WOOP goal: ${R} - "${X}". The feedback should be helpful and encouraging, in ${V==="ko"?"Korean":"English"}. Keep it to 1-2 sentences.`,we=await se.models.generateContent({model:"gemini-2.5-flash",contents:ue});E(we.text)}catch(se){console.error("AI Feedback Error:",se),x("Failed to get AI feedback.")}finally{w(!1)}}};switch(t){case 1:return _.jsxs("div",{children:[_.jsx("h3",{children:e("wish_label")}),_.jsxs("div",{className:"step-guidance",children:[_.jsx("p",{className:"tip",children:e("wish_tip")}),_.jsx("p",{className:"example",children:e("wish_example")})]}),_.jsx("textarea",{value:r,onChange:X=>{o(X.target.value),E(""),x("")},placeholder:e("wish_label"),className:D.wish?"input-error":"",rows:3}),D.wish&&_.jsxs("p",{className:"field-error-message",children:[te.exclamation," ",e("error_wish_required")]}),_.jsxs("div",{className:"ai-feedback-section",children:[_.jsxs("button",{onClick:()=>M("Wish",r),disabled:!r.trim()||b,className:"ai-feedback-button",children:[b?_.jsx("div",{className:"spinner-small"}):"🤖",_.jsx("span",{children:e(b?"ai_analyzing":"ai_coach_suggestion")})]}),T&&_.jsx("div",{className:"ai-feedback-bubble",children:T}),C&&_.jsx("div",{className:"ai-feedback-bubble error",children:C})]})]});case 2:return _.jsxs("div",{children:[_.jsx("h3",{children:e("outcome_label")}),_.jsxs("div",{className:"step-guidance",children:[_.jsx("p",{className:"tip",children:e("outcome_tip")}),_.jsx("p",{className:"example",children:e("outcome_example")})]}),_.jsx("textarea",{value:s,onChange:X=>{u(X.target.value),E(""),x("")},placeholder:e("outcome_label"),className:D.outcome?"input-error":"",rows:3}),D.outcome&&_.jsxs("p",{className:"field-error-message",children:[te.exclamation," ",e("error_outcome_required")]}),_.jsxs("div",{className:"ai-feedback-section",children:[_.jsxs("button",{onClick:()=>M("Outcome",s),disabled:!s.trim()||b,className:"ai-feedback-button",children:[b?_.jsx("div",{className:"spinner-small"}):"🤖",_.jsx("span",{children:e(b?"ai_analyzing":"ai_coach_suggestion")})]}),T&&_.jsx("div",{className:"ai-feedback-bubble",children:T}),C&&_.jsx("div",{className:"ai-feedback-bubble error",children:C})]})]});case 3:return _.jsxs("div",{children:[_.jsx("h3",{children:e("obstacle_label")}),_.jsxs("div",{className:"step-guidance",children:[_.jsx("p",{className:"tip",children:e("obstacle_tip")}),_.jsx("p",{className:"example",children:e("obstacle_example")})]}),_.jsx("textarea",{value:d,onChange:X=>{f(X.target.value),E(""),x("")},placeholder:e("obstacle_label"),className:D.obstacle?"input-error":"",rows:3}),D.obstacle&&_.jsxs("p",{className:"field-error-message",children:[te.exclamation," ",e("error_obstacle_required")]}),_.jsxs("div",{className:"ai-feedback-section",children:[_.jsxs("button",{onClick:()=>M("Obstacle",d),disabled:!d.trim()||b,className:"ai-feedback-button",children:[b?_.jsx("div",{className:"spinner-small"}):"🤖",_.jsx("span",{children:e(b?"ai_analyzing":"ai_coach_suggestion")})]}),T&&_.jsx("div",{className:"ai-feedback-bubble",children:T}),C&&_.jsx("div",{className:"ai-feedback-bubble error",children:C})]})]});case 4:return _.jsxs("div",{children:[_.jsx("h3",{children:e("plan_label")}),_.jsxs("div",{className:"step-guidance",children:[_.jsx("p",{className:"tip",children:e("plan_tip")}),_.jsx("p",{className:"example",children:e("plan_example")})]}),_.jsx("textarea",{value:h,onChange:X=>{m(X.target.value),E(""),x("")},placeholder:e("plan_label"),className:D.plan?"input-error":"",rows:3}),D.plan&&_.jsxs("p",{className:"field-error-message",children:[te.exclamation," ",e("error_plan_required")]}),_.jsxs("div",{className:"ai-feedback-section",children:[_.jsxs("button",{onClick:()=>M("Plan",h),disabled:!h.trim()||b,className:"ai-feedback-button",children:[b?_.jsx("div",{className:"spinner-small"}):"🤖",_.jsx("span",{children:e(b?"ai_analyzing":"ai_coach_suggestion")})]}),T&&_.jsx("div",{className:"ai-feedback-bubble",children:T}),C&&_.jsx("div",{className:"ai-feedback-bubble error",children:C})]})]});case 5:const R=X=>{const se=[...k],ue=se.indexOf(X);ue>-1?se.splice(ue,1):se.push(X),N(se)};return _.jsxs("div",{children:[_.jsxs("h3",{children:[e("recurrence_label")," & ",e("deadline_label")]}),_.jsxs("div",{className:"step-guidance",children:[_.jsx("p",{className:"tip",children:e("recurrence_tip")}),_.jsx("p",{className:"example",children:e("recurrence_example")})]}),_.jsxs("label",{className:"settings-item standalone-toggle",children:[_.jsx("span",{style:{fontWeight:500},children:e("recurrence_option_daily")}),_.jsxs("label",{className:"theme-toggle-switch",children:[_.jsx("input",{type:"checkbox",checked:g,onChange:X=>I(X.target.checked)}),_.jsx("span",{className:"slider round"})]})]}),g&&_.jsx("div",{className:"day-picker",children:e("day_names_short_picker").map((X,se)=>_.jsx("button",{onClick:()=>R(se),className:`day-button ${k.includes(se)?"selected":""}`,children:X},se))}),D.recurringDays&&_.jsxs("p",{className:"field-error-message",children:[te.exclamation," ",e("error_day_required")]}),_.jsx("hr",{}),_.jsx("div",{className:"step-guidance",style:{marginTop:"16px"},children:_.jsx("p",{className:"tip",children:e("deadline_tip")})}),_.jsxs("label",{className:"settings-item standalone-toggle",children:[_.jsx("span",{style:{fontWeight:500},children:e("deadline_option_no_deadline")}),_.jsxs("label",{className:"theme-toggle-switch",children:[_.jsx("input",{type:"checkbox",checked:S,onChange:X=>A(X.target.checked)}),_.jsx("span",{className:"slider round"})]})]}),!S&&_.jsx("input",{type:"date",value:U,onChange:X=>P(X.target.value),className:D.deadline?"input-error":"",style:{marginTop:"12px"}}),D.deadline&&_.jsxs("p",{className:"field-error-message",children:[te.exclamation," ",e("error_deadline_required")]})]});default:return null}},YR=({onGenerate:t,t:e})=>{const[n,i]=B.useState(""),[r,o]=B.useState(""),[s,u]=B.useState(""),[d,f]=B.useState(""),[h,m]=B.useState(""),{endDate:g,generatedCount:I}=B.useMemo(()=>{const N=parseInt(r,10),U=parseInt(s,10);if(!d||!N||N<=0||!U||U<=0)return{endDate:"",generatedCount:0};const P=Math.ceil(N/U),S=new Date(d),A=new Date(S);return A.setDate(S.getDate()+P-1),{endDate:A.toISOString().split("T")[0],generatedCount:P}},[r,s,d]),k=()=>{const N=parseInt(r,10),U=parseInt(s,10);if(!n.trim()||!d||!N||N<=0||!U||U<=0){m(e("automation_error_all_fields"));return}const P=[],S=Math.ceil(N/U),A=new Date(d);for(let D=0;D<S;D++){const V=new Date(A);V.setDate(A.getDate()+D);const b=D*U+1,w=Math.min((D+1)*U,N),T=`${n.trim()} ${b}`+(w>b?` - ${w}`:"");P.push({wish:T,outcome:"",obstacle:"",plan:"",isRecurring:!1,recurringDays:[],deadline:V.toISOString().split("T")[0]})}m(""),t(P)};return _.jsxs("div",{className:"automation-form-container",children:[_.jsx("h3",{children:e("automation_title")}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:e("automation_base_name_label")}),_.jsx("input",{type:"text",value:n,onChange:N=>i(N.target.value),placeholder:e("automation_base_name_placeholder")})]}),_.jsxs("div",{className:"automation-form-grid",children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:e("automation_total_units_label")}),_.jsx("input",{type:"number",value:r,onChange:N=>o(N.target.value),placeholder:e("automation_total_units_placeholder")})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:e("automation_units_per_day_label")}),_.jsx("input",{type:"number",value:s,onChange:N=>u(N.target.value),placeholder:"예: 5"})]})]}),_.jsxs("div",{className:"automation-form-grid",children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:e("automation_start_date_label")}),_.jsx("input",{type:"date",value:d,onChange:N=>f(N.target.value)})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:e("automation_end_date_label")}),_.jsx("input",{type:"date",value:g,readOnly:!0})]})]}),h&&_.jsxs("p",{className:"field-error-message",style:{justifyContent:"center"},children:[te.exclamation," ",h]}),_.jsx("div",{className:"goal-assistant-nav",children:_.jsx("button",{onClick:k,className:"primary",disabled:I===0,children:e("automation_generate_button").replace("{count}",String(I))})})]})},Im=({onClose:t,onAddTodo:e,onAddMultipleTodos:n,onEditTodo:i,existingTodo:r,t:o,language:s,createAI:u})=>{const[d,f]=Fo(t),[h,m]=B.useState("woop"),[g,I]=B.useState(1),[k,N]=B.useState("forward"),[U,P]=B.useState((r==null?void 0:r.wish)||""),[S,A]=B.useState((r==null?void 0:r.outcome)||""),[D,V]=B.useState((r==null?void 0:r.obstacle)||""),[b,w]=B.useState((r==null?void 0:r.plan)||""),[T,E]=B.useState((r==null?void 0:r.isRecurring)||!1),[C,x]=B.useState((r==null?void 0:r.recurringDays)||[]),[M,R]=B.useState((r==null?void 0:r.deadline)||""),[X,se]=B.useState(!(r!=null&&r.deadline)),[ue,we]=B.useState({}),G=5,Y=ne=>{const me={};return ne===1&&!U.trim()&&(me.wish=!0),ne===2&&!S.trim()&&(me.outcome=!0),ne===3&&!D.trim()&&(me.obstacle=!0),ne===4&&!b.trim()&&(me.plan=!0),ne===5&&(!X&&!M&&(me.deadline=!0),T&&C.length===0&&(me.recurringDays=!0)),we(me),Object.keys(me).length===0},Q=()=>{Y(g)&&(g<G?(N("forward"),I(ne=>ne+1)):ee())},W=()=>{g>1&&(N("backward"),I(ne=>ne-1))},ee=()=>{if(!Y(5))return;const ne={wish:U,outcome:S,obstacle:D,plan:b,isRecurring:T,recurringDays:C,deadline:X?"":M};r&&i?i({...r,...ne}):e&&e(ne)};return _.jsxs(Uo,{onClose:f,isClosing:d,className:"goal-assistant-modal",children:[_.jsxs("div",{className:"goal-assistant-header",children:[_.jsx("div",{className:"goal-assistant-header-left",children:g>1&&h==="woop"&&_.jsx("button",{onClick:W,className:"settings-back-button",children:te.back})}),_.jsx("h2",{children:o("goal_assistant_title")}),_.jsx("div",{className:"goal-assistant-header-right",children:_.jsx("button",{onClick:f,className:"close-button",children:te.close})})]}),!r&&_.jsx("div",{className:"modal-mode-switcher-container",children:_.jsxs("div",{className:"modal-mode-switcher",children:[_.jsx("button",{onClick:()=>m("woop"),className:h==="woop"?"active":"",children:o("goal_assistant_mode_woop")}),_.jsx("button",{onClick:()=>m("automation"),className:h==="automation"?"active":"",children:o("goal_assistant_mode_automation")})]})}),_.jsx("div",{className:"goal-assistant-body",children:h==="woop"?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"progress-bar-container",children:_.jsx("div",{className:"progress-bar",style:{width:`${g/G*100}%`}})}),_.jsx("div",{className:`goal-assistant-step-content-animator ${k}`,children:_.jsx(KR,{step:g,t:o,createAI:u,wish:U,setWish:P,outcome:S,setOutcome:A,obstacle:D,setObstacle:V,plan:b,setPlan:w,isRecurring:T,setIsRecurring:E,recurringDays:C,setRecurringDays:x,deadline:M,setDeadline:R,noDeadline:X,setNoDeadline:se,errors:ue,language:s})},g),_.jsxs("div",{className:"goal-assistant-nav",children:[g>1?_.jsx("button",{onClick:W,className:"secondary",children:o("back_button")}):_.jsx("div",{}),_.jsx("button",{onClick:Q,className:"primary",children:o(g===G?r?"save_button":"add_button":"next_button")})]})]}):n&&_.jsx(YR,{onGenerate:n,t:o})})]})},XR=({todo:t,onClose:e,t:n,createAI:i})=>{const[r,o]=Fo(e),[s,u]=B.useState(""),[d,f]=B.useState(!1),[h,m]=B.useState(!1),g=async()=>{f(!0),u(""),m(!1);try{const I=i();if(!I){u("AI 기능을 사용하려면 설정에서 API 키를 입력해주세요."),f(!1);return}const k=`Based on the WOOP method, provide a concise and encouraging suggestion for the following goal: Wish: "${t.wish}", Best Outcome: "${t.outcome}", Obstacle: "${t.obstacle}", Plan: "${t.plan}". Focus on strengthening the plan or reframing the obstacle.`,N=await I.models.generateContent({model:"gemini-2.5-flash",contents:k});u(N.text)}catch(I){console.error(I),m(!0)}finally{f(!1)}};return _.jsxs(Uo,{onClose:o,isClosing:r,className:"info-modal",children:[_.jsxs("div",{className:"info-modal-content",children:[_.jsx("h2",{children:n("goal_details_modal_title")}),_.jsxs("div",{className:"info-section",children:[_.jsx("h4",{children:n("wish_label")}),_.jsx("p",{children:t.wish})]}),_.jsxs("div",{className:"info-section",children:[_.jsx("h4",{children:n("outcome_label")}),_.jsx("p",{children:t.outcome})]}),_.jsxs("div",{className:"info-section",children:[_.jsx("h4",{children:n("obstacle_label")}),_.jsx("p",{children:t.obstacle})]}),_.jsxs("div",{className:"info-section",children:[_.jsx("h4",{children:n("plan_label")}),_.jsx("p",{children:t.plan})]}),_.jsxs("div",{className:"ai-analysis-section",children:[_.jsx("h4",{children:n("ai_coach_suggestion")}),d?_.jsx("p",{children:n("ai_analyzing")}):s?_.jsx("p",{children:s}):h?_.jsx("p",{className:"ai-error",children:n("ai_sort_error_message")}):_.jsx("button",{onClick:g,className:"feedback-button",children:n("ai_coach_suggestion")})]})]}),_.jsx("div",{className:"modal-buttons",children:_.jsx("button",{onClick:o,className:"primary",children:n("close_button")})})]})},QR=({onClose:t,isDarkMode:e,onToggleDarkMode:n,themeMode:i,onThemeChange:r,backgroundTheme:o,onSetBackgroundTheme:s,onExportData:u,onImportData:d,setAlertConfig:f,onDeleteAllData:h,dataActionStatus:m,language:g,onSetLanguage:I,t:k,todos:N,setToastMessage:U,onOpenVersionInfo:P,onOpenUsageGuide:S,apiKey:A,onSetApiKey:D,isOfflineMode:V,onToggleOfflineMode:b})=>{const[w,T]=Fo(t),[E,C]=B.useState("appearance"),[x,M]=B.useState(""),[R,X]=B.useState(!1),se=B.useRef(null),ue=[{id:"appearance",label:k("settings_section_background"),icon:te.background},{id:"general",label:k("settings_section_general"),icon:te.settings},{id:"data",label:k("settings_section_data"),icon:te.data}],we=()=>f({title:k("delete_account_header"),message:k("delete_account_header_desc"),isDestructive:!0,confirmText:k("delete_all_data_button"),cancelText:k("cancel_button"),onConfirm:h,onCancel:()=>{}}),G=async()=>{if(!N||N.length===0){alert(k("no_data_to_share"));return}X(!0);try{const W=Cm(N),ee=`${window.location.origin}${window.location.pathname}?data=${encodeURIComponent(W)}`,ne=await $R(ee);M(ne),ne!==ee&&ne.length<ee.length?U(k("short_url_created")):U(k("share_link_created"))}catch(W){console.error("Failed to create share link",W);const ee=Cm(N),ne=`${window.location.origin}${window.location.pathname}?data=${encodeURIComponent(ee)}`;M(ne),U(k("short_url_failed"))}finally{X(!1)}},Y=()=>{x&&navigator.clipboard.writeText(x).then(()=>{U(k("link_copied_toast"))})},Q=()=>{try{switch(E){case"appearance":return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"settings-section-header",children:"테마 모드"}),_.jsxs("div",{className:"settings-section-body",children:[_.jsxs("div",{className:"settings-item nav-indicator",onClick:()=>r("light"),children:[_.jsxs("div",{children:[_.jsx("span",{children:"라이트 모드"}),_.jsx("div",{style:{fontSize:"12px",opacity:.7,marginTop:"4px"},children:"항상 밝은 테마 사용"})]}),i==="light"&&te.check]}),_.jsxs("div",{className:"settings-item nav-indicator",onClick:()=>r("dark"),children:[_.jsxs("div",{children:[_.jsx("span",{children:"다크 모드"}),_.jsx("div",{style:{fontSize:"12px",opacity:.7,marginTop:"4px"},children:"항상 어두운 테마 사용"})]}),i==="dark"&&te.check]}),_.jsxs("div",{className:"settings-item nav-indicator",onClick:()=>r("system"),children:[_.jsxs("div",{children:[_.jsx("span",{children:"시스템 설정 따라가기"}),_.jsx("div",{style:{fontSize:"12px",opacity:.7,marginTop:"4px"},children:"기기의 다크모드 설정에 맞춰 자동 변경"})]}),i==="system"&&te.check]})]}),_.jsx("div",{className:"settings-section-header",children:k("settings_background_header")}),_.jsx("div",{className:"settings-section-body",children:sc.map(W=>_.jsxs("div",{className:"settings-item nav-indicator",onClick:()=>s(W.id),children:[_.jsx("span",{children:k(e?W.darkNameKey:W.lightNameKey)}),o===W.id&&te.check]},W.id))})]});case"general":return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"settings-section-header",children:k("settings_api_key")}),_.jsxs("div",{className:"settings-section-body",children:[_.jsx("div",{className:"settings-item",children:_.jsx("input",{type:"password",placeholder:k("settings_api_key_placeholder"),value:A,onChange:W=>D(W.target.value),style:{width:"100%",padding:"8px",border:"1px solid var(--border-color)",borderRadius:"4px",backgroundColor:"var(--input-bg)"}})}),_.jsxs("label",{className:"settings-item",children:[_.jsxs("div",{children:[_.jsx("span",{children:k("settings_offline_mode")}),_.jsx("div",{style:{fontSize:"12px",opacity:.7,marginTop:"4px"},children:k("settings_offline_mode_desc")})]}),_.jsxs("div",{className:"theme-toggle-switch",children:[_.jsx("input",{type:"checkbox",checked:V,onChange:b}),_.jsx("span",{className:"slider round"})]})]})]}),_.jsx("div",{className:"settings-section-header",children:k("settings_language")}),_.jsxs("div",{className:"settings-section-body",children:[_.jsxs("div",{className:"settings-item nav-indicator",onClick:()=>I("ko"),children:[_.jsx("span",{children:"한국어"}),g==="ko"&&te.check]}),_.jsxs("div",{className:"settings-item nav-indicator",onClick:()=>I("en"),children:[_.jsx("span",{children:"English"}),g==="en"&&te.check]})]}),_.jsx("div",{className:"settings-section-header",children:k("settings_section_info")}),_.jsxs("div",{className:"settings-section-body",children:[_.jsxs("div",{className:"settings-item nav-indicator",onClick:P,children:[_.jsx("span",{children:k("settings_version")}),_.jsxs("div",{className:"settings-item-value-with-icon",children:[_.jsx("span",{children:"1.2"}),te.forward]})]}),_.jsxs("div",{className:"settings-item nav-indicator",onClick:S,children:[_.jsx("span",{children:k("usage_guide_title")}),_.jsx("div",{className:"settings-item-value-with-icon",children:te.forward})]}),_.jsxs("div",{className:"settings-item",children:[_.jsx("span",{children:k("settings_developer")}),_.jsx("span",{className:"settings-item-value",children:k("developer_name")})]}),_.jsxs("div",{className:"settings-item",children:[_.jsx("span",{children:k("settings_copyright")}),_.jsx("span",{className:"settings-item-value",children:k("copyright_notice")})]})]})]});case"data":return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"settings-section-header",children:k("settings_data_header")||"데이터 관리"}),_.jsxs("div",{className:"settings-section-body",children:[_.jsx("button",{className:"settings-item action-item",onClick:u,disabled:m!=="idle",children:_.jsx("span",{className:"action-text",children:m==="exporting"?k("data_exporting")||"내보내는 중...":k("settings_export_data")||"내보내기"})}),_.jsxs("button",{className:"settings-item action-item",onClick:()=>{var W;try{(W=se.current)==null||W.click()}catch(ee){console.error("File input click error:",ee)}},disabled:m!=="idle",children:[_.jsx("span",{className:"action-text",children:m==="importing"?k("data_importing")||"가져오는 중...":k("settings_import_data")||"가져오기"}),_.jsx("input",{type:"file",ref:se,onChange:d,accept:".json",style:{display:"none"}})]})]}),_.jsx("div",{className:"settings-section-header",children:k("settings_share_link_header")||"링크로 공유"}),_.jsxs("div",{className:"settings-section-body",children:[!x&&_.jsx("button",{className:"settings-item action-item",onClick:()=>{try{G()}catch(W){console.error("Share link creation error:",W),U("공유 링크 생성 중 오류가 발생했습니다.")}},disabled:R,children:_.jsx("span",{className:"action-text",children:R?"🔗 단축 URL 생성 중...":k("settings_generate_link")||"공유 링크 생성"})}),x&&_.jsxs("div",{className:"share-link-container",children:[_.jsxs("div",{style:{marginBottom:"8px",fontSize:"12px",opacity:.7},children:[x.length<100?"📎 단축 URL":"🔗 일반 링크","(",x.length,"자)"]}),_.jsx("input",{type:"text",readOnly:!0,value:x,onClick:W=>W.target.select()}),_.jsx("button",{onClick:()=>{try{Y()}catch(W){console.error("Copy link error:",W)}},children:k("settings_copy_link")||"링크 복사"})]})]}),_.jsx("div",{className:"settings-section-header",children:k("settings_delete_account")||"모든 데이터 삭제"}),_.jsx("div",{className:"settings-section-body",children:_.jsx("button",{className:"settings-item action-item",onClick:()=>{try{we()}catch(W){console.error("Delete click error:",W)}},disabled:m!=="idle",children:_.jsx("span",{className:"action-text destructive",children:m==="deleting"?k("data_deleting")||"삭제 중...":k("settings_delete_account")||"모든 데이터 삭제"})})})]});default:return _.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[_.jsx("p",{children:"설정을 로드하는 중 오류가 발생했습니다."}),_.jsx("button",{onClick:()=>C("appearance"),style:{marginTop:"10px",padding:"8px 16px",backgroundColor:"var(--primary-color)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"외관 설정으로 이동"})]})}}catch(W){return console.error("Settings tab rendering error:",W),_.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[_.jsx("p",{children:"설정 탭을 표시하는 중 오류가 발생했습니다."}),_.jsxs("p",{style:{fontSize:"12px",color:"red",marginTop:"10px"},children:["오류: ",W instanceof Error?W.message:"알 수 없는 오류"]}),_.jsx("button",{onClick:()=>C("appearance"),style:{marginTop:"10px",padding:"8px 16px",backgroundColor:"var(--primary-color)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"외관 설정으로 이동"})]})}};return _.jsxs(Uo,{onClose:T,isClosing:w,className:"settings-modal",children:[_.jsxs("div",{className:"settings-modal-header",children:[_.jsx("div",{}),_.jsx("h2",{children:k("settings_title")}),_.jsx("div",{className:"settings-modal-header-right",children:_.jsx("button",{onClick:T,className:"close-button",children:te.close})})]}),_.jsxs("div",{className:"settings-modal-body",children:[_.jsx("div",{className:"settings-tabs",children:ue.map(W=>_.jsxs("button",{className:`settings-tab-button ${E===W.id?"active":""}`,onClick:()=>C(W.id),"aria-label":W.label,children:[_.jsx("div",{className:"settings-tab-icon",children:W.icon}),_.jsx("span",{children:W.label})]},W.id))}),_.jsx("div",{className:"settings-tab-content-container",children:_.jsx("div",{className:"settings-tab-content",children:Q()},E)})]})]})},jR=({onClose:t,t:e})=>{const[n,i]=Fo(t),r="1.2 (25.10.20)",o=[{icon:te.ai,titleKey:"version_update_1_title",descKey:"version_update_1_desc"},{icon:te.globe,titleKey:"version_update_2_title",descKey:"version_update_2_desc"},{icon:te.background,titleKey:"version_update_3_title",descKey:"version_update_3_desc"}];return _.jsxs(Uo,{onClose:i,isClosing:n,className:"version-info-modal",children:[_.jsxs("div",{className:"version-info-header",children:[_.jsx("h2",{children:e("version_update_title")}),_.jsxs("p",{children:[e("build_number"),": ",r]})]}),_.jsx("div",{className:"version-info-body",children:o.map((s,u)=>_.jsxs("div",{className:"changelog-item",children:[_.jsx("div",{className:"changelog-icon",style:{"--icon-bg":"var(--primary-color)"},children:s.icon}),_.jsxs("div",{className:"changelog-text",children:[_.jsx("h3",{children:e(s.titleKey)}),_.jsx("p",{children:e(s.descKey)})]})]},u))}),_.jsx("div",{className:"modal-buttons",children:_.jsx("button",{onClick:i,className:"primary",children:e("settings_done_button")})})]})},ZR=({onClose:t,t:e})=>{const[n,i]=Fo(t),r=s=>{const u=/(https?:\/\/[^\s]+)/g;return s.split(u).map((f,h)=>u.test(f)?_.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"guide-link",children:f},h):f)},o=[{titleKey:"usage_basic_title",descKey:"usage_basic_desc"},{titleKey:"usage_ai_setup_title",descKey:"usage_ai_setup_desc"},{titleKey:"usage_ai_use_title",descKey:"usage_ai_use_desc"},{titleKey:"usage_share_title",descKey:"usage_share_desc"},{titleKey:"usage_theme_title",descKey:"usage_theme_desc"},{titleKey:"usage_calendar_title",descKey:"usage_calendar_desc"},{titleKey:"usage_offline_title",descKey:"usage_offline_desc"}];return _.jsxs(Uo,{onClose:i,isClosing:n,className:"usage-guide-modal",children:[_.jsx("div",{className:"version-info-header",children:_.jsx("h2",{children:e("usage_guide_title")})}),_.jsx("div",{className:"version-info-body",children:o.map((s,u)=>_.jsxs("div",{className:"usage-guide-item",children:[_.jsx("h3",{children:e(s.titleKey)}),_.jsx("p",{children:s.titleKey==="usage_ai_setup_title"?r(e(s.descKey)):e(s.descKey)})]},u))}),_.jsx("div",{className:"modal-buttons",children:_.jsx("button",{onClick:i,className:"primary",children:e("settings_done_button")})})]})},ex=({todos:t,t:e,onGoalClick:n,language:i})=>{const[r,o]=B.useState(new Date),[s,u]=B.useState("week"),d=g=>{const I=new Date(r);s==="month"?I.setMonth(I.getMonth()+g):s==="week"?I.setDate(I.getDate()+g*7):I.setDate(I.getDate()+g*3),o(I)},f=B.useMemo(()=>{const g=[];let I,k;if(s==="month"){const N=new Date(r.getFullYear(),r.getMonth(),1);I=Em(N,i==="ko"?1:0),k=42}else s==="week"?(I=Em(r,i==="ko"?1:0),k=7):(I=new Date(r),I.setDate(I.getDate()-1),k=3);for(let N=0;N<k;N++){const U=new Date(I);U.setDate(U.getDate()+N),g.push(U)}return g},[r,s,i]),h=B.useMemo(()=>{if(s==="month"){const g=r.getFullYear(),I=e("month_names")[r.getMonth()],k=e("calendar_header_month_format");return k&&typeof k=="string"&&k!=="calendar_header_month_format"?k.replace("{year}",String(g)).replace("{month}",I):`${I} ${g}`}return`${r.getFullYear()}.${r.getMonth()+1}`},[r,s,e]),m=B.useMemo(()=>{const g=e("day_names_short");if(i==="ko"&&Array.isArray(g)){const[I,...k]=g;return[...k,I]}return g},[i,e]);return _.jsxs("div",{className:"calendar-view-container",children:[_.jsxs("div",{className:"calendar-header",children:[_.jsx("button",{onClick:()=>d(-1),children:te.back}),_.jsx("h2",{children:h}),_.jsx("button",{onClick:()=>d(1),children:te.forward})]}),_.jsxs("div",{className:"calendar-view-mode-selector",children:[_.jsx("button",{onClick:()=>u("day3"),className:s==="day3"?"active":"",children:e("calendar_view_day3")}),_.jsx("button",{onClick:()=>u("week"),className:s==="week"?"active":"",children:e("calendar_view_week")}),_.jsx("button",{onClick:()=>u("month"),className:`calendar-view-button-month ${s==="month"?"active":""}`,children:e("calendar_view_month")})]}),(s==="week"||s==="month")&&_.jsx("div",{className:"calendar-days-of-week",children:Array.isArray(m)&&m.map(g=>_.jsx("div",{children:g},g))}),_.jsx("div",{className:`calendar-grid view-mode-${s}`,children:f.map(g=>{const k=ji(g,new Date),N=g.getMonth()===r.getMonth(),U=t.filter(P=>{if(P.isRecurring){const S=(g.getDay()+6)%7;return P.recurringDays.includes(S)}return P.deadline&&ji(g,P.deadline)});return _.jsxs("div",{className:`calendar-day ${!N&&s==="month"?"not-current-month":""} ${k?"is-today":""}`,"data-day-name":e("day_names_long")[g.getDay()],children:[_.jsx("div",{className:"day-header",children:_.jsx("span",{className:"day-number",children:g.getDate()})}),_.jsx("div",{className:"calendar-goals",children:U.map(P=>_.jsx("div",{className:`calendar-goal-item ${P.completed&&P.lastCompletedDate&&ji(g,P.lastCompletedDate)?"completed":""}`,onClick:()=>n(P),children:P.wish},P.id))})]},g.toISOString())})})]})},tx=({title:t,message:e,onConfirm:n,onCancel:i,confirmText:r,cancelText:o,isDestructive:s,t:u})=>{const d=typeof i=="function";return _.jsx("div",{className:"modal-backdrop alert-backdrop",children:_.jsxs("div",{className:"modal-content alert-modal",children:[_.jsxs("div",{className:"alert-content",children:[_.jsx("h2",{children:t}),_.jsx("p",{dangerouslySetInnerHTML:{__html:e}})]}),_.jsxs("div",{className:"modal-buttons",children:[d&&_.jsx("button",{onClick:i,className:"secondary",children:o||u("cancel_button")}),_.jsx("button",{onClick:n,className:s?"destructive":"primary",children:r||u("confirm_button")})]})]})})},nx=Zi.createRoot(document.getElementById("root"));nx.render(_.jsx(Rl.StrictMode,{children:_.jsx(wd,{})}));export{_ as j,B as r};
