(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Zy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rp={exports:{}},gl={},Mp={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xr=Symbol.for("react.element"),jy=Symbol.for("react.portal"),e_=Symbol.for("react.fragment"),t_=Symbol.for("react.strict_mode"),n_=Symbol.for("react.profiler"),o_=Symbol.for("react.provider"),i_=Symbol.for("react.context"),r_=Symbol.for("react.forward_ref"),s_=Symbol.for("react.suspense"),l_=Symbol.for("react.memo"),a_=Symbol.for("react.lazy"),Id=Symbol.iterator;function u_(t){return t===null||typeof t!="object"?null:(t=Id&&t[Id]||t["@@iterator"],typeof t=="function"?t:null)}var Dp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lp=Object.assign,Up={};function ai(t,e,n){this.props=t,this.context=e,this.refs=Up,this.updater=n||Dp}ai.prototype.isReactComponent={};ai.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ai.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Fp(){}Fp.prototype=ai.prototype;function Bu(t,e,n){this.props=t,this.context=e,this.refs=Up,this.updater=n||Dp}var Gu=Bu.prototype=new Fp;Gu.constructor=Bu;Lp(Gu,ai.prototype);Gu.isPureReactComponent=!0;var Ad=Array.isArray,Vp=Object.prototype.hasOwnProperty,Hu={current:null},Bp={key:!0,ref:!0,__self:!0,__source:!0};function Gp(t,e,n){var o,i={},r=null,s=null;if(e!=null)for(o in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(r=""+e.key),e)Vp.call(e,o)&&!Bp.hasOwnProperty(o)&&(i[o]=e[o]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var d=Array(c),f=0;f<c;f++)d[f]=arguments[f+2];i.children=d}if(t&&t.defaultProps)for(o in c=t.defaultProps,c)i[o]===void 0&&(i[o]=c[o]);return{$$typeof:xr,type:t,key:r,ref:s,props:i,_owner:Hu.current}}function c_(t,e){return{$$typeof:xr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qu(t){return typeof t=="object"&&t!==null&&t.$$typeof===xr}function d_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xd=/\/+/g;function Ql(t,e){return typeof t=="object"&&t!==null&&t.key!=null?d_(""+t.key):e.toString(36)}function Cs(t,e,n,o,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(r){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case xr:case jy:s=!0}}if(s)return s=t,i=i(s),t=o===""?"."+Ql(s,0):o,Ad(i)?(n="",t!=null&&(n=t.replace(xd,"$&/")+"/"),Cs(i,e,n,"",function(f){return f})):i!=null&&(qu(i)&&(i=c_(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(xd,"$&/")+"/")+t)),e.push(i)),1;if(s=0,o=o===""?".":o+":",Ad(t))for(var c=0;c<t.length;c++){r=t[c];var d=o+Ql(r,c);s+=Cs(r,e,n,d,i)}else if(d=u_(t),typeof d=="function")for(t=d.call(t),c=0;!(r=t.next()).done;)r=r.value,d=o+Ql(r,c++),s+=Cs(r,e,n,d,i);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function os(t,e,n){if(t==null)return t;var o=[],i=0;return Cs(t,o,"","",function(r){return e.call(n,r,i++)}),o}function f_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var et={current:null},Es={transition:null},h_={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:Es,ReactCurrentOwner:Hu};function Hp(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:os,forEach:function(t,e,n){os(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return os(t,function(){e++}),e},toArray:function(t){return os(t,function(e){return e})||[]},only:function(t){if(!qu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=ai;te.Fragment=e_;te.Profiler=n_;te.PureComponent=Bu;te.StrictMode=t_;te.Suspense=s_;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h_;te.act=Hp;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=Lp({},t.props),i=t.key,r=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,s=Hu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(d in e)Vp.call(e,d)&&!Bp.hasOwnProperty(d)&&(o[d]=e[d]===void 0&&c!==void 0?c[d]:e[d])}var d=arguments.length-2;if(d===1)o.children=n;else if(1<d){c=Array(d);for(var f=0;f<d;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:xr,type:t.type,key:i,ref:r,props:o,_owner:s}};te.createContext=function(t){return t={$$typeof:i_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:o_,_context:t},t.Consumer=t};te.createElement=Gp;te.createFactory=function(t){var e=Gp.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:r_,render:t}};te.isValidElement=qu;te.lazy=function(t){return{$$typeof:a_,_payload:{_status:-1,_result:t},_init:f_}};te.memo=function(t,e){return{$$typeof:l_,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=Es.transition;Es.transition={};try{t()}finally{Es.transition=e}};te.unstable_act=Hp;te.useCallback=function(t,e){return et.current.useCallback(t,e)};te.useContext=function(t){return et.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return et.current.useDeferredValue(t)};te.useEffect=function(t,e){return et.current.useEffect(t,e)};te.useId=function(){return et.current.useId()};te.useImperativeHandle=function(t,e,n){return et.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return et.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return et.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return et.current.useMemo(t,e)};te.useReducer=function(t,e,n){return et.current.useReducer(t,e,n)};te.useRef=function(t){return et.current.useRef(t)};te.useState=function(t){return et.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return et.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return et.current.useTransition()};te.version="18.3.1";Mp.exports=te;var H=Mp.exports;const bu=Zy(H);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_=H,m_=Symbol.for("react.element"),g_=Symbol.for("react.fragment"),y_=Object.prototype.hasOwnProperty,__=p_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v_={key:!0,ref:!0,__self:!0,__source:!0};function qp(t,e,n){var o,i={},r=null,s=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(s=e.ref);for(o in e)y_.call(e,o)&&!v_.hasOwnProperty(o)&&(i[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)i[o]===void 0&&(i[o]=e[o]);return{$$typeof:m_,type:t,key:r,ref:s,props:i,_owner:__.current}}gl.Fragment=g_;gl.jsx=qp;gl.jsxs=qp;Rp.exports=gl;var _=Rp.exports,Vs={},bp={exports:{}},pt={},Op={exports:{}},$p={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(b,K){var Q=b.length;b.push(K);e:for(;0<Q;){var z=Q-1>>>1,oe=b[z];if(0<i(oe,K))b[z]=K,b[Q]=oe,Q=z;else break e}}function n(b){return b.length===0?null:b[0]}function o(b){if(b.length===0)return null;var K=b[0],Q=b.pop();if(Q!==K){b[0]=Q;e:for(var z=0,oe=b.length,ae=oe>>>1;z<ae;){var Te=2*(z+1)-1,Vt=b[Te],nt=Te+1,It=b[nt];if(0>i(Vt,Q))nt<oe&&0>i(It,Vt)?(b[z]=It,b[nt]=Q,z=nt):(b[z]=Vt,b[Te]=Q,z=Te);else if(nt<oe&&0>i(It,Q))b[z]=It,b[nt]=Q,z=nt;else break e}}return K}function i(b,K){var Q=b.sortIndex-K.sortIndex;return Q!==0?Q:b.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var d=[],f=[],h=1,g=null,m=3,w=!1,k=!1,R=!1,F=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(b){for(var K=n(f);K!==null;){if(K.callback===null)o(f);else if(K.startTime<=b)o(f),K.sortIndex=K.expirationTime,e(d,K);else break;K=n(f)}}function D(b){if(R=!1,x(b),!k)if(n(d)!==null)k=!0,me(B);else{var K=n(f);K!==null&&$e(D,K.startTime-b)}}function B(b,K){k=!1,R&&(R=!1,A(v),v=-1),w=!0;var Q=m;try{for(x(K),g=n(d);g!==null&&(!(g.expirationTime>K)||b&&!P());){var z=g.callback;if(typeof z=="function"){g.callback=null,m=g.priorityLevel;var oe=z(g.expirationTime<=K);K=t.unstable_now(),typeof oe=="function"?g.callback=oe:g===n(d)&&o(d),x(K)}else o(d);g=n(d)}if(g!==null)var ae=!0;else{var Te=n(f);Te!==null&&$e(D,Te.startTime-K),ae=!1}return ae}finally{g=null,m=Q,w=!1}}var V=!1,E=null,v=-1,S=5,I=-1;function P(){return!(t.unstable_now()-I<S)}function M(){if(E!==null){var b=t.unstable_now();I=b;var K=!0;try{K=E(!0,b)}finally{K?N():(V=!1,E=null)}}else V=!1}var N;if(typeof C=="function")N=function(){C(M)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ne=Y.port2;Y.port1.onmessage=M,N=function(){ne.postMessage(null)}}else N=function(){F(M,0)};function me(b){E=b,V||(V=!0,N())}function $e(b,K){v=F(function(){b(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){k||w||(k=!0,me(B))},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<b?Math.floor(1e3/b):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(b){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var Q=m;m=K;try{return b()}finally{m=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(b,K){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var Q=m;m=b;try{return K()}finally{m=Q}},t.unstable_scheduleCallback=function(b,K,Q){var z=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?z+Q:z):Q=z,b){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=Q+oe,b={id:h++,callback:K,priorityLevel:b,startTime:Q,expirationTime:oe,sortIndex:-1},Q>z?(b.sortIndex=Q,e(f,b),n(d)===null&&b===n(f)&&(R?(A(v),v=-1):R=!0,$e(D,Q-z))):(b.sortIndex=oe,e(d,b),k||w||(k=!0,me(B))),b},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(b){var K=m;return function(){var Q=m;m=K;try{return b.apply(this,arguments)}finally{m=Q}}}})($p);Op.exports=$p;var T_=Op.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_=H,ht=T_;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zp=new Set,lr={};function vo(t,e){ei(t,e),ei(t+"Capture",e)}function ei(t,e){for(lr[t]=e,t=0;t<e.length;t++)zp.add(e[t])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pa=Object.prototype.hasOwnProperty,C_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kd={},Nd={};function E_(t){return Pa.call(Nd,t)?!0:Pa.call(kd,t)?!1:C_.test(t)?Nd[t]=!0:(kd[t]=!0,!1)}function w_(t,e,n,o){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function I_(t,e,n,o){if(e===null||typeof e>"u"||w_(t,e,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tt(t,e,n,o,i,r,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=s}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Oe[t]=new tt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Oe[e]=new tt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Oe[t]=new tt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Oe[t]=new tt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Oe[t]=new tt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Oe[t]=new tt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Oe[t]=new tt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Oe[t]=new tt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Oe[t]=new tt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ou=/[\-:]([a-z])/g;function $u(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ou,$u);Oe[e]=new tt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ou,$u);Oe[e]=new tt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ou,$u);Oe[e]=new tt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Oe[t]=new tt(t,1,!1,t.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Oe[t]=new tt(t,1,!1,t.toLowerCase(),null,!0,!0)});function zu(t,e,n,o){var i=Oe.hasOwnProperty(e)?Oe[e]:null;(i!==null?i.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(I_(e,n,i,o)&&(n=null),o||i===null?E_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,o=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,o?t.setAttributeNS(o,e,n):t.setAttribute(e,n))))}var un=S_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,is=Symbol.for("react.element"),No=Symbol.for("react.portal"),Po=Symbol.for("react.fragment"),Ju=Symbol.for("react.strict_mode"),Ra=Symbol.for("react.profiler"),Jp=Symbol.for("react.provider"),Wp=Symbol.for("react.context"),Wu=Symbol.for("react.forward_ref"),Ma=Symbol.for("react.suspense"),Da=Symbol.for("react.suspense_list"),Ku=Symbol.for("react.memo"),Cn=Symbol.for("react.lazy"),Kp=Symbol.for("react.offscreen"),Pd=Symbol.iterator;function Li(t){return t===null||typeof t!="object"?null:(t=Pd&&t[Pd]||t["@@iterator"],typeof t=="function"?t:null)}var we=Object.assign,Zl;function Oi(t){if(Zl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zl=e&&e[1]||""}return`
`+Zl+t}var jl=!1;function ea(t,e){if(!t||jl)return"";jl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var o=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){o=f}t.call(e.prototype)}else{try{throw Error()}catch(f){o=f}t()}}catch(f){if(f&&o&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),r=o.stack.split(`
`),s=i.length-1,c=r.length-1;1<=s&&0<=c&&i[s]!==r[c];)c--;for(;1<=s&&0<=c;s--,c--)if(i[s]!==r[c]){if(s!==1||c!==1)do if(s--,c--,0>c||i[s]!==r[c]){var d=`
`+i[s].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=s&&0<=c);break}}}finally{jl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Oi(t):""}function A_(t){switch(t.tag){case 5:return Oi(t.type);case 16:return Oi("Lazy");case 13:return Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 2:case 15:return t=ea(t.type,!1),t;case 11:return t=ea(t.type.render,!1),t;case 1:return t=ea(t.type,!0),t;default:return""}}function La(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Po:return"Fragment";case No:return"Portal";case Ra:return"Profiler";case Ju:return"StrictMode";case Ma:return"Suspense";case Da:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Wp:return(t.displayName||"Context")+".Consumer";case Jp:return(t._context.displayName||"Context")+".Provider";case Wu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ku:return e=t.displayName||null,e!==null?e:La(t.type)||"Memo";case Cn:e=t._payload,t=t._init;try{return La(t(e))}catch{}}return null}function x_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return La(e);case 8:return e===Ju?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function k_(t){var e=Yp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){o=""+s,r.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(s){o=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rs(t){t._valueTracker||(t._valueTracker=k_(t))}function Xp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),o="";return t&&(o=Yp(t)?t.checked?"true":"false":t.value),t=o,t!==n?(e.setValue(t),!0):!1}function Bs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ua(t,e){var n=e.checked;return we({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Rd(t,e){var n=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;n=Bn(e.value!=null?e.value:n),t._wrapperState={initialChecked:o,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Qp(t,e){e=e.checked,e!=null&&zu(t,"checked",e,!1)}function Fa(t,e){Qp(t,e);var n=Bn(e.value),o=e.type;if(n!=null)o==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Va(t,e.type,n):e.hasOwnProperty("defaultValue")&&Va(t,e.type,Bn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Md(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Va(t,e,n){(e!=="number"||Bs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $i=Array.isArray;function bo(t,e,n,o){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&o&&(t[n].defaultSelected=!0)}else{for(n=""+Bn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,o&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ba(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return we({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if($i(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bn(n)}}function Zp(t,e){var n=Bn(e.value),o=Bn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),o!=null&&(t.defaultValue=""+o)}function Ld(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ga(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ss,em=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,o,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,o,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ss=ss||document.createElement("div"),ss.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ss.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ar(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N_=["Webkit","ms","Moz","O"];Object.keys(Wi).forEach(function(t){N_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wi[e]=Wi[t]})});function tm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wi.hasOwnProperty(t)&&Wi[t]?(""+e).trim():e+"px"}function nm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var o=n.indexOf("--")===0,i=tm(n,e[n],o);n==="float"&&(n="cssFloat"),o?t.setProperty(n,i):t[n]=i}}var P_=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ha(t,e){if(e){if(P_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function qa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ba=null;function Yu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oa=null,Oo=null,$o=null;function Ud(t){if(t=Pr(t)){if(typeof Oa!="function")throw Error(G(280));var e=t.stateNode;e&&(e=Sl(e),Oa(t.stateNode,t.type,e))}}function om(t){Oo?$o?$o.push(t):$o=[t]:Oo=t}function im(){if(Oo){var t=Oo,e=$o;if($o=Oo=null,Ud(t),e)for(t=0;t<e.length;t++)Ud(e[t])}}function rm(t,e){return t(e)}function sm(){}var ta=!1;function lm(t,e,n){if(ta)return t(e,n);ta=!0;try{return rm(t,e,n)}finally{ta=!1,(Oo!==null||$o!==null)&&(sm(),im())}}function ur(t,e){var n=t.stateNode;if(n===null)return null;var o=Sl(n);if(o===null)return null;n=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var $a=!1;if(on)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){$a=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{$a=!1}function R_(t,e,n,o,i,r,s,c,d){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(h){this.onError(h)}}var Ki=!1,Gs=null,Hs=!1,za=null,M_={onError:function(t){Ki=!0,Gs=t}};function D_(t,e,n,o,i,r,s,c,d){Ki=!1,Gs=null,R_.apply(M_,arguments)}function L_(t,e,n,o,i,r,s,c,d){if(D_.apply(this,arguments),Ki){if(Ki){var f=Gs;Ki=!1,Gs=null}else throw Error(G(198));Hs||(Hs=!0,za=f)}}function To(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function am(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fd(t){if(To(t)!==t)throw Error(G(188))}function U_(t){var e=t.alternate;if(!e){if(e=To(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,o=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(o=i.return,o!==null){n=o;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return Fd(i),t;if(r===o)return Fd(i),e;r=r.sibling}throw Error(G(188))}if(n.return!==o.return)n=i,o=r;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,o=r;break}if(c===o){s=!0,o=i,n=r;break}c=c.sibling}if(!s){for(c=r.child;c;){if(c===n){s=!0,n=r,o=i;break}if(c===o){s=!0,o=r,n=i;break}c=c.sibling}if(!s)throw Error(G(189))}}if(n.alternate!==o)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function um(t){return t=U_(t),t!==null?cm(t):null}function cm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cm(t);if(e!==null)return e;t=t.sibling}return null}var dm=ht.unstable_scheduleCallback,Vd=ht.unstable_cancelCallback,F_=ht.unstable_shouldYield,V_=ht.unstable_requestPaint,ke=ht.unstable_now,B_=ht.unstable_getCurrentPriorityLevel,Xu=ht.unstable_ImmediatePriority,fm=ht.unstable_UserBlockingPriority,qs=ht.unstable_NormalPriority,G_=ht.unstable_LowPriority,hm=ht.unstable_IdlePriority,yl=null,Kt=null;function H_(t){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(yl,t,void 0,(t.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:O_,q_=Math.log,b_=Math.LN2;function O_(t){return t>>>=0,t===0?32:31-(q_(t)/b_|0)|0}var ls=64,as=4194304;function zi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bs(t,e){var n=t.pendingLanes;if(n===0)return 0;var o=0,i=t.suspendedLanes,r=t.pingedLanes,s=n&268435455;if(s!==0){var c=s&~i;c!==0?o=zi(c):(r&=s,r!==0&&(o=zi(r)))}else s=n&~i,s!==0?o=zi(s):r!==0&&(o=zi(r));if(o===0)return 0;if(e!==0&&e!==o&&!(e&i)&&(i=o&-o,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(o&4&&(o|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=o;0<e;)n=31-Dt(e),i=1<<n,o|=t[n],e&=~i;return o}function $_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z_(t,e){for(var n=t.suspendedLanes,o=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes;0<r;){var s=31-Dt(r),c=1<<s,d=i[s];d===-1?(!(c&n)||c&o)&&(i[s]=$_(c,e)):d<=e&&(t.expiredLanes|=c),r&=~c}}function Ja(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pm(){var t=ls;return ls<<=1,!(ls&4194240)&&(ls=64),t}function na(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function kr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dt(e),t[e]=n}function J_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Dt(n),r=1<<i;e[i]=0,o[i]=-1,t[i]=-1,n&=~r}}function Qu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var o=31-Dt(n),i=1<<o;i&e|t[o]&e&&(t[o]|=e),n&=~i}}var ce=0;function mm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gm,Zu,ym,_m,vm,Wa=!1,us=[],kn=null,Nn=null,Pn=null,cr=new Map,dr=new Map,wn=[],W_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bd(t,e){switch(t){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":cr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(e.pointerId)}}function Fi(t,e,n,o,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:o,nativeEvent:r,targetContainers:[i]},e!==null&&(e=Pr(e),e!==null&&Zu(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function K_(t,e,n,o,i){switch(e){case"focusin":return kn=Fi(kn,t,e,n,o,i),!0;case"dragenter":return Nn=Fi(Nn,t,e,n,o,i),!0;case"mouseover":return Pn=Fi(Pn,t,e,n,o,i),!0;case"pointerover":var r=i.pointerId;return cr.set(r,Fi(cr.get(r)||null,t,e,n,o,i)),!0;case"gotpointercapture":return r=i.pointerId,dr.set(r,Fi(dr.get(r)||null,t,e,n,o,i)),!0}return!1}function Tm(t){var e=oo(t.target);if(e!==null){var n=To(e);if(n!==null){if(e=n.tag,e===13){if(e=am(n),e!==null){t.blockedOn=e,vm(t.priority,function(){ym(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ws(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ka(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var o=new n.constructor(n.type,n);ba=o,n.target.dispatchEvent(o),ba=null}else return e=Pr(n),e!==null&&Zu(e),t.blockedOn=n,!1;e.shift()}return!0}function Gd(t,e,n){ws(t)&&n.delete(e)}function Y_(){Wa=!1,kn!==null&&ws(kn)&&(kn=null),Nn!==null&&ws(Nn)&&(Nn=null),Pn!==null&&ws(Pn)&&(Pn=null),cr.forEach(Gd),dr.forEach(Gd)}function Vi(t,e){t.blockedOn===e&&(t.blockedOn=null,Wa||(Wa=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,Y_)))}function fr(t){function e(i){return Vi(i,t)}if(0<us.length){Vi(us[0],t);for(var n=1;n<us.length;n++){var o=us[n];o.blockedOn===t&&(o.blockedOn=null)}}for(kn!==null&&Vi(kn,t),Nn!==null&&Vi(Nn,t),Pn!==null&&Vi(Pn,t),cr.forEach(e),dr.forEach(e),n=0;n<wn.length;n++)o=wn[n],o.blockedOn===t&&(o.blockedOn=null);for(;0<wn.length&&(n=wn[0],n.blockedOn===null);)Tm(n),n.blockedOn===null&&wn.shift()}var zo=un.ReactCurrentBatchConfig,Os=!0;function X_(t,e,n,o){var i=ce,r=zo.transition;zo.transition=null;try{ce=1,ju(t,e,n,o)}finally{ce=i,zo.transition=r}}function Q_(t,e,n,o){var i=ce,r=zo.transition;zo.transition=null;try{ce=4,ju(t,e,n,o)}finally{ce=i,zo.transition=r}}function ju(t,e,n,o){if(Os){var i=Ka(t,e,n,o);if(i===null)fa(t,e,o,$s,n),Bd(t,o);else if(K_(i,t,e,n,o))o.stopPropagation();else if(Bd(t,o),e&4&&-1<W_.indexOf(t)){for(;i!==null;){var r=Pr(i);if(r!==null&&gm(r),r=Ka(t,e,n,o),r===null&&fa(t,e,o,$s,n),r===i)break;i=r}i!==null&&o.stopPropagation()}else fa(t,e,o,null,n)}}var $s=null;function Ka(t,e,n,o){if($s=null,t=Yu(o),t=oo(t),t!==null)if(e=To(t),e===null)t=null;else if(n=e.tag,n===13){if(t=am(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $s=t,null}function Sm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(B_()){case Xu:return 1;case fm:return 4;case qs:case G_:return 16;case hm:return 536870912;default:return 16}default:return 16}}var An=null,ec=null,Is=null;function Cm(){if(Is)return Is;var t,e=ec,n=e.length,o,i="value"in An?An.value:An.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(o=1;o<=s&&e[n-o]===i[r-o];o++);return Is=i.slice(t,1<o?1-o:void 0)}function As(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cs(){return!0}function Hd(){return!1}function mt(t){function e(n,o,i,r,s){this._reactName=n,this._targetInst=i,this.type=o,this.nativeEvent=r,this.target=s,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(r):r[c]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?cs:Hd,this.isPropagationStopped=Hd,this}return we(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),e}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tc=mt(ui),Nr=we({},ui,{view:0,detail:0}),Z_=mt(Nr),oa,ia,Bi,_l=we({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bi&&(Bi&&t.type==="mousemove"?(oa=t.screenX-Bi.screenX,ia=t.screenY-Bi.screenY):ia=oa=0,Bi=t),oa)},movementY:function(t){return"movementY"in t?t.movementY:ia}}),qd=mt(_l),j_=we({},_l,{dataTransfer:0}),ev=mt(j_),tv=we({},Nr,{relatedTarget:0}),ra=mt(tv),nv=we({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),ov=mt(nv),iv=we({},ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rv=mt(iv),sv=we({},ui,{data:0}),bd=mt(sv),lv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},av={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uv[t])?!!e[t]:!1}function nc(){return cv}var dv=we({},Nr,{key:function(t){if(t.key){var e=lv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=As(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?av[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nc,charCode:function(t){return t.type==="keypress"?As(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?As(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fv=mt(dv),hv=we({},_l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Od=mt(hv),pv=we({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nc}),mv=mt(pv),gv=we({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),yv=mt(gv),_v=we({},_l,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vv=mt(_v),Tv=[9,13,27,32],oc=on&&"CompositionEvent"in window,Yi=null;on&&"documentMode"in document&&(Yi=document.documentMode);var Sv=on&&"TextEvent"in window&&!Yi,Em=on&&(!oc||Yi&&8<Yi&&11>=Yi),$d=" ",zd=!1;function wm(t,e){switch(t){case"keyup":return Tv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Im(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ro=!1;function Cv(t,e){switch(t){case"compositionend":return Im(e);case"keypress":return e.which!==32?null:(zd=!0,$d);case"textInput":return t=e.data,t===$d&&zd?null:t;default:return null}}function Ev(t,e){if(Ro)return t==="compositionend"||!oc&&wm(t,e)?(t=Cm(),Is=ec=An=null,Ro=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Em&&e.locale!=="ko"?null:e.data;default:return null}}var wv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wv[t.type]:e==="textarea"}function Am(t,e,n,o){om(o),e=zs(e,"onChange"),0<e.length&&(n=new tc("onChange","change",null,n,o),t.push({event:n,listeners:e}))}var Xi=null,hr=null;function Iv(t){Vm(t,0)}function vl(t){var e=Lo(t);if(Xp(e))return t}function Av(t,e){if(t==="change")return e}var xm=!1;if(on){var sa;if(on){var la="oninput"in document;if(!la){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),la=typeof Wd.oninput=="function"}sa=la}else sa=!1;xm=sa&&(!document.documentMode||9<document.documentMode)}function Kd(){Xi&&(Xi.detachEvent("onpropertychange",km),hr=Xi=null)}function km(t){if(t.propertyName==="value"&&vl(hr)){var e=[];Am(e,hr,t,Yu(t)),lm(Iv,e)}}function xv(t,e,n){t==="focusin"?(Kd(),Xi=e,hr=n,Xi.attachEvent("onpropertychange",km)):t==="focusout"&&Kd()}function kv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vl(hr)}function Nv(t,e){if(t==="click")return vl(e)}function Pv(t,e){if(t==="input"||t==="change")return vl(e)}function Rv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ut=typeof Object.is=="function"?Object.is:Rv;function pr(t,e){if(Ut(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var i=n[o];if(!Pa.call(e,i)||!Ut(t[i],e[i]))return!1}return!0}function Yd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xd(t,e){var n=Yd(t);t=0;for(var o;n;){if(n.nodeType===3){if(o=t+n.textContent.length,t<=e&&o>=e)return{node:n,offset:e-t};t=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yd(n)}}function Nm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Nm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Pm(){for(var t=window,e=Bs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bs(t.document)}return e}function ic(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Mv(t){var e=Pm(),n=t.focusedElem,o=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Nm(n.ownerDocument.documentElement,n)){if(o!==null&&ic(n)){if(e=o.start,t=o.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,r=Math.min(o.start,i);o=o.end===void 0?r:Math.min(o.end,i),!t.extend&&r>o&&(i=o,o=r,r=i),i=Xd(n,r);var s=Xd(n,o);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),r>o?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Dv=on&&"documentMode"in document&&11>=document.documentMode,Mo=null,Ya=null,Qi=null,Xa=!1;function Qd(t,e,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xa||Mo==null||Mo!==Bs(o)||(o=Mo,"selectionStart"in o&&ic(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Qi&&pr(Qi,o)||(Qi=o,o=zs(Ya,"onSelect"),0<o.length&&(e=new tc("onSelect","select",null,e,n),t.push({event:e,listeners:o}),e.target=Mo)))}function ds(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Do={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionend:ds("Transition","TransitionEnd")},aa={},Rm={};on&&(Rm=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function Tl(t){if(aa[t])return aa[t];if(!Do[t])return t;var e=Do[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Rm)return aa[t]=e[n];return t}var Mm=Tl("animationend"),Dm=Tl("animationiteration"),Lm=Tl("animationstart"),Um=Tl("transitionend"),Fm=new Map,Zd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qn(t,e){Fm.set(t,e),vo(e,[t])}for(var ua=0;ua<Zd.length;ua++){var ca=Zd[ua],Lv=ca.toLowerCase(),Uv=ca[0].toUpperCase()+ca.slice(1);qn(Lv,"on"+Uv)}qn(Mm,"onAnimationEnd");qn(Dm,"onAnimationIteration");qn(Lm,"onAnimationStart");qn("dblclick","onDoubleClick");qn("focusin","onFocus");qn("focusout","onBlur");qn(Um,"onTransitionEnd");ei("onMouseEnter",["mouseout","mouseover"]);ei("onMouseLeave",["mouseout","mouseover"]);ei("onPointerEnter",["pointerout","pointerover"]);ei("onPointerLeave",["pointerout","pointerover"]);vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ji));function jd(t,e,n){var o=t.type||"unknown-event";t.currentTarget=n,L_(o,e,void 0,t),t.currentTarget=null}function Vm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var o=t[n],i=o.event;o=o.listeners;e:{var r=void 0;if(e)for(var s=o.length-1;0<=s;s--){var c=o[s],d=c.instance,f=c.currentTarget;if(c=c.listener,d!==r&&i.isPropagationStopped())break e;jd(i,c,f),r=d}else for(s=0;s<o.length;s++){if(c=o[s],d=c.instance,f=c.currentTarget,c=c.listener,d!==r&&i.isPropagationStopped())break e;jd(i,c,f),r=d}}}if(Hs)throw t=za,Hs=!1,za=null,t}function ye(t,e){var n=e[tu];n===void 0&&(n=e[tu]=new Set);var o=t+"__bubble";n.has(o)||(Bm(e,t,2,!1),n.add(o))}function da(t,e,n){var o=0;e&&(o|=4),Bm(n,t,o,e)}var fs="_reactListening"+Math.random().toString(36).slice(2);function mr(t){if(!t[fs]){t[fs]=!0,zp.forEach(function(n){n!=="selectionchange"&&(Fv.has(n)||da(n,!1,t),da(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fs]||(e[fs]=!0,da("selectionchange",!1,e))}}function Bm(t,e,n,o){switch(Sm(e)){case 1:var i=X_;break;case 4:i=Q_;break;default:i=ju}n=i.bind(null,e,n,t),i=void 0,!$a||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),o?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function fa(t,e,n,o,i){var r=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var s=o.tag;if(s===3||s===4){var c=o.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(s===4)for(s=o.return;s!==null;){var d=s.tag;if((d===3||d===4)&&(d=s.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;s=s.return}for(;c!==null;){if(s=oo(c),s===null)return;if(d=s.tag,d===5||d===6){o=r=s;continue e}c=c.parentNode}}o=o.return}lm(function(){var f=r,h=Yu(n),g=[];e:{var m=Fm.get(t);if(m!==void 0){var w=tc,k=t;switch(t){case"keypress":if(As(n)===0)break e;case"keydown":case"keyup":w=fv;break;case"focusin":k="focus",w=ra;break;case"focusout":k="blur",w=ra;break;case"beforeblur":case"afterblur":w=ra;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=ev;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=mv;break;case Mm:case Dm:case Lm:w=ov;break;case Um:w=yv;break;case"scroll":w=Z_;break;case"wheel":w=vv;break;case"copy":case"cut":case"paste":w=rv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Od}var R=(e&4)!==0,F=!R&&t==="scroll",A=R?m!==null?m+"Capture":null:m;R=[];for(var C=f,x;C!==null;){x=C;var D=x.stateNode;if(x.tag===5&&D!==null&&(x=D,A!==null&&(D=ur(C,A),D!=null&&R.push(gr(C,D,x)))),F)break;C=C.return}0<R.length&&(m=new w(m,k,null,n,h),g.push({event:m,listeners:R}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",m&&n!==ba&&(k=n.relatedTarget||n.fromElement)&&(oo(k)||k[rn]))break e;if((w||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,w?(k=n.relatedTarget||n.toElement,w=f,k=k?oo(k):null,k!==null&&(F=To(k),k!==F||k.tag!==5&&k.tag!==6)&&(k=null)):(w=null,k=f),w!==k)){if(R=qd,D="onMouseLeave",A="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(R=Od,D="onPointerLeave",A="onPointerEnter",C="pointer"),F=w==null?m:Lo(w),x=k==null?m:Lo(k),m=new R(D,C+"leave",w,n,h),m.target=F,m.relatedTarget=x,D=null,oo(h)===f&&(R=new R(A,C+"enter",k,n,h),R.target=x,R.relatedTarget=F,D=R),F=D,w&&k)t:{for(R=w,A=k,C=0,x=R;x;x=ko(x))C++;for(x=0,D=A;D;D=ko(D))x++;for(;0<C-x;)R=ko(R),C--;for(;0<x-C;)A=ko(A),x--;for(;C--;){if(R===A||A!==null&&R===A.alternate)break t;R=ko(R),A=ko(A)}R=null}else R=null;w!==null&&ef(g,m,w,R,!1),k!==null&&F!==null&&ef(g,F,k,R,!0)}}e:{if(m=f?Lo(f):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var B=Av;else if(Jd(m))if(xm)B=Pv;else{B=kv;var V=xv}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(B=Nv);if(B&&(B=B(t,f))){Am(g,B,n,h);break e}V&&V(t,m,f),t==="focusout"&&(V=m._wrapperState)&&V.controlled&&m.type==="number"&&Va(m,"number",m.value)}switch(V=f?Lo(f):window,t){case"focusin":(Jd(V)||V.contentEditable==="true")&&(Mo=V,Ya=f,Qi=null);break;case"focusout":Qi=Ya=Mo=null;break;case"mousedown":Xa=!0;break;case"contextmenu":case"mouseup":case"dragend":Xa=!1,Qd(g,n,h);break;case"selectionchange":if(Dv)break;case"keydown":case"keyup":Qd(g,n,h)}var E;if(oc)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ro?wm(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Em&&n.locale!=="ko"&&(Ro||v!=="onCompositionStart"?v==="onCompositionEnd"&&Ro&&(E=Cm()):(An=h,ec="value"in An?An.value:An.textContent,Ro=!0)),V=zs(f,v),0<V.length&&(v=new bd(v,t,null,n,h),g.push({event:v,listeners:V}),E?v.data=E:(E=Im(n),E!==null&&(v.data=E)))),(E=Sv?Cv(t,n):Ev(t,n))&&(f=zs(f,"onBeforeInput"),0<f.length&&(h=new bd("onBeforeInput","beforeinput",null,n,h),g.push({event:h,listeners:f}),h.data=E))}Vm(g,e)})}function gr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zs(t,e){for(var n=e+"Capture",o=[];t!==null;){var i=t,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=ur(t,n),r!=null&&o.unshift(gr(t,r,i)),r=ur(t,e),r!=null&&o.push(gr(t,r,i))),t=t.return}return o}function ko(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ef(t,e,n,o,i){for(var r=e._reactName,s=[];n!==null&&n!==o;){var c=n,d=c.alternate,f=c.stateNode;if(d!==null&&d===o)break;c.tag===5&&f!==null&&(c=f,i?(d=ur(n,r),d!=null&&s.unshift(gr(n,d,c))):i||(d=ur(n,r),d!=null&&s.push(gr(n,d,c)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Vv=/\r\n?/g,Bv=/\u0000|\uFFFD/g;function tf(t){return(typeof t=="string"?t:""+t).replace(Vv,`
`).replace(Bv,"")}function hs(t,e,n){if(e=tf(e),tf(t)!==e&&n)throw Error(G(425))}function Js(){}var Qa=null,Za=null;function ja(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var eu=typeof setTimeout=="function"?setTimeout:void 0,Gv=typeof clearTimeout=="function"?clearTimeout:void 0,nf=typeof Promise=="function"?Promise:void 0,Hv=typeof queueMicrotask=="function"?queueMicrotask:typeof nf<"u"?function(t){return nf.resolve(null).then(t).catch(qv)}:eu;function qv(t){setTimeout(function(){throw t})}function ha(t,e){var n=e,o=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(o===0){t.removeChild(i),fr(e);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=i}while(n);fr(e)}function Rn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function of(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ci=Math.random().toString(36).slice(2),Jt="__reactFiber$"+ci,yr="__reactProps$"+ci,rn="__reactContainer$"+ci,tu="__reactEvents$"+ci,bv="__reactListeners$"+ci,Ov="__reactHandles$"+ci;function oo(t){var e=t[Jt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rn]||n[Jt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=of(t);t!==null;){if(n=t[Jt])return n;t=of(t)}return e}t=n,n=t.parentNode}return null}function Pr(t){return t=t[Jt]||t[rn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Lo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function Sl(t){return t[yr]||null}var nu=[],Uo=-1;function bn(t){return{current:t}}function ve(t){0>Uo||(t.current=nu[Uo],nu[Uo]=null,Uo--)}function pe(t,e){Uo++,nu[Uo]=t.current,t.current=e}var Gn={},Ye=bn(Gn),lt=bn(!1),fo=Gn;function ti(t,e){var n=t.type.contextTypes;if(!n)return Gn;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in n)i[r]=e[r];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function at(t){return t=t.childContextTypes,t!=null}function Ws(){ve(lt),ve(Ye)}function rf(t,e,n){if(Ye.current!==Gn)throw Error(G(168));pe(Ye,e),pe(lt,n)}function Gm(t,e,n){var o=t.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var i in o)if(!(i in e))throw Error(G(108,x_(t)||"Unknown",i));return we({},n,o)}function Ks(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gn,fo=Ye.current,pe(Ye,t),pe(lt,lt.current),!0}function sf(t,e,n){var o=t.stateNode;if(!o)throw Error(G(169));n?(t=Gm(t,e,fo),o.__reactInternalMemoizedMergedChildContext=t,ve(lt),ve(Ye),pe(Ye,t)):ve(lt),pe(lt,n)}var Zt=null,Cl=!1,pa=!1;function Hm(t){Zt===null?Zt=[t]:Zt.push(t)}function $v(t){Cl=!0,Hm(t)}function On(){if(!pa&&Zt!==null){pa=!0;var t=0,e=ce;try{var n=Zt;for(ce=1;t<n.length;t++){var o=n[t];do o=o(!0);while(o!==null)}Zt=null,Cl=!1}catch(i){throw Zt!==null&&(Zt=Zt.slice(t+1)),dm(Xu,On),i}finally{ce=e,pa=!1}}return null}var Fo=[],Vo=0,Ys=null,Xs=0,_t=[],vt=0,ho=null,en=1,tn="";function jn(t,e){Fo[Vo++]=Xs,Fo[Vo++]=Ys,Ys=t,Xs=e}function qm(t,e,n){_t[vt++]=en,_t[vt++]=tn,_t[vt++]=ho,ho=t;var o=en;t=tn;var i=32-Dt(o)-1;o&=~(1<<i),n+=1;var r=32-Dt(e)+i;if(30<r){var s=i-i%5;r=(o&(1<<s)-1).toString(32),o>>=s,i-=s,en=1<<32-Dt(e)+i|n<<i|o,tn=r+t}else en=1<<r|n<<i|o,tn=t}function rc(t){t.return!==null&&(jn(t,1),qm(t,1,0))}function sc(t){for(;t===Ys;)Ys=Fo[--Vo],Fo[Vo]=null,Xs=Fo[--Vo],Fo[Vo]=null;for(;t===ho;)ho=_t[--vt],_t[vt]=null,tn=_t[--vt],_t[vt]=null,en=_t[--vt],_t[vt]=null}var ft=null,dt=null,Se=!1,Nt=null;function bm(t,e){var n=Tt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ft=t,dt=Rn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ft=t,dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ho!==null?{id:en,overflow:tn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Tt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ft=t,dt=null,!0):!1;default:return!1}}function ou(t){return(t.mode&1)!==0&&(t.flags&128)===0}function iu(t){if(Se){var e=dt;if(e){var n=e;if(!lf(t,e)){if(ou(t))throw Error(G(418));e=Rn(n.nextSibling);var o=ft;e&&lf(t,e)?bm(o,n):(t.flags=t.flags&-4097|2,Se=!1,ft=t)}}else{if(ou(t))throw Error(G(418));t.flags=t.flags&-4097|2,Se=!1,ft=t}}}function af(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ft=t}function ps(t){if(t!==ft)return!1;if(!Se)return af(t),Se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ja(t.type,t.memoizedProps)),e&&(e=dt)){if(ou(t))throw Om(),Error(G(418));for(;e;)bm(t,e),e=Rn(e.nextSibling)}if(af(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dt=Rn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dt=null}}else dt=ft?Rn(t.stateNode.nextSibling):null;return!0}function Om(){for(var t=dt;t;)t=Rn(t.nextSibling)}function ni(){dt=ft=null,Se=!1}function lc(t){Nt===null?Nt=[t]:Nt.push(t)}var zv=un.ReactCurrentBatchConfig;function Gi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var o=n.stateNode}if(!o)throw Error(G(147,t));var i=o,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(s){var c=i.refs;s===null?delete c[r]:c[r]=s},e._stringRef=r,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function ms(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function uf(t){var e=t._init;return e(t._payload)}function $m(t){function e(A,C){if(t){var x=A.deletions;x===null?(A.deletions=[C],A.flags|=16):x.push(C)}}function n(A,C){if(!t)return null;for(;C!==null;)e(A,C),C=C.sibling;return null}function o(A,C){for(A=new Map;C!==null;)C.key!==null?A.set(C.key,C):A.set(C.index,C),C=C.sibling;return A}function i(A,C){return A=Un(A,C),A.index=0,A.sibling=null,A}function r(A,C,x){return A.index=x,t?(x=A.alternate,x!==null?(x=x.index,x<C?(A.flags|=2,C):x):(A.flags|=2,C)):(A.flags|=1048576,C)}function s(A){return t&&A.alternate===null&&(A.flags|=2),A}function c(A,C,x,D){return C===null||C.tag!==6?(C=Sa(x,A.mode,D),C.return=A,C):(C=i(C,x),C.return=A,C)}function d(A,C,x,D){var B=x.type;return B===Po?h(A,C,x.props.children,D,x.key):C!==null&&(C.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Cn&&uf(B)===C.type)?(D=i(C,x.props),D.ref=Gi(A,C,x),D.return=A,D):(D=Ds(x.type,x.key,x.props,null,A.mode,D),D.ref=Gi(A,C,x),D.return=A,D)}function f(A,C,x,D){return C===null||C.tag!==4||C.stateNode.containerInfo!==x.containerInfo||C.stateNode.implementation!==x.implementation?(C=Ca(x,A.mode,D),C.return=A,C):(C=i(C,x.children||[]),C.return=A,C)}function h(A,C,x,D,B){return C===null||C.tag!==7?(C=ao(x,A.mode,D,B),C.return=A,C):(C=i(C,x),C.return=A,C)}function g(A,C,x){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Sa(""+C,A.mode,x),C.return=A,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case is:return x=Ds(C.type,C.key,C.props,null,A.mode,x),x.ref=Gi(A,null,C),x.return=A,x;case No:return C=Ca(C,A.mode,x),C.return=A,C;case Cn:var D=C._init;return g(A,D(C._payload),x)}if($i(C)||Li(C))return C=ao(C,A.mode,x,null),C.return=A,C;ms(A,C)}return null}function m(A,C,x,D){var B=C!==null?C.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return B!==null?null:c(A,C,""+x,D);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case is:return x.key===B?d(A,C,x,D):null;case No:return x.key===B?f(A,C,x,D):null;case Cn:return B=x._init,m(A,C,B(x._payload),D)}if($i(x)||Li(x))return B!==null?null:h(A,C,x,D,null);ms(A,x)}return null}function w(A,C,x,D,B){if(typeof D=="string"&&D!==""||typeof D=="number")return A=A.get(x)||null,c(C,A,""+D,B);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case is:return A=A.get(D.key===null?x:D.key)||null,d(C,A,D,B);case No:return A=A.get(D.key===null?x:D.key)||null,f(C,A,D,B);case Cn:var V=D._init;return w(A,C,x,V(D._payload),B)}if($i(D)||Li(D))return A=A.get(x)||null,h(C,A,D,B,null);ms(C,D)}return null}function k(A,C,x,D){for(var B=null,V=null,E=C,v=C=0,S=null;E!==null&&v<x.length;v++){E.index>v?(S=E,E=null):S=E.sibling;var I=m(A,E,x[v],D);if(I===null){E===null&&(E=S);break}t&&E&&I.alternate===null&&e(A,E),C=r(I,C,v),V===null?B=I:V.sibling=I,V=I,E=S}if(v===x.length)return n(A,E),Se&&jn(A,v),B;if(E===null){for(;v<x.length;v++)E=g(A,x[v],D),E!==null&&(C=r(E,C,v),V===null?B=E:V.sibling=E,V=E);return Se&&jn(A,v),B}for(E=o(A,E);v<x.length;v++)S=w(E,A,v,x[v],D),S!==null&&(t&&S.alternate!==null&&E.delete(S.key===null?v:S.key),C=r(S,C,v),V===null?B=S:V.sibling=S,V=S);return t&&E.forEach(function(P){return e(A,P)}),Se&&jn(A,v),B}function R(A,C,x,D){var B=Li(x);if(typeof B!="function")throw Error(G(150));if(x=B.call(x),x==null)throw Error(G(151));for(var V=B=null,E=C,v=C=0,S=null,I=x.next();E!==null&&!I.done;v++,I=x.next()){E.index>v?(S=E,E=null):S=E.sibling;var P=m(A,E,I.value,D);if(P===null){E===null&&(E=S);break}t&&E&&P.alternate===null&&e(A,E),C=r(P,C,v),V===null?B=P:V.sibling=P,V=P,E=S}if(I.done)return n(A,E),Se&&jn(A,v),B;if(E===null){for(;!I.done;v++,I=x.next())I=g(A,I.value,D),I!==null&&(C=r(I,C,v),V===null?B=I:V.sibling=I,V=I);return Se&&jn(A,v),B}for(E=o(A,E);!I.done;v++,I=x.next())I=w(E,A,v,I.value,D),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?v:I.key),C=r(I,C,v),V===null?B=I:V.sibling=I,V=I);return t&&E.forEach(function(M){return e(A,M)}),Se&&jn(A,v),B}function F(A,C,x,D){if(typeof x=="object"&&x!==null&&x.type===Po&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case is:e:{for(var B=x.key,V=C;V!==null;){if(V.key===B){if(B=x.type,B===Po){if(V.tag===7){n(A,V.sibling),C=i(V,x.props.children),C.return=A,A=C;break e}}else if(V.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Cn&&uf(B)===V.type){n(A,V.sibling),C=i(V,x.props),C.ref=Gi(A,V,x),C.return=A,A=C;break e}n(A,V);break}else e(A,V);V=V.sibling}x.type===Po?(C=ao(x.props.children,A.mode,D,x.key),C.return=A,A=C):(D=Ds(x.type,x.key,x.props,null,A.mode,D),D.ref=Gi(A,C,x),D.return=A,A=D)}return s(A);case No:e:{for(V=x.key;C!==null;){if(C.key===V)if(C.tag===4&&C.stateNode.containerInfo===x.containerInfo&&C.stateNode.implementation===x.implementation){n(A,C.sibling),C=i(C,x.children||[]),C.return=A,A=C;break e}else{n(A,C);break}else e(A,C);C=C.sibling}C=Ca(x,A.mode,D),C.return=A,A=C}return s(A);case Cn:return V=x._init,F(A,C,V(x._payload),D)}if($i(x))return k(A,C,x,D);if(Li(x))return R(A,C,x,D);ms(A,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,C!==null&&C.tag===6?(n(A,C.sibling),C=i(C,x),C.return=A,A=C):(n(A,C),C=Sa(x,A.mode,D),C.return=A,A=C),s(A)):n(A,C)}return F}var oi=$m(!0),zm=$m(!1),Qs=bn(null),Zs=null,Bo=null,ac=null;function uc(){ac=Bo=Zs=null}function cc(t){var e=Qs.current;ve(Qs),t._currentValue=e}function ru(t,e,n){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===n)break;t=t.return}}function Jo(t,e){Zs=t,ac=Bo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(st=!0),t.firstContext=null)}function Et(t){var e=t._currentValue;if(ac!==t)if(t={context:t,memoizedValue:e,next:null},Bo===null){if(Zs===null)throw Error(G(308));Bo=t,Zs.dependencies={lanes:0,firstContext:t}}else Bo=Bo.next=t;return e}var io=null;function dc(t){io===null?io=[t]:io.push(t)}function Jm(t,e,n,o){var i=e.interleaved;return i===null?(n.next=n,dc(e)):(n.next=i.next,i.next=n),e.interleaved=n,sn(t,o)}function sn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var En=!1;function fc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function nn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mn(t,e,n){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,le&2){var i=o.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),o.pending=e,sn(t,n)}return i=o.interleaved,i===null?(e.next=e,dc(o)):(e.next=i.next,i.next=e),o.interleaved=e,sn(t,n)}function xs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,Qu(t,n)}}function cf(t,e){var n=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?i=r=s:r=r.next=s,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:o.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:o.shared,effects:o.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function js(t,e,n,o){var i=t.updateQueue;En=!1;var r=i.firstBaseUpdate,s=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var d=c,f=d.next;d.next=null,s===null?r=f:s.next=f,s=d;var h=t.alternate;h!==null&&(h=h.updateQueue,c=h.lastBaseUpdate,c!==s&&(c===null?h.firstBaseUpdate=f:c.next=f,h.lastBaseUpdate=d))}if(r!==null){var g=i.baseState;s=0,h=f=d=null,c=r;do{var m=c.lane,w=c.eventTime;if((o&m)===m){h!==null&&(h=h.next={eventTime:w,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var k=t,R=c;switch(m=e,w=n,R.tag){case 1:if(k=R.payload,typeof k=="function"){g=k.call(w,g,m);break e}g=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=R.payload,m=typeof k=="function"?k.call(w,g,m):k,m==null)break e;g=we({},g,m);break e;case 2:En=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[c]:m.push(c))}else w={eventTime:w,lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},h===null?(f=h=w,d=g):h=h.next=w,s|=m;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;m=c,c=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(d=g),i.baseState=d,i.firstBaseUpdate=f,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);mo|=s,t.lanes=s,t.memoizedState=g}}function df(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var o=t[e],i=o.callback;if(i!==null){if(o.callback=null,o=n,typeof i!="function")throw Error(G(191,i));i.call(o)}}}var Rr={},Yt=bn(Rr),_r=bn(Rr),vr=bn(Rr);function ro(t){if(t===Rr)throw Error(G(174));return t}function hc(t,e){switch(pe(vr,e),pe(_r,t),pe(Yt,Rr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ga(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ga(e,t)}ve(Yt),pe(Yt,e)}function ii(){ve(Yt),ve(_r),ve(vr)}function Km(t){ro(vr.current);var e=ro(Yt.current),n=Ga(e,t.type);e!==n&&(pe(_r,t),pe(Yt,n))}function pc(t){_r.current===t&&(ve(Yt),ve(_r))}var Ce=bn(0);function el(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ma=[];function mc(){for(var t=0;t<ma.length;t++)ma[t]._workInProgressVersionPrimary=null;ma.length=0}var ks=un.ReactCurrentDispatcher,ga=un.ReactCurrentBatchConfig,po=0,Ee=null,Le=null,Ge=null,tl=!1,Zi=!1,Tr=0,Jv=0;function ze(){throw Error(G(321))}function gc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ut(t[n],e[n]))return!1;return!0}function yc(t,e,n,o,i,r){if(po=r,Ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ks.current=t===null||t.memoizedState===null?Xv:Qv,t=n(o,i),Zi){r=0;do{if(Zi=!1,Tr=0,25<=r)throw Error(G(301));r+=1,Ge=Le=null,e.updateQueue=null,ks.current=Zv,t=n(o,i)}while(Zi)}if(ks.current=nl,e=Le!==null&&Le.next!==null,po=0,Ge=Le=Ee=null,tl=!1,e)throw Error(G(300));return t}function _c(){var t=Tr!==0;return Tr=0,t}function Ot(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Ee.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function wt(){if(Le===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var e=Ge===null?Ee.memoizedState:Ge.next;if(e!==null)Ge=e,Le=t;else{if(t===null)throw Error(G(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Ge===null?Ee.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function Sr(t,e){return typeof e=="function"?e(t):e}function ya(t){var e=wt(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var o=Le,i=o.baseQueue,r=n.pending;if(r!==null){if(i!==null){var s=i.next;i.next=r.next,r.next=s}o.baseQueue=i=r,n.pending=null}if(i!==null){r=i.next,o=o.baseState;var c=s=null,d=null,f=r;do{var h=f.lane;if((po&h)===h)d!==null&&(d=d.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),o=f.hasEagerState?f.eagerState:t(o,f.action);else{var g={lane:h,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};d===null?(c=d=g,s=o):d=d.next=g,Ee.lanes|=h,mo|=h}f=f.next}while(f!==null&&f!==r);d===null?s=o:d.next=c,Ut(o,e.memoizedState)||(st=!0),e.memoizedState=o,e.baseState=s,e.baseQueue=d,n.lastRenderedState=o}if(t=n.interleaved,t!==null){i=t;do r=i.lane,Ee.lanes|=r,mo|=r,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _a(t){var e=wt(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var o=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do r=t(r,s.action),s=s.next;while(s!==i);Ut(r,e.memoizedState)||(st=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,o]}function Ym(){}function Xm(t,e){var n=Ee,o=wt(),i=e(),r=!Ut(o.memoizedState,i);if(r&&(o.memoizedState=i,st=!0),o=o.queue,vc(jm.bind(null,n,o,t),[t]),o.getSnapshot!==e||r||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,Cr(9,Zm.bind(null,n,o,i,e),void 0,null),He===null)throw Error(G(349));po&30||Qm(n,e,i)}return i}function Qm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Zm(t,e,n,o){e.value=n,e.getSnapshot=o,eg(e)&&tg(t)}function jm(t,e,n){return n(function(){eg(e)&&tg(t)})}function eg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ut(t,n)}catch{return!0}}function tg(t){var e=sn(t,1);e!==null&&Lt(e,t,1,-1)}function ff(t){var e=Ot();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:t},e.queue=t,t=t.dispatch=Yv.bind(null,Ee,t),[e.memoizedState,t]}function Cr(t,e,n,o){return t={tag:t,create:e,destroy:n,deps:o,next:null},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(o=n.next,n.next=t,t.next=o,e.lastEffect=t)),t}function ng(){return wt().memoizedState}function Ns(t,e,n,o){var i=Ot();Ee.flags|=t,i.memoizedState=Cr(1|e,n,void 0,o===void 0?null:o)}function El(t,e,n,o){var i=wt();o=o===void 0?null:o;var r=void 0;if(Le!==null){var s=Le.memoizedState;if(r=s.destroy,o!==null&&gc(o,s.deps)){i.memoizedState=Cr(e,n,r,o);return}}Ee.flags|=t,i.memoizedState=Cr(1|e,n,r,o)}function hf(t,e){return Ns(8390656,8,t,e)}function vc(t,e){return El(2048,8,t,e)}function og(t,e){return El(4,2,t,e)}function ig(t,e){return El(4,4,t,e)}function rg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sg(t,e,n){return n=n!=null?n.concat([t]):null,El(4,4,rg.bind(null,e,t),n)}function Tc(){}function lg(t,e){var n=wt();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&gc(e,o[1])?o[0]:(n.memoizedState=[t,e],t)}function ag(t,e){var n=wt();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&gc(e,o[1])?o[0]:(t=t(),n.memoizedState=[t,e],t)}function ug(t,e,n){return po&21?(Ut(n,e)||(n=pm(),Ee.lanes|=n,mo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,st=!0),t.memoizedState=n)}function Wv(t,e){var n=ce;ce=n!==0&&4>n?n:4,t(!0);var o=ga.transition;ga.transition={};try{t(!1),e()}finally{ce=n,ga.transition=o}}function cg(){return wt().memoizedState}function Kv(t,e,n){var o=Ln(t);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},dg(t))fg(e,n);else if(n=Jm(t,e,n,o),n!==null){var i=je();Lt(n,t,o,i),hg(n,e,o)}}function Yv(t,e,n){var o=Ln(t),i={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(dg(t))fg(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var s=e.lastRenderedState,c=r(s,n);if(i.hasEagerState=!0,i.eagerState=c,Ut(c,s)){var d=e.interleaved;d===null?(i.next=i,dc(e)):(i.next=d.next,d.next=i),e.interleaved=i;return}}catch{}finally{}n=Jm(t,e,i,o),n!==null&&(i=je(),Lt(n,t,o,i),hg(n,e,o))}}function dg(t){var e=t.alternate;return t===Ee||e!==null&&e===Ee}function fg(t,e){Zi=tl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hg(t,e,n){if(n&4194240){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,Qu(t,n)}}var nl={readContext:Et,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},Xv={readContext:Et,useCallback:function(t,e){return Ot().memoizedState=[t,e===void 0?null:e],t},useContext:Et,useEffect:hf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ns(4194308,4,rg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ns(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ns(4,2,t,e)},useMemo:function(t,e){var n=Ot();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var o=Ot();return e=n!==void 0?n(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=Kv.bind(null,Ee,t),[o.memoizedState,t]},useRef:function(t){var e=Ot();return t={current:t},e.memoizedState=t},useState:ff,useDebugValue:Tc,useDeferredValue:function(t){return Ot().memoizedState=t},useTransition:function(){var t=ff(!1),e=t[0];return t=Wv.bind(null,t[1]),Ot().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var o=Ee,i=Ot();if(Se){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),He===null)throw Error(G(349));po&30||Qm(o,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,hf(jm.bind(null,o,r,t),[t]),o.flags|=2048,Cr(9,Zm.bind(null,o,r,n,e),void 0,null),n},useId:function(){var t=Ot(),e=He.identifierPrefix;if(Se){var n=tn,o=en;n=(o&~(1<<32-Dt(o)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Jv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Qv={readContext:Et,useCallback:lg,useContext:Et,useEffect:vc,useImperativeHandle:sg,useInsertionEffect:og,useLayoutEffect:ig,useMemo:ag,useReducer:ya,useRef:ng,useState:function(){return ya(Sr)},useDebugValue:Tc,useDeferredValue:function(t){var e=wt();return ug(e,Le.memoizedState,t)},useTransition:function(){var t=ya(Sr)[0],e=wt().memoizedState;return[t,e]},useMutableSource:Ym,useSyncExternalStore:Xm,useId:cg,unstable_isNewReconciler:!1},Zv={readContext:Et,useCallback:lg,useContext:Et,useEffect:vc,useImperativeHandle:sg,useInsertionEffect:og,useLayoutEffect:ig,useMemo:ag,useReducer:_a,useRef:ng,useState:function(){return _a(Sr)},useDebugValue:Tc,useDeferredValue:function(t){var e=wt();return Le===null?e.memoizedState=t:ug(e,Le.memoizedState,t)},useTransition:function(){var t=_a(Sr)[0],e=wt().memoizedState;return[t,e]},useMutableSource:Ym,useSyncExternalStore:Xm,useId:cg,unstable_isNewReconciler:!1};function xt(t,e){if(t&&t.defaultProps){e=we({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function su(t,e,n,o){e=t.memoizedState,n=n(o,e),n=n==null?e:we({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wl={isMounted:function(t){return(t=t._reactInternals)?To(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var o=je(),i=Ln(t),r=nn(o,i);r.payload=e,n!=null&&(r.callback=n),e=Mn(t,r,i),e!==null&&(Lt(e,t,i,o),xs(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var o=je(),i=Ln(t),r=nn(o,i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Mn(t,r,i),e!==null&&(Lt(e,t,i,o),xs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=je(),o=Ln(t),i=nn(n,o);i.tag=2,e!=null&&(i.callback=e),e=Mn(t,i,o),e!==null&&(Lt(e,t,o,n),xs(e,t,o))}};function pf(t,e,n,o,i,r,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,r,s):e.prototype&&e.prototype.isPureReactComponent?!pr(n,o)||!pr(i,r):!0}function pg(t,e,n){var o=!1,i=Gn,r=e.contextType;return typeof r=="object"&&r!==null?r=Et(r):(i=at(e)?fo:Ye.current,o=e.contextTypes,r=(o=o!=null)?ti(t,i):Gn),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wl,t.stateNode=e,e._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function mf(t,e,n,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,o),e.state!==t&&wl.enqueueReplaceState(e,e.state,null)}function lu(t,e,n,o){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},fc(t);var r=e.contextType;typeof r=="object"&&r!==null?i.context=Et(r):(r=at(e)?fo:Ye.current,i.context=ti(t,r)),i.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(su(t,e,r,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&wl.enqueueReplaceState(i,i.state,null),js(t,n,i,o),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ri(t,e){try{var n="",o=e;do n+=A_(o),o=o.return;while(o);var i=n}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:i,digest:null}}function va(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function au(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jv=typeof WeakMap=="function"?WeakMap:Map;function mg(t,e,n){n=nn(-1,n),n.tag=3,n.payload={element:null};var o=e.value;return n.callback=function(){il||(il=!0,_u=o),au(t,e)},n}function gg(t,e,n){n=nn(-1,n),n.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var i=e.value;n.payload=function(){return o(i)},n.callback=function(){au(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){au(t,e),typeof o!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function gf(t,e,n){var o=t.pingCache;if(o===null){o=t.pingCache=new jv;var i=new Set;o.set(e,i)}else i=o.get(e),i===void 0&&(i=new Set,o.set(e,i));i.has(n)||(i.add(n),t=h0.bind(null,t,e,n),e.then(t,t))}function yf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _f(t,e,n,o,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=nn(-1,1),e.tag=2,Mn(n,e,1))),n.lanes|=1),t)}var e0=un.ReactCurrentOwner,st=!1;function Qe(t,e,n,o){e.child=t===null?zm(e,null,n,o):oi(e,t.child,n,o)}function vf(t,e,n,o,i){n=n.render;var r=e.ref;return Jo(e,i),o=yc(t,e,n,o,r,i),n=_c(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ln(t,e,i)):(Se&&n&&rc(e),e.flags|=1,Qe(t,e,o,i),e.child)}function Tf(t,e,n,o,i){if(t===null){var r=n.type;return typeof r=="function"&&!kc(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,yg(t,e,r,o,i)):(t=Ds(n.type,null,o,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&i)){var s=r.memoizedProps;if(n=n.compare,n=n!==null?n:pr,n(s,o)&&t.ref===e.ref)return ln(t,e,i)}return e.flags|=1,t=Un(r,o),t.ref=e.ref,t.return=e,e.child=t}function yg(t,e,n,o,i){if(t!==null){var r=t.memoizedProps;if(pr(r,o)&&t.ref===e.ref)if(st=!1,e.pendingProps=o=r,(t.lanes&i)!==0)t.flags&131072&&(st=!0);else return e.lanes=t.lanes,ln(t,e,i)}return uu(t,e,n,o,i)}function _g(t,e,n){var o=e.pendingProps,i=o.children,r=t!==null?t.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Ho,ct),ct|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pe(Ho,ct),ct|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=r!==null?r.baseLanes:n,pe(Ho,ct),ct|=o}else r!==null?(o=r.baseLanes|n,e.memoizedState=null):o=n,pe(Ho,ct),ct|=o;return Qe(t,e,i,n),e.child}function vg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function uu(t,e,n,o,i){var r=at(n)?fo:Ye.current;return r=ti(e,r),Jo(e,i),n=yc(t,e,n,o,r,i),o=_c(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ln(t,e,i)):(Se&&o&&rc(e),e.flags|=1,Qe(t,e,n,i),e.child)}function Sf(t,e,n,o,i){if(at(n)){var r=!0;Ks(e)}else r=!1;if(Jo(e,i),e.stateNode===null)Ps(t,e),pg(e,n,o),lu(e,n,o,i),o=!0;else if(t===null){var s=e.stateNode,c=e.memoizedProps;s.props=c;var d=s.context,f=n.contextType;typeof f=="object"&&f!==null?f=Et(f):(f=at(n)?fo:Ye.current,f=ti(e,f));var h=n.getDerivedStateFromProps,g=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";g||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==o||d!==f)&&mf(e,s,o,f),En=!1;var m=e.memoizedState;s.state=m,js(e,o,s,i),d=e.memoizedState,c!==o||m!==d||lt.current||En?(typeof h=="function"&&(su(e,n,h,o),d=e.memoizedState),(c=En||pf(e,n,c,o,m,d,f))?(g||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=d),s.props=o,s.state=d,s.context=f,o=c):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{s=e.stateNode,Wm(t,e),c=e.memoizedProps,f=e.type===e.elementType?c:xt(e.type,c),s.props=f,g=e.pendingProps,m=s.context,d=n.contextType,typeof d=="object"&&d!==null?d=Et(d):(d=at(n)?fo:Ye.current,d=ti(e,d));var w=n.getDerivedStateFromProps;(h=typeof w=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==g||m!==d)&&mf(e,s,o,d),En=!1,m=e.memoizedState,s.state=m,js(e,o,s,i);var k=e.memoizedState;c!==g||m!==k||lt.current||En?(typeof w=="function"&&(su(e,n,w,o),k=e.memoizedState),(f=En||pf(e,n,f,o,m,k,d)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(o,k,d),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(o,k,d)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=k),s.props=o,s.state=k,s.context=d,o=f):(typeof s.componentDidUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),o=!1)}return cu(t,e,n,o,r,i)}function cu(t,e,n,o,i,r){vg(t,e);var s=(e.flags&128)!==0;if(!o&&!s)return i&&sf(e,n,!1),ln(t,e,r);o=e.stateNode,e0.current=e;var c=s&&typeof n.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,t!==null&&s?(e.child=oi(e,t.child,null,r),e.child=oi(e,null,c,r)):Qe(t,e,c,r),e.memoizedState=o.state,i&&sf(e,n,!0),e.child}function Tg(t){var e=t.stateNode;e.pendingContext?rf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&rf(t,e.context,!1),hc(t,e.containerInfo)}function Cf(t,e,n,o,i){return ni(),lc(i),e.flags|=256,Qe(t,e,n,o),e.child}var du={dehydrated:null,treeContext:null,retryLane:0};function fu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Sg(t,e,n){var o=e.pendingProps,i=Ce.current,r=!1,s=(e.flags&128)!==0,c;if((c=s)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pe(Ce,i&1),t===null)return iu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=o.children,t=o.fallback,r?(o=e.mode,r=e.child,s={mode:"hidden",children:s},!(o&1)&&r!==null?(r.childLanes=0,r.pendingProps=s):r=xl(s,o,0,null),t=ao(t,o,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=fu(n),e.memoizedState=du,t):Sc(e,s));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return t0(t,e,s,o,c,i,n);if(r){r=o.fallback,s=e.mode,i=t.child,c=i.sibling;var d={mode:"hidden",children:o.children};return!(s&1)&&e.child!==i?(o=e.child,o.childLanes=0,o.pendingProps=d,e.deletions=null):(o=Un(i,d),o.subtreeFlags=i.subtreeFlags&14680064),c!==null?r=Un(c,r):(r=ao(r,s,n,null),r.flags|=2),r.return=e,o.return=e,o.sibling=r,e.child=o,o=r,r=e.child,s=t.child.memoizedState,s=s===null?fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},r.memoizedState=s,r.childLanes=t.childLanes&~n,e.memoizedState=du,o}return r=t.child,t=r.sibling,o=Un(r,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=n),o.return=e,o.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=o,e.memoizedState=null,o}function Sc(t,e){return e=xl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gs(t,e,n,o){return o!==null&&lc(o),oi(e,t.child,null,n),t=Sc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function t0(t,e,n,o,i,r,s){if(n)return e.flags&256?(e.flags&=-257,o=va(Error(G(422))),gs(t,e,s,o)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=o.fallback,i=e.mode,o=xl({mode:"visible",children:o.children},i,0,null),r=ao(r,i,s,null),r.flags|=2,o.return=e,r.return=e,o.sibling=r,e.child=o,e.mode&1&&oi(e,t.child,null,s),e.child.memoizedState=fu(s),e.memoizedState=du,r);if(!(e.mode&1))return gs(t,e,s,null);if(i.data==="$!"){if(o=i.nextSibling&&i.nextSibling.dataset,o)var c=o.dgst;return o=c,r=Error(G(419)),o=va(r,o,void 0),gs(t,e,s,o)}if(c=(s&t.childLanes)!==0,st||c){if(o=He,o!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(o.suspendedLanes|s)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,sn(t,i),Lt(o,t,i,-1))}return xc(),o=va(Error(G(421))),gs(t,e,s,o)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=p0.bind(null,t),i._reactRetry=e,null):(t=r.treeContext,dt=Rn(i.nextSibling),ft=e,Se=!0,Nt=null,t!==null&&(_t[vt++]=en,_t[vt++]=tn,_t[vt++]=ho,en=t.id,tn=t.overflow,ho=e),e=Sc(e,o.children),e.flags|=4096,e)}function Ef(t,e,n){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),ru(t.return,e,n)}function Ta(t,e,n,o,i){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=o,r.tail=n,r.tailMode=i)}function Cg(t,e,n){var o=e.pendingProps,i=o.revealOrder,r=o.tail;if(Qe(t,e,o.children,n),o=Ce.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ef(t,n,e);else if(t.tag===19)Ef(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(pe(Ce,o),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&el(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ta(e,!1,i,n,r);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&el(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ta(e,!0,n,null,r);break;case"together":Ta(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ps(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ln(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=Un(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Un(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function n0(t,e,n){switch(e.tag){case 3:Tg(e),ni();break;case 5:Km(e);break;case 1:at(e.type)&&Ks(e);break;case 4:hc(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,i=e.memoizedProps.value;pe(Qs,o._currentValue),o._currentValue=i;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(pe(Ce,Ce.current&1),e.flags|=128,null):n&e.child.childLanes?Sg(t,e,n):(pe(Ce,Ce.current&1),t=ln(t,e,n),t!==null?t.sibling:null);pe(Ce,Ce.current&1);break;case 19:if(o=(n&e.childLanes)!==0,t.flags&128){if(o)return Cg(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pe(Ce,Ce.current),o)break;return null;case 22:case 23:return e.lanes=0,_g(t,e,n)}return ln(t,e,n)}var Eg,hu,wg,Ig;Eg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hu=function(){};wg=function(t,e,n,o){var i=t.memoizedProps;if(i!==o){t=e.stateNode,ro(Yt.current);var r=null;switch(n){case"input":i=Ua(t,i),o=Ua(t,o),r=[];break;case"select":i=we({},i,{value:void 0}),o=we({},o,{value:void 0}),r=[];break;case"textarea":i=Ba(t,i),o=Ba(t,o),r=[];break;default:typeof i.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=Js)}Ha(n,o);var s;n=null;for(f in i)if(!o.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var c=i[f];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(lr.hasOwnProperty(f)?r||(r=[]):(r=r||[]).push(f,null));for(f in o){var d=o[f];if(c=i!=null?i[f]:void 0,o.hasOwnProperty(f)&&d!==c&&(d!=null||c!=null))if(f==="style")if(c){for(s in c)!c.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in d)d.hasOwnProperty(s)&&c[s]!==d[s]&&(n||(n={}),n[s]=d[s])}else n||(r||(r=[]),r.push(f,n)),n=d;else f==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(r=r||[]).push(f,d)):f==="children"?typeof d!="string"&&typeof d!="number"||(r=r||[]).push(f,""+d):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(lr.hasOwnProperty(f)?(d!=null&&f==="onScroll"&&ye("scroll",t),r||c===d||(r=[])):(r=r||[]).push(f,d))}n&&(r=r||[]).push("style",n);var f=r;(e.updateQueue=f)&&(e.flags|=4)}};Ig=function(t,e,n,o){n!==o&&(e.flags|=4)};function Hi(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Je(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,o=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,o|=i.subtreeFlags&14680064,o|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,o|=i.subtreeFlags,o|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=o,t.childLanes=n,e}function o0(t,e,n){var o=e.pendingProps;switch(sc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(e),null;case 1:return at(e.type)&&Ws(),Je(e),null;case 3:return o=e.stateNode,ii(),ve(lt),ve(Ye),mc(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(ps(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nt!==null&&(Su(Nt),Nt=null))),hu(t,e),Je(e),null;case 5:pc(e);var i=ro(vr.current);if(n=e.type,t!==null&&e.stateNode!=null)wg(t,e,n,o,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(G(166));return Je(e),null}if(t=ro(Yt.current),ps(e)){o=e.stateNode,n=e.type;var r=e.memoizedProps;switch(o[Jt]=e,o[yr]=r,t=(e.mode&1)!==0,n){case"dialog":ye("cancel",o),ye("close",o);break;case"iframe":case"object":case"embed":ye("load",o);break;case"video":case"audio":for(i=0;i<Ji.length;i++)ye(Ji[i],o);break;case"source":ye("error",o);break;case"img":case"image":case"link":ye("error",o),ye("load",o);break;case"details":ye("toggle",o);break;case"input":Rd(o,r),ye("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!r.multiple},ye("invalid",o);break;case"textarea":Dd(o,r),ye("invalid",o)}Ha(n,r),i=null;for(var s in r)if(r.hasOwnProperty(s)){var c=r[s];s==="children"?typeof c=="string"?o.textContent!==c&&(r.suppressHydrationWarning!==!0&&hs(o.textContent,c,t),i=["children",c]):typeof c=="number"&&o.textContent!==""+c&&(r.suppressHydrationWarning!==!0&&hs(o.textContent,c,t),i=["children",""+c]):lr.hasOwnProperty(s)&&c!=null&&s==="onScroll"&&ye("scroll",o)}switch(n){case"input":rs(o),Md(o,r,!0);break;case"textarea":rs(o),Ld(o);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(o.onclick=Js)}o=i,e.updateQueue=o,o!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=s.createElement(n,{is:o.is}):(t=s.createElement(n),n==="select"&&(s=t,o.multiple?s.multiple=!0:o.size&&(s.size=o.size))):t=s.createElementNS(t,n),t[Jt]=e,t[yr]=o,Eg(t,e,!1,!1),e.stateNode=t;e:{switch(s=qa(n,o),n){case"dialog":ye("cancel",t),ye("close",t),i=o;break;case"iframe":case"object":case"embed":ye("load",t),i=o;break;case"video":case"audio":for(i=0;i<Ji.length;i++)ye(Ji[i],t);i=o;break;case"source":ye("error",t),i=o;break;case"img":case"image":case"link":ye("error",t),ye("load",t),i=o;break;case"details":ye("toggle",t),i=o;break;case"input":Rd(t,o),i=Ua(t,o),ye("invalid",t);break;case"option":i=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},i=we({},o,{value:void 0}),ye("invalid",t);break;case"textarea":Dd(t,o),i=Ba(t,o),ye("invalid",t);break;default:i=o}Ha(n,i),c=i;for(r in c)if(c.hasOwnProperty(r)){var d=c[r];r==="style"?nm(t,d):r==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&em(t,d)):r==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&ar(t,d):typeof d=="number"&&ar(t,""+d):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(lr.hasOwnProperty(r)?d!=null&&r==="onScroll"&&ye("scroll",t):d!=null&&zu(t,r,d,s))}switch(n){case"input":rs(t),Md(t,o,!1);break;case"textarea":rs(t),Ld(t);break;case"option":o.value!=null&&t.setAttribute("value",""+Bn(o.value));break;case"select":t.multiple=!!o.multiple,r=o.value,r!=null?bo(t,!!o.multiple,r,!1):o.defaultValue!=null&&bo(t,!!o.multiple,o.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Js)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Je(e),null;case 6:if(t&&e.stateNode!=null)Ig(t,e,t.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(G(166));if(n=ro(vr.current),ro(Yt.current),ps(e)){if(o=e.stateNode,n=e.memoizedProps,o[Jt]=e,(r=o.nodeValue!==n)&&(t=ft,t!==null))switch(t.tag){case 3:hs(o.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hs(o.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[Jt]=e,e.stateNode=o}return Je(e),null;case 13:if(ve(Ce),o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Se&&dt!==null&&e.mode&1&&!(e.flags&128))Om(),ni(),e.flags|=98560,r=!1;else if(r=ps(e),o!==null&&o.dehydrated!==null){if(t===null){if(!r)throw Error(G(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(G(317));r[Jt]=e}else ni(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Je(e),r=!1}else Nt!==null&&(Su(Nt),Nt=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(t===null||Ce.current&1?Ue===0&&(Ue=3):xc())),e.updateQueue!==null&&(e.flags|=4),Je(e),null);case 4:return ii(),hu(t,e),t===null&&mr(e.stateNode.containerInfo),Je(e),null;case 10:return cc(e.type._context),Je(e),null;case 17:return at(e.type)&&Ws(),Je(e),null;case 19:if(ve(Ce),r=e.memoizedState,r===null)return Je(e),null;if(o=(e.flags&128)!==0,s=r.rendering,s===null)if(o)Hi(r,!1);else{if(Ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=el(t),s!==null){for(e.flags|=128,Hi(r,!1),o=s.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=n,n=e.child;n!==null;)r=n,t=o,r.flags&=14680066,s=r.alternate,s===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,r.type=s.type,t=s.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pe(Ce,Ce.current&1|2),e.child}t=t.sibling}r.tail!==null&&ke()>si&&(e.flags|=128,o=!0,Hi(r,!1),e.lanes=4194304)}else{if(!o)if(t=el(s),t!==null){if(e.flags|=128,o=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hi(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!Se)return Je(e),null}else 2*ke()-r.renderingStartTime>si&&n!==1073741824&&(e.flags|=128,o=!0,Hi(r,!1),e.lanes=4194304);r.isBackwards?(s.sibling=e.child,e.child=s):(n=r.last,n!==null?n.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ke(),e.sibling=null,n=Ce.current,pe(Ce,o?n&1|2:n&1),e):(Je(e),null);case 22:case 23:return Ac(),o=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?ct&1073741824&&(Je(e),e.subtreeFlags&6&&(e.flags|=8192)):Je(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function i0(t,e){switch(sc(e),e.tag){case 1:return at(e.type)&&Ws(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ii(),ve(lt),ve(Ye),mc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return pc(e),null;case 13:if(ve(Ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));ni()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ve(Ce),null;case 4:return ii(),null;case 10:return cc(e.type._context),null;case 22:case 23:return Ac(),null;case 24:return null;default:return null}}var ys=!1,We=!1,r0=typeof WeakSet=="function"?WeakSet:Set,$=null;function Go(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){Ie(t,e,o)}else n.current=null}function pu(t,e,n){try{n()}catch(o){Ie(t,e,o)}}var wf=!1;function s0(t,e){if(Qa=Os,t=Pm(),ic(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var i=o.anchorOffset,r=o.focusNode;o=o.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var s=0,c=-1,d=-1,f=0,h=0,g=t,m=null;t:for(;;){for(var w;g!==n||i!==0&&g.nodeType!==3||(c=s+i),g!==r||o!==0&&g.nodeType!==3||(d=s+o),g.nodeType===3&&(s+=g.nodeValue.length),(w=g.firstChild)!==null;)m=g,g=w;for(;;){if(g===t)break t;if(m===n&&++f===i&&(c=s),m===r&&++h===o&&(d=s),(w=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=w}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Za={focusedElem:t,selectionRange:n},Os=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var R=k.memoizedProps,F=k.memoizedState,A=e.stateNode,C=A.getSnapshotBeforeUpdate(e.elementType===e.type?R:xt(e.type,R),F);A.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(D){Ie(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return k=wf,wf=!1,k}function ji(t,e,n){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var i=o=o.next;do{if((i.tag&t)===t){var r=i.destroy;i.destroy=void 0,r!==void 0&&pu(e,n,r)}i=i.next}while(i!==o)}}function Il(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var o=n.create;n.destroy=o()}n=n.next}while(n!==e)}}function mu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ag(t){var e=t.alternate;e!==null&&(t.alternate=null,Ag(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jt],delete e[yr],delete e[tu],delete e[bv],delete e[Ov])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xg(t){return t.tag===5||t.tag===3||t.tag===4}function If(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gu(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Js));else if(o!==4&&(t=t.child,t!==null))for(gu(t,e,n),t=t.sibling;t!==null;)gu(t,e,n),t=t.sibling}function yu(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(yu(t,e,n),t=t.sibling;t!==null;)yu(t,e,n),t=t.sibling}var qe=null,kt=!1;function Sn(t,e,n){for(n=n.child;n!==null;)kg(t,e,n),n=n.sibling}function kg(t,e,n){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(yl,n)}catch{}switch(n.tag){case 5:We||Go(n,e);case 6:var o=qe,i=kt;qe=null,Sn(t,e,n),qe=o,kt=i,qe!==null&&(kt?(t=qe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(kt?(t=qe,n=n.stateNode,t.nodeType===8?ha(t.parentNode,n):t.nodeType===1&&ha(t,n),fr(t)):ha(qe,n.stateNode));break;case 4:o=qe,i=kt,qe=n.stateNode.containerInfo,kt=!0,Sn(t,e,n),qe=o,kt=i;break;case 0:case 11:case 14:case 15:if(!We&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){i=o=o.next;do{var r=i,s=r.destroy;r=r.tag,s!==void 0&&(r&2||r&4)&&pu(n,e,s),i=i.next}while(i!==o)}Sn(t,e,n);break;case 1:if(!We&&(Go(n,e),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(c){Ie(n,e,c)}Sn(t,e,n);break;case 21:Sn(t,e,n);break;case 22:n.mode&1?(We=(o=We)||n.memoizedState!==null,Sn(t,e,n),We=o):Sn(t,e,n);break;default:Sn(t,e,n)}}function Af(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new r0),e.forEach(function(o){var i=m0.bind(null,t,o);n.has(o)||(n.add(o),o.then(i,i))})}}function At(t,e){var n=e.deletions;if(n!==null)for(var o=0;o<n.length;o++){var i=n[o];try{var r=t,s=e,c=s;e:for(;c!==null;){switch(c.tag){case 5:qe=c.stateNode,kt=!1;break e;case 3:qe=c.stateNode.containerInfo,kt=!0;break e;case 4:qe=c.stateNode.containerInfo,kt=!0;break e}c=c.return}if(qe===null)throw Error(G(160));kg(r,s,i),qe=null,kt=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(f){Ie(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ng(e,t),e=e.sibling}function Ng(t,e){var n=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(At(e,t),bt(t),o&4){try{ji(3,t,t.return),Il(3,t)}catch(R){Ie(t,t.return,R)}try{ji(5,t,t.return)}catch(R){Ie(t,t.return,R)}}break;case 1:At(e,t),bt(t),o&512&&n!==null&&Go(n,n.return);break;case 5:if(At(e,t),bt(t),o&512&&n!==null&&Go(n,n.return),t.flags&32){var i=t.stateNode;try{ar(i,"")}catch(R){Ie(t,t.return,R)}}if(o&4&&(i=t.stateNode,i!=null)){var r=t.memoizedProps,s=n!==null?n.memoizedProps:r,c=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{c==="input"&&r.type==="radio"&&r.name!=null&&Qp(i,r),qa(c,s);var f=qa(c,r);for(s=0;s<d.length;s+=2){var h=d[s],g=d[s+1];h==="style"?nm(i,g):h==="dangerouslySetInnerHTML"?em(i,g):h==="children"?ar(i,g):zu(i,h,g,f)}switch(c){case"input":Fa(i,r);break;case"textarea":Zp(i,r);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var w=r.value;w!=null?bo(i,!!r.multiple,w,!1):m!==!!r.multiple&&(r.defaultValue!=null?bo(i,!!r.multiple,r.defaultValue,!0):bo(i,!!r.multiple,r.multiple?[]:"",!1))}i[yr]=r}catch(R){Ie(t,t.return,R)}}break;case 6:if(At(e,t),bt(t),o&4){if(t.stateNode===null)throw Error(G(162));i=t.stateNode,r=t.memoizedProps;try{i.nodeValue=r}catch(R){Ie(t,t.return,R)}}break;case 3:if(At(e,t),bt(t),o&4&&n!==null&&n.memoizedState.isDehydrated)try{fr(e.containerInfo)}catch(R){Ie(t,t.return,R)}break;case 4:At(e,t),bt(t);break;case 13:At(e,t),bt(t),i=t.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(wc=ke())),o&4&&Af(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(We=(f=We)||h,At(e,t),We=f):At(e,t),bt(t),o&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!h&&t.mode&1)for($=t,h=t.child;h!==null;){for(g=$=h;$!==null;){switch(m=$,w=m.child,m.tag){case 0:case 11:case 14:case 15:ji(4,m,m.return);break;case 1:Go(m,m.return);var k=m.stateNode;if(typeof k.componentWillUnmount=="function"){o=m,n=m.return;try{e=o,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(R){Ie(o,n,R)}}break;case 5:Go(m,m.return);break;case 22:if(m.memoizedState!==null){kf(g);continue}}w!==null?(w.return=m,$=w):kf(g)}h=h.sibling}e:for(h=null,g=t;;){if(g.tag===5){if(h===null){h=g;try{i=g.stateNode,f?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(c=g.stateNode,d=g.memoizedProps.style,s=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=tm("display",s))}catch(R){Ie(t,t.return,R)}}}else if(g.tag===6){if(h===null)try{g.stateNode.nodeValue=f?"":g.memoizedProps}catch(R){Ie(t,t.return,R)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;h===g&&(h=null),g=g.return}h===g&&(h=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:At(e,t),bt(t),o&4&&Af(t);break;case 21:break;default:At(e,t),bt(t)}}function bt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xg(n)){var o=n;break e}n=n.return}throw Error(G(160))}switch(o.tag){case 5:var i=o.stateNode;o.flags&32&&(ar(i,""),o.flags&=-33);var r=If(t);yu(t,r,i);break;case 3:case 4:var s=o.stateNode.containerInfo,c=If(t);gu(t,c,s);break;default:throw Error(G(161))}}catch(d){Ie(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function l0(t,e,n){$=t,Pg(t)}function Pg(t,e,n){for(var o=(t.mode&1)!==0;$!==null;){var i=$,r=i.child;if(i.tag===22&&o){var s=i.memoizedState!==null||ys;if(!s){var c=i.alternate,d=c!==null&&c.memoizedState!==null||We;c=ys;var f=We;if(ys=s,(We=d)&&!f)for($=i;$!==null;)s=$,d=s.child,s.tag===22&&s.memoizedState!==null?Nf(i):d!==null?(d.return=s,$=d):Nf(i);for(;r!==null;)$=r,Pg(r),r=r.sibling;$=i,ys=c,We=f}xf(t)}else i.subtreeFlags&8772&&r!==null?(r.return=i,$=r):xf(t)}}function xf(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:We||Il(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!We)if(n===null)o.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:xt(e.type,n.memoizedProps);o.componentDidUpdate(i,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&df(e,r,o);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}df(e,s,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var h=f.memoizedState;if(h!==null){var g=h.dehydrated;g!==null&&fr(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}We||e.flags&512&&mu(e)}catch(m){Ie(e,e.return,m)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function kf(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function Nf(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Il(4,e)}catch(d){Ie(e,n,d)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var i=e.return;try{o.componentDidMount()}catch(d){Ie(e,i,d)}}var r=e.return;try{mu(e)}catch(d){Ie(e,r,d)}break;case 5:var s=e.return;try{mu(e)}catch(d){Ie(e,s,d)}}}catch(d){Ie(e,e.return,d)}if(e===t){$=null;break}var c=e.sibling;if(c!==null){c.return=e.return,$=c;break}$=e.return}}var a0=Math.ceil,ol=un.ReactCurrentDispatcher,Cc=un.ReactCurrentOwner,St=un.ReactCurrentBatchConfig,le=0,He=null,Re=null,be=0,ct=0,Ho=bn(0),Ue=0,Er=null,mo=0,Al=0,Ec=0,er=null,rt=null,wc=0,si=1/0,Qt=null,il=!1,_u=null,Dn=null,_s=!1,xn=null,rl=0,tr=0,vu=null,Rs=-1,Ms=0;function je(){return le&6?ke():Rs!==-1?Rs:Rs=ke()}function Ln(t){return t.mode&1?le&2&&be!==0?be&-be:zv.transition!==null?(Ms===0&&(Ms=pm()),Ms):(t=ce,t!==0||(t=window.event,t=t===void 0?16:Sm(t.type)),t):1}function Lt(t,e,n,o){if(50<tr)throw tr=0,vu=null,Error(G(185));kr(t,n,o),(!(le&2)||t!==He)&&(t===He&&(!(le&2)&&(Al|=n),Ue===4&&In(t,be)),ut(t,o),n===1&&le===0&&!(e.mode&1)&&(si=ke()+500,Cl&&On()))}function ut(t,e){var n=t.callbackNode;z_(t,e);var o=bs(t,t===He?be:0);if(o===0)n!==null&&Vd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(n!=null&&Vd(n),e===1)t.tag===0?$v(Pf.bind(null,t)):Hm(Pf.bind(null,t)),Hv(function(){!(le&6)&&On()}),n=null;else{switch(mm(o)){case 1:n=Xu;break;case 4:n=fm;break;case 16:n=qs;break;case 536870912:n=hm;break;default:n=qs}n=Bg(n,Rg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Rg(t,e){if(Rs=-1,Ms=0,le&6)throw Error(G(327));var n=t.callbackNode;if(Wo()&&t.callbackNode!==n)return null;var o=bs(t,t===He?be:0);if(o===0)return null;if(o&30||o&t.expiredLanes||e)e=sl(t,o);else{e=o;var i=le;le|=2;var r=Dg();(He!==t||be!==e)&&(Qt=null,si=ke()+500,lo(t,e));do try{d0();break}catch(c){Mg(t,c)}while(!0);uc(),ol.current=r,le=i,Re!==null?e=0:(He=null,be=0,e=Ue)}if(e!==0){if(e===2&&(i=Ja(t),i!==0&&(o=i,e=Tu(t,i))),e===1)throw n=Er,lo(t,0),In(t,o),ut(t,ke()),n;if(e===6)In(t,o);else{if(i=t.current.alternate,!(o&30)&&!u0(i)&&(e=sl(t,o),e===2&&(r=Ja(t),r!==0&&(o=r,e=Tu(t,r))),e===1))throw n=Er,lo(t,0),In(t,o),ut(t,ke()),n;switch(t.finishedWork=i,t.finishedLanes=o,e){case 0:case 1:throw Error(G(345));case 2:eo(t,rt,Qt);break;case 3:if(In(t,o),(o&130023424)===o&&(e=wc+500-ke(),10<e)){if(bs(t,0)!==0)break;if(i=t.suspendedLanes,(i&o)!==o){je(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=eu(eo.bind(null,t,rt,Qt),e);break}eo(t,rt,Qt);break;case 4:if(In(t,o),(o&4194240)===o)break;for(e=t.eventTimes,i=-1;0<o;){var s=31-Dt(o);r=1<<s,s=e[s],s>i&&(i=s),o&=~r}if(o=i,o=ke()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*a0(o/1960))-o,10<o){t.timeoutHandle=eu(eo.bind(null,t,rt,Qt),o);break}eo(t,rt,Qt);break;case 5:eo(t,rt,Qt);break;default:throw Error(G(329))}}}return ut(t,ke()),t.callbackNode===n?Rg.bind(null,t):null}function Tu(t,e){var n=er;return t.current.memoizedState.isDehydrated&&(lo(t,e).flags|=256),t=sl(t,e),t!==2&&(e=rt,rt=n,e!==null&&Su(e)),t}function Su(t){rt===null?rt=t:rt.push.apply(rt,t)}function u0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var i=n[o],r=i.getSnapshot;i=i.value;try{if(!Ut(r(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function In(t,e){for(e&=~Ec,e&=~Al,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dt(e),o=1<<n;t[n]=-1,e&=~o}}function Pf(t){if(le&6)throw Error(G(327));Wo();var e=bs(t,0);if(!(e&1))return ut(t,ke()),null;var n=sl(t,e);if(t.tag!==0&&n===2){var o=Ja(t);o!==0&&(e=o,n=Tu(t,o))}if(n===1)throw n=Er,lo(t,0),In(t,e),ut(t,ke()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,eo(t,rt,Qt),ut(t,ke()),null}function Ic(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(si=ke()+500,Cl&&On())}}function go(t){xn!==null&&xn.tag===0&&!(le&6)&&Wo();var e=le;le|=1;var n=St.transition,o=ce;try{if(St.transition=null,ce=1,t)return t()}finally{ce=o,St.transition=n,le=e,!(le&6)&&On()}}function Ac(){ct=Ho.current,ve(Ho)}function lo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Gv(n)),Re!==null)for(n=Re.return;n!==null;){var o=n;switch(sc(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Ws();break;case 3:ii(),ve(lt),ve(Ye),mc();break;case 5:pc(o);break;case 4:ii();break;case 13:ve(Ce);break;case 19:ve(Ce);break;case 10:cc(o.type._context);break;case 22:case 23:Ac()}n=n.return}if(He=t,Re=t=Un(t.current,null),be=ct=e,Ue=0,Er=null,Ec=Al=mo=0,rt=er=null,io!==null){for(e=0;e<io.length;e++)if(n=io[e],o=n.interleaved,o!==null){n.interleaved=null;var i=o.next,r=n.pending;if(r!==null){var s=r.next;r.next=i,o.next=s}n.pending=o}io=null}return t}function Mg(t,e){do{var n=Re;try{if(uc(),ks.current=nl,tl){for(var o=Ee.memoizedState;o!==null;){var i=o.queue;i!==null&&(i.pending=null),o=o.next}tl=!1}if(po=0,Ge=Le=Ee=null,Zi=!1,Tr=0,Cc.current=null,n===null||n.return===null){Ue=1,Er=e,Re=null;break}e:{var r=t,s=n.return,c=n,d=e;if(e=be,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var f=d,h=c,g=h.tag;if(!(h.mode&1)&&(g===0||g===11||g===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=yf(s);if(w!==null){w.flags&=-257,_f(w,s,c,r,e),w.mode&1&&gf(r,f,e),e=w,d=f;var k=e.updateQueue;if(k===null){var R=new Set;R.add(d),e.updateQueue=R}else k.add(d);break e}else{if(!(e&1)){gf(r,f,e),xc();break e}d=Error(G(426))}}else if(Se&&c.mode&1){var F=yf(s);if(F!==null){!(F.flags&65536)&&(F.flags|=256),_f(F,s,c,r,e),lc(ri(d,c));break e}}r=d=ri(d,c),Ue!==4&&(Ue=2),er===null?er=[r]:er.push(r),r=s;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var A=mg(r,d,e);cf(r,A);break e;case 1:c=d;var C=r.type,x=r.stateNode;if(!(r.flags&128)&&(typeof C.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Dn===null||!Dn.has(x)))){r.flags|=65536,e&=-e,r.lanes|=e;var D=gg(r,c,e);cf(r,D);break e}}r=r.return}while(r!==null)}Ug(n)}catch(B){e=B,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function Dg(){var t=ol.current;return ol.current=nl,t===null?nl:t}function xc(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),He===null||!(mo&268435455)&&!(Al&268435455)||In(He,be)}function sl(t,e){var n=le;le|=2;var o=Dg();(He!==t||be!==e)&&(Qt=null,lo(t,e));do try{c0();break}catch(i){Mg(t,i)}while(!0);if(uc(),le=n,ol.current=o,Re!==null)throw Error(G(261));return He=null,be=0,Ue}function c0(){for(;Re!==null;)Lg(Re)}function d0(){for(;Re!==null&&!F_();)Lg(Re)}function Lg(t){var e=Vg(t.alternate,t,ct);t.memoizedProps=t.pendingProps,e===null?Ug(t):Re=e,Cc.current=null}function Ug(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=i0(n,e),n!==null){n.flags&=32767,Re=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ue=6,Re=null;return}}else if(n=o0(n,e,ct),n!==null){Re=n;return}if(e=e.sibling,e!==null){Re=e;return}Re=e=t}while(e!==null);Ue===0&&(Ue=5)}function eo(t,e,n){var o=ce,i=St.transition;try{St.transition=null,ce=1,f0(t,e,n,o)}finally{St.transition=i,ce=o}return null}function f0(t,e,n,o){do Wo();while(xn!==null);if(le&6)throw Error(G(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(J_(t,r),t===He&&(Re=He=null,be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_s||(_s=!0,Bg(qs,function(){return Wo(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=St.transition,St.transition=null;var s=ce;ce=1;var c=le;le|=4,Cc.current=null,s0(t,n),Ng(n,t),Mv(Za),Os=!!Qa,Za=Qa=null,t.current=n,l0(n),V_(),le=c,ce=s,St.transition=r}else t.current=n;if(_s&&(_s=!1,xn=t,rl=i),r=t.pendingLanes,r===0&&(Dn=null),H_(n.stateNode),ut(t,ke()),e!==null)for(o=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],o(i.value,{componentStack:i.stack,digest:i.digest});if(il)throw il=!1,t=_u,_u=null,t;return rl&1&&t.tag!==0&&Wo(),r=t.pendingLanes,r&1?t===vu?tr++:(tr=0,vu=t):tr=0,On(),null}function Wo(){if(xn!==null){var t=mm(rl),e=St.transition,n=ce;try{if(St.transition=null,ce=16>t?16:t,xn===null)var o=!1;else{if(t=xn,xn=null,rl=0,le&6)throw Error(G(331));var i=le;for(le|=4,$=t.current;$!==null;){var r=$,s=r.child;if($.flags&16){var c=r.deletions;if(c!==null){for(var d=0;d<c.length;d++){var f=c[d];for($=f;$!==null;){var h=$;switch(h.tag){case 0:case 11:case 15:ji(8,h,r)}var g=h.child;if(g!==null)g.return=h,$=g;else for(;$!==null;){h=$;var m=h.sibling,w=h.return;if(Ag(h),h===f){$=null;break}if(m!==null){m.return=w,$=m;break}$=w}}}var k=r.alternate;if(k!==null){var R=k.child;if(R!==null){k.child=null;do{var F=R.sibling;R.sibling=null,R=F}while(R!==null)}}$=r}}if(r.subtreeFlags&2064&&s!==null)s.return=r,$=s;else e:for(;$!==null;){if(r=$,r.flags&2048)switch(r.tag){case 0:case 11:case 15:ji(9,r,r.return)}var A=r.sibling;if(A!==null){A.return=r.return,$=A;break e}$=r.return}}var C=t.current;for($=C;$!==null;){s=$;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,$=x;else e:for(s=C;$!==null;){if(c=$,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Il(9,c)}}catch(B){Ie(c,c.return,B)}if(c===s){$=null;break e}var D=c.sibling;if(D!==null){D.return=c.return,$=D;break e}$=c.return}}if(le=i,On(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(yl,t)}catch{}o=!0}return o}finally{ce=n,St.transition=e}}return!1}function Rf(t,e,n){e=ri(n,e),e=mg(t,e,1),t=Mn(t,e,1),e=je(),t!==null&&(kr(t,1,e),ut(t,e))}function Ie(t,e,n){if(t.tag===3)Rf(t,t,n);else for(;e!==null;){if(e.tag===3){Rf(e,t,n);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Dn===null||!Dn.has(o))){t=ri(n,t),t=gg(e,t,1),e=Mn(e,t,1),t=je(),e!==null&&(kr(e,1,t),ut(e,t));break}}e=e.return}}function h0(t,e,n){var o=t.pingCache;o!==null&&o.delete(e),e=je(),t.pingedLanes|=t.suspendedLanes&n,He===t&&(be&n)===n&&(Ue===4||Ue===3&&(be&130023424)===be&&500>ke()-wc?lo(t,0):Ec|=n),ut(t,e)}function Fg(t,e){e===0&&(t.mode&1?(e=as,as<<=1,!(as&130023424)&&(as=4194304)):e=1);var n=je();t=sn(t,e),t!==null&&(kr(t,e,n),ut(t,n))}function p0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Fg(t,n)}function m0(t,e){var n=0;switch(t.tag){case 13:var o=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(G(314))}o!==null&&o.delete(e),Fg(t,n)}var Vg;Vg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||lt.current)st=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return st=!1,n0(t,e,n);st=!!(t.flags&131072)}else st=!1,Se&&e.flags&1048576&&qm(e,Xs,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;Ps(t,e),t=e.pendingProps;var i=ti(e,Ye.current);Jo(e,n),i=yc(null,e,o,t,i,n);var r=_c();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,at(o)?(r=!0,Ks(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fc(e),i.updater=wl,e.stateNode=i,i._reactInternals=e,lu(e,o,t,n),e=cu(null,e,o,!0,r,n)):(e.tag=0,Se&&r&&rc(e),Qe(null,e,i,n),e=e.child),e;case 16:o=e.elementType;e:{switch(Ps(t,e),t=e.pendingProps,i=o._init,o=i(o._payload),e.type=o,i=e.tag=y0(o),t=xt(o,t),i){case 0:e=uu(null,e,o,t,n);break e;case 1:e=Sf(null,e,o,t,n);break e;case 11:e=vf(null,e,o,t,n);break e;case 14:e=Tf(null,e,o,xt(o.type,t),n);break e}throw Error(G(306,o,""))}return e;case 0:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:xt(o,i),uu(t,e,o,i,n);case 1:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:xt(o,i),Sf(t,e,o,i,n);case 3:e:{if(Tg(e),t===null)throw Error(G(387));o=e.pendingProps,r=e.memoizedState,i=r.element,Wm(t,e),js(e,o,null,n);var s=e.memoizedState;if(o=s.element,r.isDehydrated)if(r={element:o,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=ri(Error(G(423)),e),e=Cf(t,e,o,n,i);break e}else if(o!==i){i=ri(Error(G(424)),e),e=Cf(t,e,o,n,i);break e}else for(dt=Rn(e.stateNode.containerInfo.firstChild),ft=e,Se=!0,Nt=null,n=zm(e,null,o,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ni(),o===i){e=ln(t,e,n);break e}Qe(t,e,o,n)}e=e.child}return e;case 5:return Km(e),t===null&&iu(e),o=e.type,i=e.pendingProps,r=t!==null?t.memoizedProps:null,s=i.children,ja(o,i)?s=null:r!==null&&ja(o,r)&&(e.flags|=32),vg(t,e),Qe(t,e,s,n),e.child;case 6:return t===null&&iu(e),null;case 13:return Sg(t,e,n);case 4:return hc(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=oi(e,null,o,n):Qe(t,e,o,n),e.child;case 11:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:xt(o,i),vf(t,e,o,i,n);case 7:return Qe(t,e,e.pendingProps,n),e.child;case 8:return Qe(t,e,e.pendingProps.children,n),e.child;case 12:return Qe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(o=e.type._context,i=e.pendingProps,r=e.memoizedProps,s=i.value,pe(Qs,o._currentValue),o._currentValue=s,r!==null)if(Ut(r.value,s)){if(r.children===i.children&&!lt.current){e=ln(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var c=r.dependencies;if(c!==null){s=r.child;for(var d=c.firstContext;d!==null;){if(d.context===o){if(r.tag===1){d=nn(-1,n&-n),d.tag=2;var f=r.updateQueue;if(f!==null){f=f.shared;var h=f.pending;h===null?d.next=d:(d.next=h.next,h.next=d),f.pending=d}}r.lanes|=n,d=r.alternate,d!==null&&(d.lanes|=n),ru(r.return,n,e),c.lanes|=n;break}d=d.next}}else if(r.tag===10)s=r.type===e.type?null:r.child;else if(r.tag===18){if(s=r.return,s===null)throw Error(G(341));s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),ru(s,n,e),s=r.sibling}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===e){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}Qe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,o=e.pendingProps.children,Jo(e,n),i=Et(i),o=o(i),e.flags|=1,Qe(t,e,o,n),e.child;case 14:return o=e.type,i=xt(o,e.pendingProps),i=xt(o.type,i),Tf(t,e,o,i,n);case 15:return yg(t,e,e.type,e.pendingProps,n);case 17:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:xt(o,i),Ps(t,e),e.tag=1,at(o)?(t=!0,Ks(e)):t=!1,Jo(e,n),pg(e,o,i),lu(e,o,i,n),cu(null,e,o,!0,t,n);case 19:return Cg(t,e,n);case 22:return _g(t,e,n)}throw Error(G(156,e.tag))};function Bg(t,e){return dm(t,e)}function g0(t,e,n,o){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(t,e,n,o){return new g0(t,e,n,o)}function kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function y0(t){if(typeof t=="function")return kc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wu)return 11;if(t===Ku)return 14}return 2}function Un(t,e){var n=t.alternate;return n===null?(n=Tt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ds(t,e,n,o,i,r){var s=2;if(o=t,typeof t=="function")kc(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Po:return ao(n.children,i,r,e);case Ju:s=8,i|=8;break;case Ra:return t=Tt(12,n,e,i|2),t.elementType=Ra,t.lanes=r,t;case Ma:return t=Tt(13,n,e,i),t.elementType=Ma,t.lanes=r,t;case Da:return t=Tt(19,n,e,i),t.elementType=Da,t.lanes=r,t;case Kp:return xl(n,i,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Jp:s=10;break e;case Wp:s=9;break e;case Wu:s=11;break e;case Ku:s=14;break e;case Cn:s=16,o=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=Tt(s,n,e,i),e.elementType=t,e.type=o,e.lanes=r,e}function ao(t,e,n,o){return t=Tt(7,t,o,e),t.lanes=n,t}function xl(t,e,n,o){return t=Tt(22,t,o,e),t.elementType=Kp,t.lanes=n,t.stateNode={isHidden:!1},t}function Sa(t,e,n){return t=Tt(6,t,null,e),t.lanes=n,t}function Ca(t,e,n){return e=Tt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _0(t,e,n,o,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=na(0),this.expirationTimes=na(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=na(0),this.identifierPrefix=o,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nc(t,e,n,o,i,r,s,c,d){return t=new _0(t,e,n,c,d),e===1?(e=1,r===!0&&(e|=8)):e=0,r=Tt(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fc(r),t}function v0(t,e,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:No,key:o==null?null:""+o,children:t,containerInfo:e,implementation:n}}function Gg(t){if(!t)return Gn;t=t._reactInternals;e:{if(To(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(at(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(at(n))return Gm(t,n,e)}return e}function Hg(t,e,n,o,i,r,s,c,d){return t=Nc(n,o,!0,t,i,r,s,c,d),t.context=Gg(null),n=t.current,o=je(),i=Ln(n),r=nn(o,i),r.callback=e??null,Mn(n,r,i),t.current.lanes=i,kr(t,i,o),ut(t,o),t}function kl(t,e,n,o){var i=e.current,r=je(),s=Ln(i);return n=Gg(n),e.context===null?e.context=n:e.pendingContext=n,e=nn(r,s),e.payload={element:t},o=o===void 0?null:o,o!==null&&(e.callback=o),t=Mn(i,e,s),t!==null&&(Lt(t,i,s,r),xs(t,i,s)),s}function ll(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Pc(t,e){Mf(t,e),(t=t.alternate)&&Mf(t,e)}function T0(){return null}var qg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rc(t){this._internalRoot=t}Nl.prototype.render=Rc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));kl(t,e,null,null)};Nl.prototype.unmount=Rc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;go(function(){kl(null,t,null,null)}),e[rn]=null}};function Nl(t){this._internalRoot=t}Nl.prototype.unstable_scheduleHydration=function(t){if(t){var e=_m();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wn.length&&e!==0&&e<wn[n].priority;n++);wn.splice(n,0,t),n===0&&Tm(t)}};function Mc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Df(){}function S0(t,e,n,o,i){if(i){if(typeof o=="function"){var r=o;o=function(){var f=ll(s);r.call(f)}}var s=Hg(e,o,t,0,null,!1,!1,"",Df);return t._reactRootContainer=s,t[rn]=s.current,mr(t.nodeType===8?t.parentNode:t),go(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof o=="function"){var c=o;o=function(){var f=ll(d);c.call(f)}}var d=Nc(t,0,!1,null,null,!1,!1,"",Df);return t._reactRootContainer=d,t[rn]=d.current,mr(t.nodeType===8?t.parentNode:t),go(function(){kl(e,d,n,o)}),d}function Rl(t,e,n,o,i){var r=n._reactRootContainer;if(r){var s=r;if(typeof i=="function"){var c=i;i=function(){var d=ll(s);c.call(d)}}kl(e,s,t,i)}else s=S0(n,e,t,i,o);return ll(s)}gm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=zi(e.pendingLanes);n!==0&&(Qu(e,n|1),ut(e,ke()),!(le&6)&&(si=ke()+500,On()))}break;case 13:go(function(){var o=sn(t,1);if(o!==null){var i=je();Lt(o,t,1,i)}}),Pc(t,1)}};Zu=function(t){if(t.tag===13){var e=sn(t,134217728);if(e!==null){var n=je();Lt(e,t,134217728,n)}Pc(t,134217728)}};ym=function(t){if(t.tag===13){var e=Ln(t),n=sn(t,e);if(n!==null){var o=je();Lt(n,t,e,o)}Pc(t,e)}};_m=function(){return ce};vm=function(t,e){var n=ce;try{return ce=t,e()}finally{ce=n}};Oa=function(t,e,n){switch(e){case"input":if(Fa(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var o=n[e];if(o!==t&&o.form===t.form){var i=Sl(o);if(!i)throw Error(G(90));Xp(o),Fa(o,i)}}}break;case"textarea":Zp(t,n);break;case"select":e=n.value,e!=null&&bo(t,!!n.multiple,e,!1)}};rm=Ic;sm=go;var C0={usingClientEntryPoint:!1,Events:[Pr,Lo,Sl,om,im,Ic]},qi={findFiberByHostInstance:oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},E0={bundleType:qi.bundleType,version:qi.version,rendererPackageName:qi.rendererPackageName,rendererConfig:qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:un.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=um(t),t===null?null:t.stateNode},findFiberByHostInstance:qi.findFiberByHostInstance||T0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vs.isDisabled&&vs.supportsFiber)try{yl=vs.inject(E0),Kt=vs}catch{}}pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C0;pt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mc(e))throw Error(G(200));return v0(t,e,null,n)};pt.createRoot=function(t,e){if(!Mc(t))throw Error(G(299));var n=!1,o="",i=qg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Nc(t,1,!1,null,null,n,!1,o,i),t[rn]=e.current,mr(t.nodeType===8?t.parentNode:t),new Rc(e)};pt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=um(e),t=t===null?null:t.stateNode,t};pt.flushSync=function(t){return go(t)};pt.hydrate=function(t,e,n){if(!Pl(e))throw Error(G(200));return Rl(null,t,e,!0,n)};pt.hydrateRoot=function(t,e,n){if(!Mc(t))throw Error(G(405));var o=n!=null&&n.hydratedSources||null,i=!1,r="",s=qg;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Hg(e,null,t,1,n??null,i,!1,r,s),t[rn]=e.current,mr(t),o)for(t=0;t<o.length;t++)n=o[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Nl(e)};pt.render=function(t,e,n){if(!Pl(e))throw Error(G(200));return Rl(null,t,e,!1,n)};pt.unmountComponentAtNode=function(t){if(!Pl(t))throw Error(G(40));return t._reactRootContainer?(go(function(){Rl(null,null,t,!1,function(){t._reactRootContainer=null,t[rn]=null})}),!0):!1};pt.unstable_batchedUpdates=Ic;pt.unstable_renderSubtreeIntoContainer=function(t,e,n,o){if(!Pl(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Rl(t,e,n,!1,o)};pt.version="18.3.1-next-f1338f8080-20240426";function bg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bg)}catch(t){console.error(t)}}bg(),bp.exports=pt;var w0=bp.exports,Lf=w0;Vs.createRoot=Lf.createRoot,Vs.hydrateRoot=Lf.hydrateRoot;const Mr=({onClose:t,isClosing:e,className:n="",children:o})=>_.jsx("div",{className:`modal-backdrop${e?" closing":""}`,children:_.jsxs("div",{className:`modal-content ${n}`,children:[_.jsx("button",{className:"modal-close",onClick:t,"aria-label":"Close",children:"×"}),o]})}),I0=({onClose:t})=>_.jsx("div",{className:"modal-backdrop",children:_.jsxs("div",{className:"modal-content",children:[_.jsx("h2",{children:"PWA 설치 안내"}),_.jsx("p",{children:"이 앱을 홈 화면에 추가하여 더 편리하게 사용하세요!"}),_.jsx("button",{onClick:t,children:"닫기"})]})});function Dr(t){const[e,n]=H.useState(!1);return[e,()=>{n(!0),setTimeout(()=>{n(!1),t()},200)}]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let A0,x0;function k0(){return{geminiUrl:A0,vertexUrl:x0}}function N0(t,e,n,o){var i,r;if(!(t!=null&&t.baseUrl)){const s=k0();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(r=s.geminiUrl)!==null&&r!==void 0?r:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class So{}function J(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const r=e[i];return r!=null?String(r):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function u(t,e,n){for(let r=0;r<e.length-1;r++){const s=e[r];if(s.endsWith("[]")){const c=s.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[c])){const d=t[c];if(Array.isArray(n))for(let f=0;f<d.length;f++){const h=d[f];u(h,e.slice(r+1),n[f])}else for(const f of d)u(f,e.slice(r+1),n)}return}else if(s.endsWith("[0]")){const c=s.slice(0,-3);c in t||(t[c]=[{}]);const d=t[c];u(d[0],e.slice(r+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const o=e[e.length-1],i=t[o];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function l(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;const i=e[o];if(i.endsWith("[]")){const r=i.slice(0,-2);if(r in t){const s=t[r];return Array.isArray(s)?s.map(c=>l(c,e.slice(o+1),n)):n}else return n}else t=t[i]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function P0(t,e){for(const[n,o]of Object.entries(e)){const i=n.split("."),r=o.split("."),s=new Set;let c=-1;for(let d=0;d<i.length;d++)if(i[d]==="*"){c=d;break}if(c!==-1&&r.length>c)for(let d=c;d<r.length;d++){const f=r[d];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}Cu(t,i,r,0,s)}}function Cu(t,e,n,o,i){if(o>=e.length||typeof t!="object"||t===null)return;const r=e[o];if(r.endsWith("[]")){const s=r.slice(0,-2),c=t;if(s in c&&Array.isArray(c[s]))for(const d of c[s])Cu(d,e,n,o+1,i)}else if(r==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,c=Object.keys(s).filter(f=>!f.startsWith("_")&&!i.has(f)),d={};for(const f of c)d[f]=s[f];for(const[f,h]of Object.entries(d)){const g=[];for(const m of n.slice(o))m==="*"?g.push(f):g.push(m);u(s,g,h)}for(const f of c)delete s[f]}}else{const s=t;r in s&&Cu(s[r],e,n,o+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dc(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R0(t){const e={},n=l(t,["operationName"]);n!=null&&u(e,["operationName"],n);const o=l(t,["resourceName"]);return o!=null&&u(e,["_url","resourceName"],o),e}function M0(t){const e={},n=l(t,["name"]);n!=null&&u(e,["name"],n);const o=l(t,["metadata"]);o!=null&&u(e,["metadata"],o);const i=l(t,["done"]);i!=null&&u(e,["done"],i);const r=l(t,["error"]);r!=null&&u(e,["error"],r);const s=l(t,["response","generateVideoResponse"]);return s!=null&&u(e,["response"],L0(s)),e}function D0(t){const e={},n=l(t,["name"]);n!=null&&u(e,["name"],n);const o=l(t,["metadata"]);o!=null&&u(e,["metadata"],o);const i=l(t,["done"]);i!=null&&u(e,["done"],i);const r=l(t,["error"]);r!=null&&u(e,["error"],r);const s=l(t,["response"]);return s!=null&&u(e,["response"],U0(s)),e}function L0(t){const e={},n=l(t,["generatedSamples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>F0(s))),u(e,["generatedVideos"],r)}const o=l(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const i=l(t,["raiMediaFilteredReasons"]);return i!=null&&u(e,["raiMediaFilteredReasons"],i),e}function U0(t){const e={},n=l(t,["videos"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>V0(s))),u(e,["generatedVideos"],r)}const o=l(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const i=l(t,["raiMediaFilteredReasons"]);return i!=null&&u(e,["raiMediaFilteredReasons"],i),e}function F0(t){const e={},n=l(t,["video"]);return n!=null&&u(e,["video"],H0(n)),e}function V0(t){const e={},n=l(t,["_self"]);return n!=null&&u(e,["video"],q0(n)),e}function B0(t){const e={},n=l(t,["operationName"]);return n!=null&&u(e,["_url","operationName"],n),e}function G0(t){const e={},n=l(t,["operationName"]);return n!=null&&u(e,["_url","operationName"],n),e}function H0(t){const e={},n=l(t,["uri"]);n!=null&&u(e,["uri"],n);const o=l(t,["encodedVideo"]);o!=null&&u(e,["videoBytes"],Dc(o));const i=l(t,["encoding"]);return i!=null&&u(e,["mimeType"],i),e}function q0(t){const e={},n=l(t,["gcsUri"]);n!=null&&u(e,["uri"],n);const o=l(t,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],Dc(o));const i=l(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Uf;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Uf||(Uf={}));var Ff;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Ff||(Ff={}));var Rt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Rt||(Rt={}));var Vf;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Vf||(Vf={}));var Bf;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Bf||(Bf={}));var Gf;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Gf||(Gf={}));var Hf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Hf||(Hf={}));var qf;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(qf||(qf={}));var bf;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(bf||(bf={}));var Of;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Of||(Of={}));var $f;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})($f||($f={}));var zf;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(zf||(zf={}));var Jf;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Jf||(Jf={}));var Wf;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(Wf||(Wf={}));var Kf;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Kf||(Kf={}));var al;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(al||(al={}));var Yf;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Yf||(Yf={}));var Eu;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Eu||(Eu={}));var Xf;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Xf||(Xf={}));var Qf;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Qf||(Qf={}));var Zf;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})(Zf||(Zf={}));var jf;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(jf||(jf={}));var eh;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(eh||(eh={}));var th;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(th||(th={}));var nh;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(nh||(nh={}));var oh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(oh||(oh={}));var ih;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ih||(ih={}));var rh;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(rh||(rh={}));var sh;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(sh||(sh={}));var lh;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(lh||(lh={}));var ah;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ah||(ah={}));var uh;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(uh||(uh={}));var ch;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ch||(ch={}));var dh;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(dh||(dh={}));var fh;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(fh||(fh={}));var hh;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(hh||(hh={}));var ph;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(ph||(ph={}));var mh;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(mh||(mh={}));var gh;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(gh||(gh={}));var yh;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(yh||(yh={}));var _h;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(_h||(_h={}));var vh;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(vh||(vh={}));var Th;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Th||(Th={}));var Sh;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Sh||(Sh={}));var Ch;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ch||(Ch={}));var Eh;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Eh||(Eh={}));var wh;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(wh||(wh={}));var Ih;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Ih||(Ih={}));var qo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(qo||(qo={}));class wu{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class bi{get text(){var e,n,o,i,r,s,c,d;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const g=[];for(const m of(d=(c=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[w,k]of Object.entries(m))w!=="text"&&w!=="thought"&&(k!==null||k!==void 0)&&g.push(w);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;h=!0,f+=m.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,o,i,r,s,c,d;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const g of(d=(c=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[m,w]of Object.entries(g))m!=="inlineData"&&(w!==null||w!==void 0)&&h.push(m);g.inlineData&&typeof g.inlineData.data=="string"&&(f+=atob(g.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,o,i,r,s,c,d;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(c=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,o,i,r,s,c,d,f;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(d=(c=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,o,i,r,s,c,d,f;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(d=(c=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class Ah{}class xh{}class b0{}class O0{}class $0{}class z0{}class kh{}class Nh{}class Ph{}class J0{}class ul{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const o=new ul;let i;const r=e;return n?i=D0(r):i=M0(r),Object.assign(o,i),o}}class Rh{}class Mh{}class Dh{}class W0{}class K0{}class Y0{}class Lh{}class X0{get text(){var e,n,o;let i="",r=!1;const s=[];for(const c of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[d,f]of Object.entries(c))d!=="text"&&d!=="thought"&&f!==null&&s.push(d);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;r=!0,i+=c.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?i:void 0}get data(){var e,n,o;let i="";const r=[];for(const s of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[c,d]of Object.entries(s))c!=="inlineData"&&d!==null&&r.push(c);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Q0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ue(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Og(t,e){const n=ue(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function $g(t){return Array.isArray(t)?t.map(e=>cl(e)):[cl(t)]}function cl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function zg(t){const e=cl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Jg(t){const e=cl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Uh(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Wg(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Uh(e)):[Uh(t)]}function Iu(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Fh(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Vh(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ke(t){if(t==null)throw new Error("ContentUnion is required");return Iu(t)?t:{role:"user",parts:Wg(t)}}function Lc(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=Ke(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=Ke(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ke(n)):[Ke(e)]}function Ct(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Fh(t)||Vh(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ke(t)]}const e=[],n=[],o=Iu(t[0]);for(const i of t){const r=Iu(i);if(r!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(r)e.push(i);else{if(Fh(i)||Vh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return o||e.push({role:"user",parts:Wg(n)}),e}function Z0(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(Rt).includes(n[0].toUpperCase())?n[0].toUpperCase():Rt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.values(Rt).includes(o.toUpperCase())?o.toUpperCase():Rt.TYPE_UNSPECIFIED})}}function Ko(t){const e={},n=["items"],o=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=t.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(e.nullable=!0,t=r[1]):r[1].type==="null"&&(e.nullable=!0,t=r[0])),t.type instanceof Array&&Z0(t.type,e);for(const[s,c]of Object.entries(t))if(c!=null)if(s=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(Rt).includes(c.toUpperCase())?c.toUpperCase():Rt.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Ko(c);else if(o.includes(s)){const d=[];for(const f of c){if(f.type=="null"){e.nullable=!0;continue}d.push(Ko(f))}e[s]=d}else if(i.includes(s)){const d={};for(const[f,h]of Object.entries(c))d[f]=Ko(h);e[s]=d}else{if(s==="additionalProperties")continue;e[s]=c}return e}function Uc(t){return Ko(t)}function Fc(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Vc(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function di(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ko(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ko(e.response));return t}function fi(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function j0(t,e,n,o=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function cn(t,e){if(typeof e!="string")throw new Error("name must be a string");return j0(t,e,"cachedContents")}function Kg(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function $n(t){return Dc(t)}function eT(t){return t!=null&&typeof t=="object"&&"name"in t}function tT(t){return t!=null&&typeof t=="object"&&"video"in t}function nT(t){return t!=null&&typeof t=="object"&&"uri"in t}function Yg(t){var e;let n;if(eT(t)&&(n=t.name),!(nT(t)&&(n=t.uri,n===void 0))&&!(tT(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Xg(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Qg(t){for(const e of["models","tunedModels","publisherModels"])if(oT(t,e))return t[e];return[]}function oT(t,e){return t!==null&&typeof t=="object"&&e in t}function iT(t,e={}){const n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function rT(t,e={}){const n=[],o=new Set;for(const i of t){const r=i.name;if(o.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);o.add(r);const s=iT(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function Zg(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function sT(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function jg(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let r=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const d=s.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){r=!0;break}}return r&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function hi(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function ey(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lT(t){const e={},n=l(t,["responsesFile"]);n!=null&&u(e,["fileName"],n);const o=l(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>BT(s))),u(e,["inlinedResponses"],r)}const i=l(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),u(e,["inlinedEmbedContentResponses"],r)}return e}function aT(t){const e={},n=l(t,["predictionsFormat"]);n!=null&&u(e,["format"],n);const o=l(t,["gcsDestination","outputUriPrefix"]);o!=null&&u(e,["gcsUri"],o);const i=l(t,["bigqueryDestination","outputUri"]);return i!=null&&u(e,["bigqueryUri"],i),e}function uT(t){const e={},n=l(t,["format"]);n!=null&&u(e,["predictionsFormat"],n);const o=l(t,["gcsUri"]);o!=null&&u(e,["gcsDestination","outputUriPrefix"],o);const i=l(t,["bigqueryUri"]);if(i!=null&&u(e,["bigqueryDestination","outputUri"],i),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(l(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ls(t){const e={},n=l(t,["name"]);n!=null&&u(e,["name"],n);const o=l(t,["metadata","displayName"]);o!=null&&u(e,["displayName"],o);const i=l(t,["metadata","state"]);i!=null&&u(e,["state"],ey(i));const r=l(t,["metadata","createTime"]);r!=null&&u(e,["createTime"],r);const s=l(t,["metadata","endTime"]);s!=null&&u(e,["endTime"],s);const c=l(t,["metadata","updateTime"]);c!=null&&u(e,["updateTime"],c);const d=l(t,["metadata","model"]);d!=null&&u(e,["model"],d);const f=l(t,["metadata","output"]);return f!=null&&u(e,["dest"],lT(jg(f))),e}function Au(t){const e={},n=l(t,["name"]);n!=null&&u(e,["name"],n);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const i=l(t,["state"]);i!=null&&u(e,["state"],ey(i));const r=l(t,["error"]);r!=null&&u(e,["error"],r);const s=l(t,["createTime"]);s!=null&&u(e,["createTime"],s);const c=l(t,["startTime"]);c!=null&&u(e,["startTime"],c);const d=l(t,["endTime"]);d!=null&&u(e,["endTime"],d);const f=l(t,["updateTime"]);f!=null&&u(e,["updateTime"],f);const h=l(t,["model"]);h!=null&&u(e,["model"],h);const g=l(t,["inputConfig"]);g!=null&&u(e,["src"],cT(g));const m=l(t,["outputConfig"]);return m!=null&&u(e,["dest"],aT(jg(m))),e}function cT(t){const e={},n=l(t,["instancesFormat"]);n!=null&&u(e,["format"],n);const o=l(t,["gcsSource","uris"]);o!=null&&u(e,["gcsUri"],o);const i=l(t,["bigquerySource","inputUri"]);return i!=null&&u(e,["bigqueryUri"],i),e}function dT(t,e){const n={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=l(e,["fileName"]);o!=null&&u(n,["fileName"],o);const i=l(e,["inlinedRequests"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>VT(t,s))),u(n,["requests","requests"],r)}return n}function fT(t){const e={},n=l(t,["format"]);n!=null&&u(e,["instancesFormat"],n);const o=l(t,["gcsUri"]);o!=null&&u(e,["gcsSource","uris"],o);const i=l(t,["bigqueryUri"]);if(i!=null&&u(e,["bigquerySource","inputUri"],i),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function hT(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&u(e,["data"],n);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function pT(t,e){const n={},o=l(e,["name"]);return o!=null&&u(n,["_url","name"],hi(t,o)),n}function mT(t,e){const n={},o=l(e,["name"]);return o!=null&&u(n,["_url","name"],hi(t,o)),n}function gT(t){const e={},n=l(t,["content"]);n!=null&&u(e,["content"],n);const o=l(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],yT(o));const i=l(t,["tokenCount"]);i!=null&&u(e,["tokenCount"],i);const r=l(t,["finishReason"]);r!=null&&u(e,["finishReason"],r);const s=l(t,["urlContextMetadata"]);s!=null&&u(e,["urlContextMetadata"],s);const c=l(t,["avgLogprobs"]);c!=null&&u(e,["avgLogprobs"],c);const d=l(t,["groundingMetadata"]);d!=null&&u(e,["groundingMetadata"],d);const f=l(t,["index"]);f!=null&&u(e,["index"],f);const h=l(t,["logprobsResult"]);h!=null&&u(e,["logprobsResult"],h);const g=l(t,["safetyRatings"]);if(g!=null){let m=g;Array.isArray(m)&&(m=m.map(w=>w)),u(e,["safetyRatings"],m)}return e}function yT(t){const e={},n=l(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),u(e,["citations"],o)}return e}function ty(t){const e={},n=l(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>zT(r))),u(e,["parts"],i)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function _T(t,e){const n={},o=l(t,["displayName"]);if(e!==void 0&&o!=null&&u(e,["batch","displayName"],o),l(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function vT(t,e){const n={},o=l(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const i=l(t,["dest"]);return e!==void 0&&i!=null&&u(e,["outputConfig"],uT(sT(i))),n}function Bh(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["_url","model"],ue(t,o));const i=l(e,["src"]);i!=null&&u(n,["batch","inputConfig"],dT(t,Zg(t,i)));const r=l(e,["config"]);return r!=null&&_T(r,n),n}function TT(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["model"],ue(t,o));const i=l(e,["src"]);i!=null&&u(n,["inputConfig"],fT(Zg(t,i)));const r=l(e,["config"]);return r!=null&&vT(r,n),n}function ST(t,e){const n={},o=l(t,["displayName"]);return e!==void 0&&o!=null&&u(e,["batch","displayName"],o),n}function CT(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["_url","model"],ue(t,o));const i=l(e,["src"]);i!=null&&u(n,["batch","inputConfig"],NT(t,i));const r=l(e,["config"]);return r!=null&&ST(r,n),n}function ET(t,e){const n={},o=l(e,["name"]);return o!=null&&u(n,["_url","name"],hi(t,o)),n}function wT(t,e){const n={},o=l(e,["name"]);return o!=null&&u(n,["_url","name"],hi(t,o)),n}function IT(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const i=l(t,["done"]);i!=null&&u(e,["done"],i);const r=l(t,["error"]);return r!=null&&u(e,["error"],r),e}function AT(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const i=l(t,["done"]);i!=null&&u(e,["done"],i);const r=l(t,["error"]);return r!=null&&u(e,["error"],r),e}function xT(t,e){const n={},o=l(e,["contents"]);if(o!=null){let r=Lc(t,o);Array.isArray(r)&&(r=r.map(s=>s)),u(n,["requests[]","request","content"],r)}const i=l(e,["config"]);return i!=null&&(u(n,["_self"],kT(i,n)),P0(n,{"requests[].*":"requests[].request.*"})),n}function kT(t,e){const n={},o=l(t,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);const i=l(t,["title"]);e!==void 0&&i!=null&&u(e,["requests[]","title"],i);const r=l(t,["outputDimensionality"]);if(e!==void 0&&r!=null&&u(e,["requests[]","outputDimensionality"],r),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function NT(t,e){const n={},o=l(e,["fileName"]);o!=null&&u(n,["file_name"],o);const i=l(e,["inlinedRequests"]);return i!=null&&u(n,["requests"],xT(t,i)),n}function PT(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function RT(t,e,n){const o={},i=l(e,["systemInstruction"]);n!==void 0&&i!=null&&u(n,["systemInstruction"],ty(Ke(i)));const r=l(e,["temperature"]);r!=null&&u(o,["temperature"],r);const s=l(e,["topP"]);s!=null&&u(o,["topP"],s);const c=l(e,["topK"]);c!=null&&u(o,["topK"],c);const d=l(e,["candidateCount"]);d!=null&&u(o,["candidateCount"],d);const f=l(e,["maxOutputTokens"]);f!=null&&u(o,["maxOutputTokens"],f);const h=l(e,["stopSequences"]);h!=null&&u(o,["stopSequences"],h);const g=l(e,["responseLogprobs"]);g!=null&&u(o,["responseLogprobs"],g);const m=l(e,["logprobs"]);m!=null&&u(o,["logprobs"],m);const w=l(e,["presencePenalty"]);w!=null&&u(o,["presencePenalty"],w);const k=l(e,["frequencyPenalty"]);k!=null&&u(o,["frequencyPenalty"],k);const R=l(e,["seed"]);R!=null&&u(o,["seed"],R);const F=l(e,["responseMimeType"]);F!=null&&u(o,["responseMimeType"],F);const A=l(e,["responseSchema"]);A!=null&&u(o,["responseSchema"],Uc(A));const C=l(e,["responseJsonSchema"]);if(C!=null&&u(o,["responseJsonSchema"],C),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=l(e,["safetySettings"]);if(n!==void 0&&x!=null){let M=x;Array.isArray(M)&&(M=M.map(N=>JT(N))),u(n,["safetySettings"],M)}const D=l(e,["tools"]);if(n!==void 0&&D!=null){let M=fi(D);Array.isArray(M)&&(M=M.map(N=>WT(di(N)))),u(n,["tools"],M)}const B=l(e,["toolConfig"]);if(n!==void 0&&B!=null&&u(n,["toolConfig"],B),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=l(e,["cachedContent"]);n!==void 0&&V!=null&&u(n,["cachedContent"],cn(t,V));const E=l(e,["responseModalities"]);E!=null&&u(o,["responseModalities"],E);const v=l(e,["mediaResolution"]);v!=null&&u(o,["mediaResolution"],v);const S=l(e,["speechConfig"]);if(S!=null&&u(o,["speechConfig"],Fc(S)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=l(e,["thinkingConfig"]);I!=null&&u(o,["thinkingConfig"],I);const P=l(e,["imageConfig"]);return P!=null&&u(o,["imageConfig"],P),o}function MT(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>gT(f))),u(e,["candidates"],d)}const i=l(t,["modelVersion"]);i!=null&&u(e,["modelVersion"],i);const r=l(t,["promptFeedback"]);r!=null&&u(e,["promptFeedback"],r);const s=l(t,["responseId"]);s!=null&&u(e,["responseId"],s);const c=l(t,["usageMetadata"]);return c!=null&&u(e,["usageMetadata"],c),e}function DT(t,e){const n={},o=l(e,["name"]);return o!=null&&u(n,["_url","name"],hi(t,o)),n}function LT(t,e){const n={},o=l(e,["name"]);return o!=null&&u(n,["_url","name"],hi(t,o)),n}function UT(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function FT(t){const e={},n=l(t,["timeRangeFilter"]);if(n!=null&&u(e,["timeRangeFilter"],n),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function VT(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["request","model"],ue(t,o));const i=l(e,["contents"]);if(i!=null){let c=Ct(i);Array.isArray(c)&&(c=c.map(d=>ty(d))),u(n,["request","contents"],c)}const r=l(e,["metadata"]);r!=null&&u(n,["metadata"],r);const s=l(e,["config"]);return s!=null&&u(n,["request","generationConfig"],RT(t,s,l(n,["request"],{}))),n}function BT(t){const e={},n=l(t,["response"]);n!=null&&u(e,["response"],MT(n));const o=l(t,["error"]);return o!=null&&u(e,["error"],o),e}function GT(t,e){const n={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const i=l(t,["pageToken"]);if(e!==void 0&&i!=null&&u(e,["_query","pageToken"],i),l(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function HT(t,e){const n={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const i=l(t,["pageToken"]);e!==void 0&&i!=null&&u(e,["_query","pageToken"],i);const r=l(t,["filter"]);return e!==void 0&&r!=null&&u(e,["_query","filter"],r),n}function qT(t){const e={},n=l(t,["config"]);return n!=null&&GT(n,e),e}function bT(t){const e={},n=l(t,["config"]);return n!=null&&HT(n,e),e}function OT(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const i=l(t,["operations"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>Ls(s))),u(e,["batchJobs"],r)}return e}function $T(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const i=l(t,["batchPredictionJobs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>Au(s))),u(e,["batchJobs"],r)}return e}function zT(t){const e={},n=l(t,["videoMetadata"]);n!=null&&u(e,["videoMetadata"],n);const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const i=l(t,["inlineData"]);i!=null&&u(e,["inlineData"],hT(i));const r=l(t,["fileData"]);r!=null&&u(e,["fileData"],PT(r));const s=l(t,["thoughtSignature"]);s!=null&&u(e,["thoughtSignature"],s);const c=l(t,["functionCall"]);c!=null&&u(e,["functionCall"],c);const d=l(t,["codeExecutionResult"]);d!=null&&u(e,["codeExecutionResult"],d);const f=l(t,["executableCode"]);f!=null&&u(e,["executableCode"],f);const h=l(t,["functionResponse"]);h!=null&&u(e,["functionResponse"],h);const g=l(t,["text"]);return g!=null&&u(e,["text"],g),e}function JT(t){const e={};if(l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=l(t,["category"]);n!=null&&u(e,["category"],n);const o=l(t,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function WT(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),u(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],FT(o));const i=l(t,["googleSearchRetrieval"]);if(i!=null&&u(e,["googleSearchRetrieval"],i),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=l(t,["googleMaps"]);r!=null&&u(e,["googleMaps"],UT(r));const s=l(t,["urlContext"]);s!=null&&u(e,["urlContext"],s);const c=l(t,["computerUse"]);c!=null&&u(e,["computerUse"],c);const d=l(t,["codeExecution"]);return d!=null&&u(e,["codeExecution"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yo;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(yo||(yo={}));class Lr{constructor(e,n,o,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,i)}init(e,n,o){var i,r;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!o||Object.keys(o).length===0?s={config:{}}:typeof o=="object"?s=Object.assign({},o):s=o,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(r=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KT extends So{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Lr(yo.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=Bh(this.apiClient,e),o=n._url,i=J("{model}:batchGenerateContent",o),c=n.batch.inputConfig.requests,d=c.requests,f=[];for(const h of d){const g=Object.assign({},h);if(g.systemInstruction){const m=g.systemInstruction;delete g.systemInstruction;const w=g.request;w.systemInstruction=m,g.request=w}f.push(g)}return c.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const o=n?Object.assign({},n):{},i=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${i}`),o.dest===void 0){const r=this.getGcsUri(e),s=this.getBigqueryUri(e);if(r)r.endsWith(".jsonl")?o.dest=`${r.slice(0,-6)}/dest`:o.dest=`${r}_dest_${i}`;else if(s)o.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,i,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=TT(this.apiClient,e);return c=J("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>Au(h))}else{const f=Bh(this.apiClient,e);return c=J("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Ls(h))}}async createEmbeddingsInternal(e){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=CT(this.apiClient,e);return r=J("{model}:asyncBatchEmbedContent",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>Ls(d))}}async get(e){var n,o,i,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=LT(this.apiClient,e);return c=J("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>Au(h))}else{const f=DT(this.apiClient,e);return c=J("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Ls(h))}}async cancel(e){var n,o,i,r;let s="",c={};if(this.apiClient.isVertexAI()){const d=mT(this.apiClient,e);s=J("batchPredictionJobs/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const d=pT(this.apiClient,e);s=J("batches/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,o,i,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=bT(e);return c=J("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const g=$T(h),m=new Lh;return Object.assign(m,g),m})}else{const f=qT(e);return c=J("batches",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const g=OT(h),m=new Lh;return Object.assign(m,g),m})}}async delete(e){var n,o,i,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=wT(this.apiClient,e);return c=J("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>AT(h))}else{const f=ET(this.apiClient,e);return c=J("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>IT(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YT(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&u(e,["data"],n);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Gh(t){const e={},n=l(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>gS(r))),u(e,["parts"],i)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function XT(t,e){const n={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const i=l(t,["expireTime"]);e!==void 0&&i!=null&&u(e,["expireTime"],i);const r=l(t,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);const s=l(t,["contents"]);if(e!==void 0&&s!=null){let h=Ct(s);Array.isArray(h)&&(h=h.map(g=>Gh(g))),u(e,["contents"],h)}const c=l(t,["systemInstruction"]);e!==void 0&&c!=null&&u(e,["systemInstruction"],Gh(Ke(c)));const d=l(t,["tools"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>yS(g))),u(e,["tools"],h)}const f=l(t,["toolConfig"]);if(e!==void 0&&f!=null&&u(e,["toolConfig"],f),l(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function QT(t,e){const n={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const i=l(t,["expireTime"]);e!==void 0&&i!=null&&u(e,["expireTime"],i);const r=l(t,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);const s=l(t,["contents"]);if(e!==void 0&&s!=null){let g=Ct(s);Array.isArray(g)&&(g=g.map(m=>m)),u(e,["contents"],g)}const c=l(t,["systemInstruction"]);e!==void 0&&c!=null&&u(e,["systemInstruction"],Ke(c));const d=l(t,["tools"]);if(e!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(m=>_S(m))),u(e,["tools"],g)}const f=l(t,["toolConfig"]);e!==void 0&&f!=null&&u(e,["toolConfig"],f);const h=l(t,["kmsKeyName"]);return e!==void 0&&h!=null&&u(e,["encryption_spec","kmsKeyName"],h),n}function ZT(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["model"],Og(t,o));const i=l(e,["config"]);return i!=null&&XT(i,n),n}function jT(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["model"],Og(t,o));const i=l(e,["config"]);return i!=null&&QT(i,n),n}function eS(t,e){const n={},o=l(e,["name"]);return o!=null&&u(n,["_url","name"],cn(t,o)),n}function tS(t,e){const n={},o=l(e,["name"]);return o!=null&&u(n,["_url","name"],cn(t,o)),n}function nS(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function oS(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function iS(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function rS(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&u(e,["description"],n);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const i=l(t,["parameters"]);i!=null&&u(e,["parameters"],i);const r=l(t,["parametersJsonSchema"]);r!=null&&u(e,["parametersJsonSchema"],r);const s=l(t,["response"]);s!=null&&u(e,["response"],s);const c=l(t,["responseJsonSchema"]);return c!=null&&u(e,["responseJsonSchema"],c),e}function sS(t,e){const n={},o=l(e,["name"]);return o!=null&&u(n,["_url","name"],cn(t,o)),n}function lS(t,e){const n={},o=l(e,["name"]);return o!=null&&u(n,["_url","name"],cn(t,o)),n}function aS(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function uS(t){const e={},n=l(t,["timeRangeFilter"]);if(n!=null&&u(e,["timeRangeFilter"],n),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function cS(t,e){const n={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const i=l(t,["pageToken"]);return e!==void 0&&i!=null&&u(e,["_query","pageToken"],i),n}function dS(t,e){const n={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const i=l(t,["pageToken"]);return e!==void 0&&i!=null&&u(e,["_query","pageToken"],i),n}function fS(t){const e={},n=l(t,["config"]);return n!=null&&cS(n,e),e}function hS(t){const e={},n=l(t,["config"]);return n!=null&&dS(n,e),e}function pS(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const i=l(t,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),u(e,["cachedContents"],r)}return e}function mS(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const i=l(t,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),u(e,["cachedContents"],r)}return e}function gS(t){const e={},n=l(t,["videoMetadata"]);n!=null&&u(e,["videoMetadata"],n);const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const i=l(t,["inlineData"]);i!=null&&u(e,["inlineData"],YT(i));const r=l(t,["fileData"]);r!=null&&u(e,["fileData"],iS(r));const s=l(t,["thoughtSignature"]);s!=null&&u(e,["thoughtSignature"],s);const c=l(t,["functionCall"]);c!=null&&u(e,["functionCall"],c);const d=l(t,["codeExecutionResult"]);d!=null&&u(e,["codeExecutionResult"],d);const f=l(t,["executableCode"]);f!=null&&u(e,["executableCode"],f);const h=l(t,["functionResponse"]);h!=null&&u(e,["functionResponse"],h);const g=l(t,["text"]);return g!=null&&u(e,["text"],g),e}function yS(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),u(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],uS(o));const i=l(t,["googleSearchRetrieval"]);if(i!=null&&u(e,["googleSearchRetrieval"],i),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=l(t,["googleMaps"]);r!=null&&u(e,["googleMaps"],aS(r));const s=l(t,["urlContext"]);s!=null&&u(e,["urlContext"],s);const c=l(t,["computerUse"]);c!=null&&u(e,["computerUse"],c);const d=l(t,["codeExecution"]);return d!=null&&u(e,["codeExecution"],d),e}function _S(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(m=>rS(m))),u(e,["functionDeclarations"],g)}const o=l(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const i=l(t,["googleSearch"]);i!=null&&u(e,["googleSearch"],i);const r=l(t,["googleSearchRetrieval"]);r!=null&&u(e,["googleSearchRetrieval"],r);const s=l(t,["enterpriseWebSearch"]);s!=null&&u(e,["enterpriseWebSearch"],s);const c=l(t,["googleMaps"]);c!=null&&u(e,["googleMaps"],c);const d=l(t,["urlContext"]);d!=null&&u(e,["urlContext"],d);const f=l(t,["computerUse"]);f!=null&&u(e,["computerUse"],f);const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function vS(t,e){const n={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const i=l(t,["expireTime"]);return e!==void 0&&i!=null&&u(e,["expireTime"],i),n}function TS(t,e){const n={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const i=l(t,["expireTime"]);return e!==void 0&&i!=null&&u(e,["expireTime"],i),n}function SS(t,e){const n={},o=l(e,["name"]);o!=null&&u(n,["_url","name"],cn(t,o));const i=l(e,["config"]);return i!=null&&vS(i,n),n}function CS(t,e){const n={},o=l(e,["name"]);o!=null&&u(n,["_url","name"],cn(t,o));const i=l(e,["config"]);return i!=null&&TS(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ES extends So{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lr(yo.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,i,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=jT(this.apiClient,e);return c=J("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=ZT(this.apiClient,e);return c=J("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,o,i,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=lS(this.apiClient,e);return c=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=sS(this.apiClient,e);return c=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,o,i,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=tS(this.apiClient,e);return c=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const g=oS(h),m=new Mh;return Object.assign(m,g),m})}else{const f=eS(this.apiClient,e);return c=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const g=nS(h),m=new Mh;return Object.assign(m,g),m})}}async update(e){var n,o,i,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=CS(this.apiClient,e);return c=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=SS(this.apiClient,e);return c=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,o,i,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=hS(e);return c=J("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const g=mS(h),m=new Dh;return Object.assign(m,g),m})}else{const f=fS(e);return c=J("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const g=pS(h),m=new Dh;return Object.assign(m,g),m})}}}function Hh(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _e(t){return this instanceof _e?(this.v=t,this):new _e(t)}function Yo(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(w){return function(k){return Promise.resolve(k).then(w,g)}}function c(w,k){o[w]&&(i[w]=function(R){return new Promise(function(F,A){r.push([w,R,F,A])>1||d(w,R)})},k&&(i[w]=k(i[w])))}function d(w,k){try{f(o[w](k))}catch(R){m(r[0][3],R)}}function f(w){w.value instanceof _e?Promise.resolve(w.value.v).then(h,g):m(r[0][2],w)}function h(w){d("next",w)}function g(w){d("throw",w)}function m(w,k){w(k),r.shift(),r.length&&d(r[0][0],r[0][1])}}function nr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Hh=="function"?Hh(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(r){n[r]=t[r]&&function(s){return new Promise(function(c,d){s=t[r](s),i(c,d,s.done,s.value)})}}function i(r,s,c,d){Promise.resolve(d).then(function(f){r({value:f,done:c})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wS(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:ny(n)}function ny(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function IS(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function qh(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{const i=[];let r=!0;for(;o<n&&t[o].role==="model";)i.push(t[o]),r&&!ny(t[o])&&(r=!1),o++;r?e.push(...i):e.pop()}return e}class AS{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new xS(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class xS{constructor(e,n,o,i={},r=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=i,this.history=r,this.sendPromise=Promise.resolve(),IS(r)}async sendMessage(e){var n;await this.sendPromise;const o=Ke(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var r,s,c;const d=await i,f=(s=(r=d.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content,h=d.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let m=[];h!=null&&(m=(c=h.slice(g))!==null&&c!==void 0?c:[]);const w=f?[f]:[];this.recordHistory(o,w,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const o=Ke(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const r=await i;return this.processStreamResponse(r,o)}getHistory(e=!1){const n=e?qh(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var o,i;return Yo(this,arguments,function*(){var s,c,d,f;const h=[];try{for(var g=!0,m=nr(e),w;w=yield _e(m.next()),s=w.done,!s;g=!0){f=w.value,g=!1;const k=f;if(wS(k)){const R=(i=(o=k.candidates)===null||o===void 0?void 0:o[0])===null||i===void 0?void 0:i.content;R!==void 0&&h.push(R)}yield yield _e(k)}}catch(k){c={error:k}}finally{try{!g&&!s&&(d=m.return)&&(yield _e(d.call(m)))}finally{if(c)throw c.error}}this.recordHistory(n,h)})}recordHistory(e,n,o){let i=[];n.length>0&&n.every(r=>r.role!==void 0)?i=n:i.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...qh(o)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ml extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ml.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kS(t){const e={},n=l(t,["file"]);return n!=null&&u(e,["file"],n),e}function NS(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function PS(t){const e={},n=l(t,["name"]);return n!=null&&u(e,["_url","file"],Yg(n)),e}function RS(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function MS(t){const e={},n=l(t,["name"]);return n!=null&&u(e,["_url","file"],Yg(n)),e}function DS(t,e){const n={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const i=l(t,["pageToken"]);return e!==void 0&&i!=null&&u(e,["_query","pageToken"],i),n}function LS(t){const e={},n=l(t,["config"]);return n!=null&&DS(n,e),e}function US(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const i=l(t,["files"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),u(e,["files"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FS extends So{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lr(yo.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=LS(e);return r=J("files",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=US(d),h=new W0;return Object.assign(h,f),h})}}async createInternal(e){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=kS(e);return r=J("upload/v1beta/files",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const f=NS(d),h=new K0;return Object.assign(h,f),h})}}async get(e){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=MS(e);return r=J("files/{file}",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=PS(e);return r=J("files/{file}",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=RS(d),h=new Y0;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Us(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&u(e,["data"],n);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function VS(t){const e={},n=l(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>ZS(r))),u(e,["parts"],i)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function BS(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function GS(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&u(e,["description"],n);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const i=l(t,["parameters"]);i!=null&&u(e,["parameters"],i);const r=l(t,["parametersJsonSchema"]);r!=null&&u(e,["parametersJsonSchema"],r);const s=l(t,["response"]);s!=null&&u(e,["response"],s);const c=l(t,["responseJsonSchema"]);return c!=null&&u(e,["responseJsonSchema"],c),e}function HS(t){const e={},n=l(t,["modelSelectionConfig"]);n!=null&&u(e,["modelConfig"],n);const o=l(t,["audioTimestamp"]);o!=null&&u(e,["audioTimestamp"],o);const i=l(t,["candidateCount"]);i!=null&&u(e,["candidateCount"],i);const r=l(t,["enableAffectiveDialog"]);r!=null&&u(e,["enableAffectiveDialog"],r);const s=l(t,["frequencyPenalty"]);s!=null&&u(e,["frequencyPenalty"],s);const c=l(t,["logprobs"]);c!=null&&u(e,["logprobs"],c);const d=l(t,["maxOutputTokens"]);d!=null&&u(e,["maxOutputTokens"],d);const f=l(t,["mediaResolution"]);f!=null&&u(e,["mediaResolution"],f);const h=l(t,["presencePenalty"]);h!=null&&u(e,["presencePenalty"],h);const g=l(t,["responseJsonSchema"]);g!=null&&u(e,["responseJsonSchema"],g);const m=l(t,["responseLogprobs"]);m!=null&&u(e,["responseLogprobs"],m);const w=l(t,["responseMimeType"]);w!=null&&u(e,["responseMimeType"],w);const k=l(t,["responseModalities"]);k!=null&&u(e,["responseModalities"],k);const R=l(t,["responseSchema"]);R!=null&&u(e,["responseSchema"],R);const F=l(t,["routingConfig"]);F!=null&&u(e,["routingConfig"],F);const A=l(t,["seed"]);A!=null&&u(e,["seed"],A);const C=l(t,["speechConfig"]);C!=null&&u(e,["speechConfig"],oy(C));const x=l(t,["stopSequences"]);x!=null&&u(e,["stopSequences"],x);const D=l(t,["temperature"]);D!=null&&u(e,["temperature"],D);const B=l(t,["thinkingConfig"]);B!=null&&u(e,["thinkingConfig"],B);const V=l(t,["topK"]);V!=null&&u(e,["topK"],V);const E=l(t,["topP"]);return E!=null&&u(e,["topP"],E),e}function qS(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function bS(t){const e={},n=l(t,["timeRangeFilter"]);if(n!=null&&u(e,["timeRangeFilter"],n),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function OS(t,e){const n={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const i=l(t,["responseModalities"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","responseModalities"],i);const r=l(t,["temperature"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","temperature"],r);const s=l(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);const c=l(t,["topK"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","topK"],c);const d=l(t,["maxOutputTokens"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","maxOutputTokens"],d);const f=l(t,["mediaResolution"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","mediaResolution"],f);const h=l(t,["seed"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","seed"],h);const g=l(t,["speechConfig"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","speechConfig"],Vc(g));const m=l(t,["thinkingConfig"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","thinkingConfig"],m);const w=l(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],w);const k=l(t,["systemInstruction"]);e!==void 0&&k!=null&&u(e,["setup","systemInstruction"],VS(Ke(k)));const R=l(t,["tools"]);if(e!==void 0&&R!=null){let V=fi(R);Array.isArray(V)&&(V=V.map(E=>eC(di(E)))),u(e,["setup","tools"],V)}const F=l(t,["sessionResumption"]);e!==void 0&&F!=null&&u(e,["setup","sessionResumption"],jS(F));const A=l(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&u(e,["setup","inputAudioTranscription"],A);const C=l(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&u(e,["setup","outputAudioTranscription"],C);const x=l(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&u(e,["setup","realtimeInputConfig"],x);const D=l(t,["contextWindowCompression"]);e!==void 0&&D!=null&&u(e,["setup","contextWindowCompression"],D);const B=l(t,["proactivity"]);return e!==void 0&&B!=null&&u(e,["setup","proactivity"],B),n}function $S(t,e){const n={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],HS(o));const i=l(t,["responseModalities"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","responseModalities"],i);const r=l(t,["temperature"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","temperature"],r);const s=l(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);const c=l(t,["topK"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","topK"],c);const d=l(t,["maxOutputTokens"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","maxOutputTokens"],d);const f=l(t,["mediaResolution"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","mediaResolution"],f);const h=l(t,["seed"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","seed"],h);const g=l(t,["speechConfig"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","speechConfig"],oy(Vc(g)));const m=l(t,["thinkingConfig"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","thinkingConfig"],m);const w=l(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],w);const k=l(t,["systemInstruction"]);e!==void 0&&k!=null&&u(e,["setup","systemInstruction"],Ke(k));const R=l(t,["tools"]);if(e!==void 0&&R!=null){let V=fi(R);Array.isArray(V)&&(V=V.map(E=>tC(di(E)))),u(e,["setup","tools"],V)}const F=l(t,["sessionResumption"]);e!==void 0&&F!=null&&u(e,["setup","sessionResumption"],F);const A=l(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&u(e,["setup","inputAudioTranscription"],A);const C=l(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&u(e,["setup","outputAudioTranscription"],C);const x=l(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&u(e,["setup","realtimeInputConfig"],x);const D=l(t,["contextWindowCompression"]);e!==void 0&&D!=null&&u(e,["setup","contextWindowCompression"],D);const B=l(t,["proactivity"]);return e!==void 0&&B!=null&&u(e,["setup","proactivity"],B),n}function zS(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["setup","model"],ue(t,o));const i=l(e,["config"]);return i!=null&&u(n,["config"],OS(i,n)),n}function JS(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["setup","model"],ue(t,o));const i=l(e,["config"]);return i!=null&&u(n,["config"],$S(i,n)),n}function WS(t){const e={},n=l(t,["musicGenerationConfig"]);return n!=null&&u(e,["musicGenerationConfig"],n),e}function KS(t){const e={},n=l(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),u(e,["weightedPrompts"],o)}return e}function YS(t){const e={},n=l(t,["media"]);if(n!=null){let f=$g(n);Array.isArray(f)&&(f=f.map(h=>Us(h))),u(e,["mediaChunks"],f)}const o=l(t,["audio"]);o!=null&&u(e,["audio"],Us(Jg(o)));const i=l(t,["audioStreamEnd"]);i!=null&&u(e,["audioStreamEnd"],i);const r=l(t,["video"]);r!=null&&u(e,["video"],Us(zg(r)));const s=l(t,["text"]);s!=null&&u(e,["text"],s);const c=l(t,["activityStart"]);c!=null&&u(e,["activityStart"],c);const d=l(t,["activityEnd"]);return d!=null&&u(e,["activityEnd"],d),e}function XS(t){const e={},n=l(t,["media"]);if(n!=null){let f=$g(n);Array.isArray(f)&&(f=f.map(h=>h)),u(e,["mediaChunks"],f)}const o=l(t,["audio"]);o!=null&&u(e,["audio"],Jg(o));const i=l(t,["audioStreamEnd"]);i!=null&&u(e,["audioStreamEnd"],i);const r=l(t,["video"]);r!=null&&u(e,["video"],zg(r));const s=l(t,["text"]);s!=null&&u(e,["text"],s);const c=l(t,["activityStart"]);c!=null&&u(e,["activityStart"],c);const d=l(t,["activityEnd"]);return d!=null&&u(e,["activityEnd"],d),e}function QS(t){const e={},n=l(t,["setupComplete"]);n!=null&&u(e,["setupComplete"],n);const o=l(t,["serverContent"]);o!=null&&u(e,["serverContent"],o);const i=l(t,["toolCall"]);i!=null&&u(e,["toolCall"],i);const r=l(t,["toolCallCancellation"]);r!=null&&u(e,["toolCallCancellation"],r);const s=l(t,["usageMetadata"]);s!=null&&u(e,["usageMetadata"],nC(s));const c=l(t,["goAway"]);c!=null&&u(e,["goAway"],c);const d=l(t,["sessionResumptionUpdate"]);return d!=null&&u(e,["sessionResumptionUpdate"],d),e}function ZS(t){const e={},n=l(t,["videoMetadata"]);n!=null&&u(e,["videoMetadata"],n);const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const i=l(t,["inlineData"]);i!=null&&u(e,["inlineData"],Us(i));const r=l(t,["fileData"]);r!=null&&u(e,["fileData"],BS(r));const s=l(t,["thoughtSignature"]);s!=null&&u(e,["thoughtSignature"],s);const c=l(t,["functionCall"]);c!=null&&u(e,["functionCall"],c);const d=l(t,["codeExecutionResult"]);d!=null&&u(e,["codeExecutionResult"],d);const f=l(t,["executableCode"]);f!=null&&u(e,["executableCode"],f);const h=l(t,["functionResponse"]);h!=null&&u(e,["functionResponse"],h);const g=l(t,["text"]);return g!=null&&u(e,["text"],g),e}function jS(t){const e={},n=l(t,["handle"]);if(n!=null&&u(e,["handle"],n),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function oy(t){const e={},n=l(t,["voiceConfig"]);if(n!=null&&u(e,["voiceConfig"],n),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function eC(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),u(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],bS(o));const i=l(t,["googleSearchRetrieval"]);if(i!=null&&u(e,["googleSearchRetrieval"],i),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=l(t,["googleMaps"]);r!=null&&u(e,["googleMaps"],qS(r));const s=l(t,["urlContext"]);s!=null&&u(e,["urlContext"],s);const c=l(t,["computerUse"]);c!=null&&u(e,["computerUse"],c);const d=l(t,["codeExecution"]);return d!=null&&u(e,["codeExecution"],d),e}function tC(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(m=>GS(m))),u(e,["functionDeclarations"],g)}const o=l(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const i=l(t,["googleSearch"]);i!=null&&u(e,["googleSearch"],i);const r=l(t,["googleSearchRetrieval"]);r!=null&&u(e,["googleSearchRetrieval"],r);const s=l(t,["enterpriseWebSearch"]);s!=null&&u(e,["enterpriseWebSearch"],s);const c=l(t,["googleMaps"]);c!=null&&u(e,["googleMaps"],c);const d=l(t,["urlContext"]);d!=null&&u(e,["urlContext"],d);const f=l(t,["computerUse"]);f!=null&&u(e,["computerUse"],f);const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function nC(t){const e={},n=l(t,["promptTokenCount"]);n!=null&&u(e,["promptTokenCount"],n);const o=l(t,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const i=l(t,["candidatesTokenCount"]);i!=null&&u(e,["responseTokenCount"],i);const r=l(t,["toolUsePromptTokenCount"]);r!=null&&u(e,["toolUsePromptTokenCount"],r);const s=l(t,["thoughtsTokenCount"]);s!=null&&u(e,["thoughtsTokenCount"],s);const c=l(t,["totalTokenCount"]);c!=null&&u(e,["totalTokenCount"],c);const d=l(t,["promptTokensDetails"]);if(d!=null){let w=d;Array.isArray(w)&&(w=w.map(k=>k)),u(e,["promptTokensDetails"],w)}const f=l(t,["cacheTokensDetails"]);if(f!=null){let w=f;Array.isArray(w)&&(w=w.map(k=>k)),u(e,["cacheTokensDetails"],w)}const h=l(t,["candidatesTokensDetails"]);if(h!=null){let w=h;Array.isArray(w)&&(w=w.map(k=>k)),u(e,["responseTokensDetails"],w)}const g=l(t,["toolUsePromptTokensDetails"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(k=>k)),u(e,["toolUsePromptTokensDetails"],w)}const m=l(t,["trafficType"]);return m!=null&&u(e,["trafficType"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oC(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&u(e,["data"],n);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function iC(t){const e={},n=l(t,["content"]);n!=null&&u(e,["content"],n);const o=l(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],rC(o));const i=l(t,["tokenCount"]);i!=null&&u(e,["tokenCount"],i);const r=l(t,["finishReason"]);r!=null&&u(e,["finishReason"],r);const s=l(t,["urlContextMetadata"]);s!=null&&u(e,["urlContextMetadata"],s);const c=l(t,["avgLogprobs"]);c!=null&&u(e,["avgLogprobs"],c);const d=l(t,["groundingMetadata"]);d!=null&&u(e,["groundingMetadata"],d);const f=l(t,["index"]);f!=null&&u(e,["index"],f);const h=l(t,["logprobsResult"]);h!=null&&u(e,["logprobsResult"],h);const g=l(t,["safetyRatings"]);if(g!=null){let m=g;Array.isArray(m)&&(m=m.map(w=>w)),u(e,["safetyRatings"],m)}return e}function rC(t){const e={},n=l(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),u(e,["citations"],o)}return e}function sC(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["_url","model"],ue(t,o));const i=l(e,["contents"]);if(i!=null){let r=Ct(i);Array.isArray(r)&&(r=r.map(s=>s)),u(n,["contents"],r)}return n}function lC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["tokensInfo"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),u(e,["tokensInfo"],i)}return e}function aC(t){const e={},n=l(t,["values"]);n!=null&&u(e,["values"],n);const o=l(t,["statistics"]);return o!=null&&u(e,["statistics"],uC(o)),e}function uC(t){const e={},n=l(t,["truncated"]);n!=null&&u(e,["truncated"],n);const o=l(t,["token_count"]);return o!=null&&u(e,["tokenCount"],o),e}function Dl(t){const e={},n=l(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>pE(r))),u(e,["parts"],i)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function cC(t){const e={},n=l(t,["controlType"]);n!=null&&u(e,["controlType"],n);const o=l(t,["enableControlImageComputation"]);return o!=null&&u(e,["computeControl"],o),e}function dC(t){const e={};if(l(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function fC(t,e){const n={},o=l(t,["systemInstruction"]);e!==void 0&&o!=null&&u(e,["systemInstruction"],Ke(o));const i=l(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(c=>ay(c))),u(e,["tools"],s)}const r=l(t,["generationConfig"]);return e!==void 0&&r!=null&&u(e,["generationConfig"],tE(r)),n}function hC(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["_url","model"],ue(t,o));const i=l(e,["contents"]);if(i!=null){let s=Ct(i);Array.isArray(s)&&(s=s.map(c=>Dl(c))),u(n,["contents"],s)}const r=l(e,["config"]);return r!=null&&dC(r),n}function pC(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["_url","model"],ue(t,o));const i=l(e,["contents"]);if(i!=null){let s=Ct(i);Array.isArray(s)&&(s=s.map(c=>c)),u(n,["contents"],s)}const r=l(e,["config"]);return r!=null&&fC(r,n),n}function mC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["totalTokens"]);o!=null&&u(e,["totalTokens"],o);const i=l(t,["cachedContentTokenCount"]);return i!=null&&u(e,["cachedContentTokenCount"],i),e}function gC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["totalTokens"]);return o!=null&&u(e,["totalTokens"],o),e}function yC(t,e){const n={},o=l(e,["model"]);return o!=null&&u(n,["_url","name"],ue(t,o)),n}function _C(t,e){const n={},o=l(e,["model"]);return o!=null&&u(n,["_url","name"],ue(t,o)),n}function vC(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function TC(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function SC(t,e){const n={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const i=l(t,["negativePrompt"]);e!==void 0&&i!=null&&u(e,["parameters","negativePrompt"],i);const r=l(t,["numberOfImages"]);e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r);const s=l(t,["aspectRatio"]);e!==void 0&&s!=null&&u(e,["parameters","aspectRatio"],s);const c=l(t,["guidanceScale"]);e!==void 0&&c!=null&&u(e,["parameters","guidanceScale"],c);const d=l(t,["seed"]);e!==void 0&&d!=null&&u(e,["parameters","seed"],d);const f=l(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&u(e,["parameters","safetySetting"],f);const h=l(t,["personGeneration"]);e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h);const g=l(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&u(e,["parameters","includeSafetyAttributes"],g);const m=l(t,["includeRaiReason"]);e!==void 0&&m!=null&&u(e,["parameters","includeRaiReason"],m);const w=l(t,["language"]);e!==void 0&&w!=null&&u(e,["parameters","language"],w);const k=l(t,["outputMimeType"]);e!==void 0&&k!=null&&u(e,["parameters","outputOptions","mimeType"],k);const R=l(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&u(e,["parameters","outputOptions","compressionQuality"],R);const F=l(t,["addWatermark"]);e!==void 0&&F!=null&&u(e,["parameters","addWatermark"],F);const A=l(t,["labels"]);e!==void 0&&A!=null&&u(e,["labels"],A);const C=l(t,["editMode"]);e!==void 0&&C!=null&&u(e,["parameters","editMode"],C);const x=l(t,["baseSteps"]);return e!==void 0&&x!=null&&u(e,["parameters","editConfig","baseSteps"],x),n}function CC(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["_url","model"],ue(t,o));const i=l(e,["prompt"]);i!=null&&u(n,["instances[0]","prompt"],i);const r=l(e,["referenceImages"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>TE(d))),u(n,["instances[0]","referenceImages"],c)}const s=l(e,["config"]);return s!=null&&SC(s,n),n}function EC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>Ll(r))),u(e,["generatedImages"],i)}return e}function wC(t,e){const n={},o=l(t,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);const i=l(t,["title"]);e!==void 0&&i!=null&&u(e,["requests[]","title"],i);const r=l(t,["outputDimensionality"]);if(e!==void 0&&r!=null&&u(e,["requests[]","outputDimensionality"],r),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function IC(t,e){const n={},o=l(t,["taskType"]);e!==void 0&&o!=null&&u(e,["instances[]","task_type"],o);const i=l(t,["title"]);e!==void 0&&i!=null&&u(e,["instances[]","title"],i);const r=l(t,["outputDimensionality"]);e!==void 0&&r!=null&&u(e,["parameters","outputDimensionality"],r);const s=l(t,["mimeType"]);e!==void 0&&s!=null&&u(e,["instances[]","mimeType"],s);const c=l(t,["autoTruncate"]);return e!==void 0&&c!=null&&u(e,["parameters","autoTruncate"],c),n}function AC(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["_url","model"],ue(t,o));const i=l(e,["contents"]);if(i!=null){let c=Lc(t,i);Array.isArray(c)&&(c=c.map(d=>d)),u(n,["requests[]","content"],c)}const r=l(e,["config"]);r!=null&&wC(r,n);const s=l(e,["model"]);return s!==void 0&&u(n,["requests[]","model"],ue(t,s)),n}function xC(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["_url","model"],ue(t,o));const i=l(e,["contents"]);if(i!=null){let s=Lc(t,i);Array.isArray(s)&&(s=s.map(c=>c)),u(n,["instances[]","content"],s)}const r=l(e,["config"]);return r!=null&&IC(r,n),n}function kC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>s)),u(e,["embeddings"],r)}const i=l(t,["metadata"]);return i!=null&&u(e,["metadata"],i),e}function NC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["predictions[]","embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>aC(s))),u(e,["embeddings"],r)}const i=l(t,["metadata"]);return i!=null&&u(e,["metadata"],i),e}function PC(t){const e={},n=l(t,["endpoint"]);n!=null&&u(e,["name"],n);const o=l(t,["deployedModelId"]);return o!=null&&u(e,["deployedModelId"],o),e}function RC(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function MC(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&u(e,["description"],n);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const i=l(t,["parameters"]);i!=null&&u(e,["parameters"],i);const r=l(t,["parametersJsonSchema"]);r!=null&&u(e,["parametersJsonSchema"],r);const s=l(t,["response"]);s!=null&&u(e,["response"],s);const c=l(t,["responseJsonSchema"]);return c!=null&&u(e,["responseJsonSchema"],c),e}function DC(t,e,n){const o={},i=l(e,["systemInstruction"]);n!==void 0&&i!=null&&u(n,["systemInstruction"],Dl(Ke(i)));const r=l(e,["temperature"]);r!=null&&u(o,["temperature"],r);const s=l(e,["topP"]);s!=null&&u(o,["topP"],s);const c=l(e,["topK"]);c!=null&&u(o,["topK"],c);const d=l(e,["candidateCount"]);d!=null&&u(o,["candidateCount"],d);const f=l(e,["maxOutputTokens"]);f!=null&&u(o,["maxOutputTokens"],f);const h=l(e,["stopSequences"]);h!=null&&u(o,["stopSequences"],h);const g=l(e,["responseLogprobs"]);g!=null&&u(o,["responseLogprobs"],g);const m=l(e,["logprobs"]);m!=null&&u(o,["logprobs"],m);const w=l(e,["presencePenalty"]);w!=null&&u(o,["presencePenalty"],w);const k=l(e,["frequencyPenalty"]);k!=null&&u(o,["frequencyPenalty"],k);const R=l(e,["seed"]);R!=null&&u(o,["seed"],R);const F=l(e,["responseMimeType"]);F!=null&&u(o,["responseMimeType"],F);const A=l(e,["responseSchema"]);A!=null&&u(o,["responseSchema"],Uc(A));const C=l(e,["responseJsonSchema"]);if(C!=null&&u(o,["responseJsonSchema"],C),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=l(e,["safetySettings"]);if(n!==void 0&&x!=null){let M=x;Array.isArray(M)&&(M=M.map(N=>SE(N))),u(n,["safetySettings"],M)}const D=l(e,["tools"]);if(n!==void 0&&D!=null){let M=fi(D);Array.isArray(M)&&(M=M.map(N=>xE(di(N)))),u(n,["tools"],M)}const B=l(e,["toolConfig"]);if(n!==void 0&&B!=null&&u(n,["toolConfig"],B),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=l(e,["cachedContent"]);n!==void 0&&V!=null&&u(n,["cachedContent"],cn(t,V));const E=l(e,["responseModalities"]);E!=null&&u(o,["responseModalities"],E);const v=l(e,["mediaResolution"]);v!=null&&u(o,["mediaResolution"],v);const S=l(e,["speechConfig"]);if(S!=null&&u(o,["speechConfig"],Fc(S)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=l(e,["thinkingConfig"]);I!=null&&u(o,["thinkingConfig"],I);const P=l(e,["imageConfig"]);return P!=null&&u(o,["imageConfig"],P),o}function LC(t,e,n){const o={},i=l(e,["systemInstruction"]);n!==void 0&&i!=null&&u(n,["systemInstruction"],Ke(i));const r=l(e,["temperature"]);r!=null&&u(o,["temperature"],r);const s=l(e,["topP"]);s!=null&&u(o,["topP"],s);const c=l(e,["topK"]);c!=null&&u(o,["topK"],c);const d=l(e,["candidateCount"]);d!=null&&u(o,["candidateCount"],d);const f=l(e,["maxOutputTokens"]);f!=null&&u(o,["maxOutputTokens"],f);const h=l(e,["stopSequences"]);h!=null&&u(o,["stopSequences"],h);const g=l(e,["responseLogprobs"]);g!=null&&u(o,["responseLogprobs"],g);const m=l(e,["logprobs"]);m!=null&&u(o,["logprobs"],m);const w=l(e,["presencePenalty"]);w!=null&&u(o,["presencePenalty"],w);const k=l(e,["frequencyPenalty"]);k!=null&&u(o,["frequencyPenalty"],k);const R=l(e,["seed"]);R!=null&&u(o,["seed"],R);const F=l(e,["responseMimeType"]);F!=null&&u(o,["responseMimeType"],F);const A=l(e,["responseSchema"]);A!=null&&u(o,["responseSchema"],Uc(A));const C=l(e,["responseJsonSchema"]);C!=null&&u(o,["responseJsonSchema"],C);const x=l(e,["routingConfig"]);x!=null&&u(o,["routingConfig"],x);const D=l(e,["modelSelectionConfig"]);D!=null&&u(o,["modelConfig"],D);const B=l(e,["safetySettings"]);if(n!==void 0&&B!=null){let me=B;Array.isArray(me)&&(me=me.map($e=>$e)),u(n,["safetySettings"],me)}const V=l(e,["tools"]);if(n!==void 0&&V!=null){let me=fi(V);Array.isArray(me)&&(me=me.map($e=>ay(di($e)))),u(n,["tools"],me)}const E=l(e,["toolConfig"]);n!==void 0&&E!=null&&u(n,["toolConfig"],E);const v=l(e,["labels"]);n!==void 0&&v!=null&&u(n,["labels"],v);const S=l(e,["cachedContent"]);n!==void 0&&S!=null&&u(n,["cachedContent"],cn(t,S));const I=l(e,["responseModalities"]);I!=null&&u(o,["responseModalities"],I);const P=l(e,["mediaResolution"]);P!=null&&u(o,["mediaResolution"],P);const M=l(e,["speechConfig"]);M!=null&&u(o,["speechConfig"],ly(Fc(M)));const N=l(e,["audioTimestamp"]);N!=null&&u(o,["audioTimestamp"],N);const Y=l(e,["thinkingConfig"]);Y!=null&&u(o,["thinkingConfig"],Y);const ne=l(e,["imageConfig"]);return ne!=null&&u(o,["imageConfig"],ne),o}function bh(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["_url","model"],ue(t,o));const i=l(e,["contents"]);if(i!=null){let s=Ct(i);Array.isArray(s)&&(s=s.map(c=>Dl(c))),u(n,["contents"],s)}const r=l(e,["config"]);return r!=null&&u(n,["generationConfig"],DC(t,r,n)),n}function Oh(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["_url","model"],ue(t,o));const i=l(e,["contents"]);if(i!=null){let s=Ct(i);Array.isArray(s)&&(s=s.map(c=>c)),u(n,["contents"],s)}const r=l(e,["config"]);return r!=null&&u(n,["generationConfig"],LC(t,r,n)),n}function $h(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>iC(f))),u(e,["candidates"],d)}const i=l(t,["modelVersion"]);i!=null&&u(e,["modelVersion"],i);const r=l(t,["promptFeedback"]);r!=null&&u(e,["promptFeedback"],r);const s=l(t,["responseId"]);s!=null&&u(e,["responseId"],s);const c=l(t,["usageMetadata"]);return c!=null&&u(e,["usageMetadata"],c),e}function zh(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["candidates"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>h)),u(e,["candidates"],f)}const i=l(t,["createTime"]);i!=null&&u(e,["createTime"],i);const r=l(t,["modelVersion"]);r!=null&&u(e,["modelVersion"],r);const s=l(t,["promptFeedback"]);s!=null&&u(e,["promptFeedback"],s);const c=l(t,["responseId"]);c!=null&&u(e,["responseId"],c);const d=l(t,["usageMetadata"]);return d!=null&&u(e,["usageMetadata"],d),e}function UC(t,e){const n={};if(l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=l(t,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const i=l(t,["aspectRatio"]);e!==void 0&&i!=null&&u(e,["parameters","aspectRatio"],i);const r=l(t,["guidanceScale"]);if(e!==void 0&&r!=null&&u(e,["parameters","guidanceScale"],r),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=l(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&u(e,["parameters","safetySetting"],s);const c=l(t,["personGeneration"]);e!==void 0&&c!=null&&u(e,["parameters","personGeneration"],c);const d=l(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&u(e,["parameters","includeSafetyAttributes"],d);const f=l(t,["includeRaiReason"]);e!==void 0&&f!=null&&u(e,["parameters","includeRaiReason"],f);const h=l(t,["language"]);e!==void 0&&h!=null&&u(e,["parameters","language"],h);const g=l(t,["outputMimeType"]);e!==void 0&&g!=null&&u(e,["parameters","outputOptions","mimeType"],g);const m=l(t,["outputCompressionQuality"]);if(e!==void 0&&m!=null&&u(e,["parameters","outputOptions","compressionQuality"],m),l(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=l(t,["imageSize"]);if(e!==void 0&&w!=null&&u(e,["parameters","sampleImageSize"],w),l(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function FC(t,e){const n={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const i=l(t,["negativePrompt"]);e!==void 0&&i!=null&&u(e,["parameters","negativePrompt"],i);const r=l(t,["numberOfImages"]);e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r);const s=l(t,["aspectRatio"]);e!==void 0&&s!=null&&u(e,["parameters","aspectRatio"],s);const c=l(t,["guidanceScale"]);e!==void 0&&c!=null&&u(e,["parameters","guidanceScale"],c);const d=l(t,["seed"]);e!==void 0&&d!=null&&u(e,["parameters","seed"],d);const f=l(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&u(e,["parameters","safetySetting"],f);const h=l(t,["personGeneration"]);e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h);const g=l(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&u(e,["parameters","includeSafetyAttributes"],g);const m=l(t,["includeRaiReason"]);e!==void 0&&m!=null&&u(e,["parameters","includeRaiReason"],m);const w=l(t,["language"]);e!==void 0&&w!=null&&u(e,["parameters","language"],w);const k=l(t,["outputMimeType"]);e!==void 0&&k!=null&&u(e,["parameters","outputOptions","mimeType"],k);const R=l(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&u(e,["parameters","outputOptions","compressionQuality"],R);const F=l(t,["addWatermark"]);e!==void 0&&F!=null&&u(e,["parameters","addWatermark"],F);const A=l(t,["labels"]);e!==void 0&&A!=null&&u(e,["labels"],A);const C=l(t,["imageSize"]);e!==void 0&&C!=null&&u(e,["parameters","sampleImageSize"],C);const x=l(t,["enhancePrompt"]);return e!==void 0&&x!=null&&u(e,["parameters","enhancePrompt"],x),n}function VC(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["_url","model"],ue(t,o));const i=l(e,["prompt"]);i!=null&&u(n,["instances[0]","prompt"],i);const r=l(e,["config"]);return r!=null&&UC(r,n),n}function BC(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["_url","model"],ue(t,o));const i=l(e,["prompt"]);i!=null&&u(n,["instances[0]","prompt"],i);const r=l(e,["config"]);return r!=null&&FC(r,n),n}function GC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>QC(s))),u(e,["generatedImages"],r)}const i=l(t,["positivePromptSafetyAttributes"]);return i!=null&&u(e,["positivePromptSafetyAttributes"],ry(i)),e}function HC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>Ll(s))),u(e,["generatedImages"],r)}const i=l(t,["positivePromptSafetyAttributes"]);return i!=null&&u(e,["positivePromptSafetyAttributes"],sy(i)),e}function qC(t,e){const n={},o=l(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o),l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=l(t,["durationSeconds"]);if(e!==void 0&&i!=null&&u(e,["parameters","durationSeconds"],i),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=l(t,["aspectRatio"]);e!==void 0&&r!=null&&u(e,["parameters","aspectRatio"],r);const s=l(t,["resolution"]);e!==void 0&&s!=null&&u(e,["parameters","resolution"],s);const c=l(t,["personGeneration"]);if(e!==void 0&&c!=null&&u(e,["parameters","personGeneration"],c),l(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=l(t,["negativePrompt"]);e!==void 0&&d!=null&&u(e,["parameters","negativePrompt"],d);const f=l(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&u(e,["parameters","enhancePrompt"],f),l(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=l(t,["lastFrame"]);e!==void 0&&h!=null&&u(e,["instances[0]","lastFrame"],Ul(h));const g=l(t,["referenceImages"]);if(e!==void 0&&g!=null){let m=g;Array.isArray(m)&&(m=m.map(w=>HE(w))),u(e,["instances[0]","referenceImages"],m)}if(l(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(l(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function bC(t,e){const n={},o=l(t,["numberOfVideos"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const i=l(t,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const r=l(t,["fps"]);e!==void 0&&r!=null&&u(e,["parameters","fps"],r);const s=l(t,["durationSeconds"]);e!==void 0&&s!=null&&u(e,["parameters","durationSeconds"],s);const c=l(t,["seed"]);e!==void 0&&c!=null&&u(e,["parameters","seed"],c);const d=l(t,["aspectRatio"]);e!==void 0&&d!=null&&u(e,["parameters","aspectRatio"],d);const f=l(t,["resolution"]);e!==void 0&&f!=null&&u(e,["parameters","resolution"],f);const h=l(t,["personGeneration"]);e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h);const g=l(t,["pubsubTopic"]);e!==void 0&&g!=null&&u(e,["parameters","pubsubTopic"],g);const m=l(t,["negativePrompt"]);e!==void 0&&m!=null&&u(e,["parameters","negativePrompt"],m);const w=l(t,["enhancePrompt"]);e!==void 0&&w!=null&&u(e,["parameters","enhancePrompt"],w);const k=l(t,["generateAudio"]);e!==void 0&&k!=null&&u(e,["parameters","generateAudio"],k);const R=l(t,["lastFrame"]);e!==void 0&&R!=null&&u(e,["instances[0]","lastFrame"],Ft(R));const F=l(t,["referenceImages"]);if(e!==void 0&&F!=null){let x=F;Array.isArray(x)&&(x=x.map(D=>qE(D))),u(e,["instances[0]","referenceImages"],x)}const A=l(t,["mask"]);e!==void 0&&A!=null&&u(e,["instances[0]","mask"],GE(A));const C=l(t,["compressionQuality"]);return e!==void 0&&C!=null&&u(e,["parameters","compressionQuality"],C),n}function OC(t){const e={},n=l(t,["name"]);n!=null&&u(e,["name"],n);const o=l(t,["metadata"]);o!=null&&u(e,["metadata"],o);const i=l(t,["done"]);i!=null&&u(e,["done"],i);const r=l(t,["error"]);r!=null&&u(e,["error"],r);const s=l(t,["response","generateVideoResponse"]);return s!=null&&u(e,["response"],WC(s)),e}function $C(t){const e={},n=l(t,["name"]);n!=null&&u(e,["name"],n);const o=l(t,["metadata"]);o!=null&&u(e,["metadata"],o);const i=l(t,["done"]);i!=null&&u(e,["done"],i);const r=l(t,["error"]);r!=null&&u(e,["error"],r);const s=l(t,["response"]);return s!=null&&u(e,["response"],KC(s)),e}function zC(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["_url","model"],ue(t,o));const i=l(e,["prompt"]);i!=null&&u(n,["instances[0]","prompt"],i);const r=l(e,["image"]);r!=null&&u(n,["instances[0]","image"],Ul(r));const s=l(e,["video"]);s!=null&&u(n,["instances[0]","video"],uy(s));const c=l(e,["source"]);c!=null&&YC(c,n);const d=l(e,["config"]);return d!=null&&qC(d,n),n}function JC(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["_url","model"],ue(t,o));const i=l(e,["prompt"]);i!=null&&u(n,["instances[0]","prompt"],i);const r=l(e,["image"]);r!=null&&u(n,["instances[0]","image"],Ft(r));const s=l(e,["video"]);s!=null&&u(n,["instances[0]","video"],cy(s));const c=l(e,["source"]);c!=null&&XC(c,n);const d=l(e,["config"]);return d!=null&&bC(d,n),n}function WC(t){const e={},n=l(t,["generatedSamples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>jC(s))),u(e,["generatedVideos"],r)}const o=l(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const i=l(t,["raiMediaFilteredReasons"]);return i!=null&&u(e,["raiMediaFilteredReasons"],i),e}function KC(t){const e={},n=l(t,["videos"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>eE(s))),u(e,["generatedVideos"],r)}const o=l(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const i=l(t,["raiMediaFilteredReasons"]);return i!=null&&u(e,["raiMediaFilteredReasons"],i),e}function YC(t,e){const n={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const i=l(t,["image"]);e!==void 0&&i!=null&&u(e,["instances[0]","image"],Ul(i));const r=l(t,["video"]);return e!==void 0&&r!=null&&u(e,["instances[0]","video"],uy(r)),n}function XC(t,e){const n={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const i=l(t,["image"]);e!==void 0&&i!=null&&u(e,["instances[0]","image"],Ft(i));const r=l(t,["video"]);return e!==void 0&&r!=null&&u(e,["instances[0]","video"],cy(r)),n}function QC(t){const e={},n=l(t,["_self"]);n!=null&&u(e,["image"],sE(n));const o=l(t,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const i=l(t,["_self"]);return i!=null&&u(e,["safetyAttributes"],ry(i)),e}function Ll(t){const e={},n=l(t,["_self"]);n!=null&&u(e,["image"],iy(n));const o=l(t,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const i=l(t,["_self"]);i!=null&&u(e,["safetyAttributes"],sy(i));const r=l(t,["prompt"]);return r!=null&&u(e,["enhancedPrompt"],r),e}function ZC(t){const e={},n=l(t,["_self"]);n!=null&&u(e,["mask"],iy(n));const o=l(t,["labels"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),u(e,["labels"],i)}return e}function jC(t){const e={},n=l(t,["video"]);return n!=null&&u(e,["video"],VE(n)),e}function eE(t){const e={},n=l(t,["_self"]);return n!=null&&u(e,["video"],BE(n)),e}function tE(t){const e={},n=l(t,["modelSelectionConfig"]);n!=null&&u(e,["modelConfig"],n);const o=l(t,["audioTimestamp"]);o!=null&&u(e,["audioTimestamp"],o);const i=l(t,["candidateCount"]);i!=null&&u(e,["candidateCount"],i);const r=l(t,["enableAffectiveDialog"]);r!=null&&u(e,["enableAffectiveDialog"],r);const s=l(t,["frequencyPenalty"]);s!=null&&u(e,["frequencyPenalty"],s);const c=l(t,["logprobs"]);c!=null&&u(e,["logprobs"],c);const d=l(t,["maxOutputTokens"]);d!=null&&u(e,["maxOutputTokens"],d);const f=l(t,["mediaResolution"]);f!=null&&u(e,["mediaResolution"],f);const h=l(t,["presencePenalty"]);h!=null&&u(e,["presencePenalty"],h);const g=l(t,["responseJsonSchema"]);g!=null&&u(e,["responseJsonSchema"],g);const m=l(t,["responseLogprobs"]);m!=null&&u(e,["responseLogprobs"],m);const w=l(t,["responseMimeType"]);w!=null&&u(e,["responseMimeType"],w);const k=l(t,["responseModalities"]);k!=null&&u(e,["responseModalities"],k);const R=l(t,["responseSchema"]);R!=null&&u(e,["responseSchema"],R);const F=l(t,["routingConfig"]);F!=null&&u(e,["routingConfig"],F);const A=l(t,["seed"]);A!=null&&u(e,["seed"],A);const C=l(t,["speechConfig"]);C!=null&&u(e,["speechConfig"],ly(C));const x=l(t,["stopSequences"]);x!=null&&u(e,["stopSequences"],x);const D=l(t,["temperature"]);D!=null&&u(e,["temperature"],D);const B=l(t,["thinkingConfig"]);B!=null&&u(e,["thinkingConfig"],B);const V=l(t,["topK"]);V!=null&&u(e,["topK"],V);const E=l(t,["topP"]);return E!=null&&u(e,["topP"],E),e}function nE(t,e){const n={},o=l(e,["model"]);return o!=null&&u(n,["_url","name"],ue(t,o)),n}function oE(t,e){const n={},o=l(e,["model"]);return o!=null&&u(n,["_url","name"],ue(t,o)),n}function iE(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function rE(t){const e={},n=l(t,["timeRangeFilter"]);if(n!=null&&u(e,["timeRangeFilter"],n),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function sE(t){const e={},n=l(t,["bytesBase64Encoded"]);n!=null&&u(e,["imageBytes"],$n(n));const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function iy(t){const e={},n=l(t,["gcsUri"]);n!=null&&u(e,["gcsUri"],n);const o=l(t,["bytesBase64Encoded"]);o!=null&&u(e,["imageBytes"],$n(o));const i=l(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Ul(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=l(t,["imageBytes"]);n!=null&&u(e,["bytesBase64Encoded"],$n(n));const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Ft(t){const e={},n=l(t,["gcsUri"]);n!=null&&u(e,["gcsUri"],n);const o=l(t,["imageBytes"]);o!=null&&u(e,["bytesBase64Encoded"],$n(o));const i=l(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function lE(t,e,n){const o={},i=l(e,["pageSize"]);n!==void 0&&i!=null&&u(n,["_query","pageSize"],i);const r=l(e,["pageToken"]);n!==void 0&&r!=null&&u(n,["_query","pageToken"],r);const s=l(e,["filter"]);n!==void 0&&s!=null&&u(n,["_query","filter"],s);const c=l(e,["queryBase"]);return n!==void 0&&c!=null&&u(n,["_url","models_url"],Xg(t,c)),o}function aE(t,e,n){const o={},i=l(e,["pageSize"]);n!==void 0&&i!=null&&u(n,["_query","pageSize"],i);const r=l(e,["pageToken"]);n!==void 0&&r!=null&&u(n,["_query","pageToken"],r);const s=l(e,["filter"]);n!==void 0&&s!=null&&u(n,["_query","filter"],s);const c=l(e,["queryBase"]);return n!==void 0&&c!=null&&u(n,["_url","models_url"],Xg(t,c)),o}function uE(t,e){const n={},o=l(e,["config"]);return o!=null&&lE(t,o,n),n}function cE(t,e){const n={},o=l(e,["config"]);return o!=null&&aE(t,o,n),n}function dE(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const i=l(t,["_self"]);if(i!=null){let r=Qg(i);Array.isArray(r)&&(r=r.map(s=>xu(s))),u(e,["models"],r)}return e}function fE(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const i=l(t,["_self"]);if(i!=null){let r=Qg(i);Array.isArray(r)&&(r=r.map(s=>ku(s))),u(e,["models"],r)}return e}function hE(t){const e={},n=l(t,["maskMode"]);n!=null&&u(e,["maskMode"],n);const o=l(t,["segmentationClasses"]);o!=null&&u(e,["maskClasses"],o);const i=l(t,["maskDilation"]);return i!=null&&u(e,["dilation"],i),e}function xu(t){const e={},n=l(t,["name"]);n!=null&&u(e,["name"],n);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const i=l(t,["description"]);i!=null&&u(e,["description"],i);const r=l(t,["version"]);r!=null&&u(e,["version"],r);const s=l(t,["_self"]);s!=null&&u(e,["tunedModelInfo"],kE(s));const c=l(t,["inputTokenLimit"]);c!=null&&u(e,["inputTokenLimit"],c);const d=l(t,["outputTokenLimit"]);d!=null&&u(e,["outputTokenLimit"],d);const f=l(t,["supportedGenerationMethods"]);return f!=null&&u(e,["supportedActions"],f),e}function ku(t){const e={},n=l(t,["name"]);n!=null&&u(e,["name"],n);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const i=l(t,["description"]);i!=null&&u(e,["description"],i);const r=l(t,["versionId"]);r!=null&&u(e,["version"],r);const s=l(t,["deployedModels"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(m=>PC(m))),u(e,["endpoints"],g)}const c=l(t,["labels"]);c!=null&&u(e,["labels"],c);const d=l(t,["_self"]);d!=null&&u(e,["tunedModelInfo"],NE(d));const f=l(t,["defaultCheckpointId"]);f!=null&&u(e,["defaultCheckpointId"],f);const h=l(t,["checkpoints"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(m=>m)),u(e,["checkpoints"],g)}return e}function pE(t){const e={},n=l(t,["videoMetadata"]);n!=null&&u(e,["videoMetadata"],n);const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const i=l(t,["inlineData"]);i!=null&&u(e,["inlineData"],oC(i));const r=l(t,["fileData"]);r!=null&&u(e,["fileData"],RC(r));const s=l(t,["thoughtSignature"]);s!=null&&u(e,["thoughtSignature"],s);const c=l(t,["functionCall"]);c!=null&&u(e,["functionCall"],c);const d=l(t,["codeExecutionResult"]);d!=null&&u(e,["codeExecutionResult"],d);const f=l(t,["executableCode"]);f!=null&&u(e,["executableCode"],f);const h=l(t,["functionResponse"]);h!=null&&u(e,["functionResponse"],h);const g=l(t,["text"]);return g!=null&&u(e,["text"],g),e}function mE(t){const e={},n=l(t,["productImage"]);return n!=null&&u(e,["image"],Ft(n)),e}function gE(t,e){const n={},o=l(t,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const i=l(t,["baseSteps"]);e!==void 0&&i!=null&&u(e,["parameters","editConfig","baseSteps"],i);const r=l(t,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);const s=l(t,["seed"]);e!==void 0&&s!=null&&u(e,["parameters","seed"],s);const c=l(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&u(e,["parameters","safetySetting"],c);const d=l(t,["personGeneration"]);e!==void 0&&d!=null&&u(e,["parameters","personGeneration"],d);const f=l(t,["addWatermark"]);e!==void 0&&f!=null&&u(e,["parameters","addWatermark"],f);const h=l(t,["outputMimeType"]);e!==void 0&&h!=null&&u(e,["parameters","outputOptions","mimeType"],h);const g=l(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&u(e,["parameters","outputOptions","compressionQuality"],g);const m=l(t,["enhancePrompt"]);e!==void 0&&m!=null&&u(e,["parameters","enhancePrompt"],m);const w=l(t,["labels"]);return e!==void 0&&w!=null&&u(e,["labels"],w),n}function yE(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["_url","model"],ue(t,o));const i=l(e,["source"]);i!=null&&vE(i,n);const r=l(e,["config"]);return r!=null&&gE(r,n),n}function _E(t){const e={},n=l(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>Ll(i))),u(e,["generatedImages"],o)}return e}function vE(t,e){const n={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const i=l(t,["personImage"]);e!==void 0&&i!=null&&u(e,["instances[0]","personImage","image"],Ft(i));const r=l(t,["productImages"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>mE(c))),u(e,["instances[0]","productImages"],s)}return n}function TE(t){const e={},n=l(t,["referenceImage"]);n!=null&&u(e,["referenceImage"],Ft(n));const o=l(t,["referenceId"]);o!=null&&u(e,["referenceId"],o);const i=l(t,["referenceType"]);i!=null&&u(e,["referenceType"],i);const r=l(t,["maskImageConfig"]);r!=null&&u(e,["maskImageConfig"],hE(r));const s=l(t,["controlImageConfig"]);s!=null&&u(e,["controlImageConfig"],cC(s));const c=l(t,["styleImageConfig"]);c!=null&&u(e,["styleImageConfig"],c);const d=l(t,["subjectImageConfig"]);return d!=null&&u(e,["subjectImageConfig"],d),e}function ry(t){const e={},n=l(t,["safetyAttributes","categories"]);n!=null&&u(e,["categories"],n);const o=l(t,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const i=l(t,["contentType"]);return i!=null&&u(e,["contentType"],i),e}function sy(t){const e={},n=l(t,["safetyAttributes","categories"]);n!=null&&u(e,["categories"],n);const o=l(t,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const i=l(t,["contentType"]);return i!=null&&u(e,["contentType"],i),e}function SE(t){const e={};if(l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=l(t,["category"]);n!=null&&u(e,["category"],n);const o=l(t,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function CE(t){const e={},n=l(t,["image"]);return n!=null&&u(e,["image"],Ft(n)),e}function EE(t,e){const n={},o=l(t,["mode"]);e!==void 0&&o!=null&&u(e,["parameters","mode"],o);const i=l(t,["maxPredictions"]);e!==void 0&&i!=null&&u(e,["parameters","maxPredictions"],i);const r=l(t,["confidenceThreshold"]);e!==void 0&&r!=null&&u(e,["parameters","confidenceThreshold"],r);const s=l(t,["maskDilation"]);e!==void 0&&s!=null&&u(e,["parameters","maskDilation"],s);const c=l(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&u(e,["parameters","binaryColorThreshold"],c);const d=l(t,["labels"]);return e!==void 0&&d!=null&&u(e,["labels"],d),n}function wE(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["_url","model"],ue(t,o));const i=l(e,["source"]);i!=null&&AE(i,n);const r=l(e,["config"]);return r!=null&&EE(r,n),n}function IE(t){const e={},n=l(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>ZC(i))),u(e,["generatedMasks"],o)}return e}function AE(t,e){const n={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const i=l(t,["image"]);e!==void 0&&i!=null&&u(e,["instances[0]","image"],Ft(i));const r=l(t,["scribbleImage"]);return e!==void 0&&r!=null&&u(e,["instances[0]","scribble"],CE(r)),n}function ly(t){const e={},n=l(t,["voiceConfig"]);if(n!=null&&u(e,["voiceConfig"],n),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function xE(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),u(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],rE(o));const i=l(t,["googleSearchRetrieval"]);if(i!=null&&u(e,["googleSearchRetrieval"],i),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=l(t,["googleMaps"]);r!=null&&u(e,["googleMaps"],iE(r));const s=l(t,["urlContext"]);s!=null&&u(e,["urlContext"],s);const c=l(t,["computerUse"]);c!=null&&u(e,["computerUse"],c);const d=l(t,["codeExecution"]);return d!=null&&u(e,["codeExecution"],d),e}function ay(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(m=>MC(m))),u(e,["functionDeclarations"],g)}const o=l(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const i=l(t,["googleSearch"]);i!=null&&u(e,["googleSearch"],i);const r=l(t,["googleSearchRetrieval"]);r!=null&&u(e,["googleSearchRetrieval"],r);const s=l(t,["enterpriseWebSearch"]);s!=null&&u(e,["enterpriseWebSearch"],s);const c=l(t,["googleMaps"]);c!=null&&u(e,["googleMaps"],c);const d=l(t,["urlContext"]);d!=null&&u(e,["urlContext"],d);const f=l(t,["computerUse"]);f!=null&&u(e,["computerUse"],f);const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function kE(t){const e={},n=l(t,["baseModel"]);n!=null&&u(e,["baseModel"],n);const o=l(t,["createTime"]);o!=null&&u(e,["createTime"],o);const i=l(t,["updateTime"]);return i!=null&&u(e,["updateTime"],i),e}function NE(t){const e={},n=l(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&u(e,["baseModel"],n);const o=l(t,["createTime"]);o!=null&&u(e,["createTime"],o);const i=l(t,["updateTime"]);return i!=null&&u(e,["updateTime"],i),e}function PE(t,e){const n={},o=l(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const i=l(t,["description"]);e!==void 0&&i!=null&&u(e,["description"],i);const r=l(t,["defaultCheckpointId"]);return e!==void 0&&r!=null&&u(e,["defaultCheckpointId"],r),n}function RE(t,e){const n={},o=l(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const i=l(t,["description"]);e!==void 0&&i!=null&&u(e,["description"],i);const r=l(t,["defaultCheckpointId"]);return e!==void 0&&r!=null&&u(e,["defaultCheckpointId"],r),n}function ME(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["_url","name"],ue(t,o));const i=l(e,["config"]);return i!=null&&PE(i,n),n}function DE(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["_url","model"],ue(t,o));const i=l(e,["config"]);return i!=null&&RE(i,n),n}function LE(t,e){const n={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const i=l(t,["includeRaiReason"]);e!==void 0&&i!=null&&u(e,["parameters","includeRaiReason"],i);const r=l(t,["outputMimeType"]);e!==void 0&&r!=null&&u(e,["parameters","outputOptions","mimeType"],r);const s=l(t,["outputCompressionQuality"]);e!==void 0&&s!=null&&u(e,["parameters","outputOptions","compressionQuality"],s);const c=l(t,["enhanceInputImage"]);e!==void 0&&c!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],c);const d=l(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=l(t,["labels"]);e!==void 0&&f!=null&&u(e,["labels"],f);const h=l(t,["numberOfImages"]);e!==void 0&&h!=null&&u(e,["parameters","sampleCount"],h);const g=l(t,["mode"]);return e!==void 0&&g!=null&&u(e,["parameters","mode"],g),n}function UE(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["_url","model"],ue(t,o));const i=l(e,["image"]);i!=null&&u(n,["instances[0]","image"],Ft(i));const r=l(e,["upscaleFactor"]);r!=null&&u(n,["parameters","upscaleConfig","upscaleFactor"],r);const s=l(e,["config"]);return s!=null&&LE(s,n),n}function FE(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>Ll(r))),u(e,["generatedImages"],i)}return e}function VE(t){const e={},n=l(t,["uri"]);n!=null&&u(e,["uri"],n);const o=l(t,["encodedVideo"]);o!=null&&u(e,["videoBytes"],$n(o));const i=l(t,["encoding"]);return i!=null&&u(e,["mimeType"],i),e}function BE(t){const e={},n=l(t,["gcsUri"]);n!=null&&u(e,["uri"],n);const o=l(t,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],$n(o));const i=l(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function GE(t){const e={},n=l(t,["image"]);n!=null&&u(e,["_self"],Ft(n));const o=l(t,["maskMode"]);return o!=null&&u(e,["maskMode"],o),e}function HE(t){const e={},n=l(t,["image"]);n!=null&&u(e,["image"],Ul(n));const o=l(t,["referenceType"]);return o!=null&&u(e,["referenceType"],o),e}function qE(t){const e={},n=l(t,["image"]);n!=null&&u(e,["image"],Ft(n));const o=l(t,["referenceType"]);return o!=null&&u(e,["referenceType"],o),e}function uy(t){const e={},n=l(t,["uri"]);n!=null&&u(e,["uri"],n);const o=l(t,["videoBytes"]);o!=null&&u(e,["encodedVideo"],$n(o));const i=l(t,["mimeType"]);return i!=null&&u(e,["encoding"],i),e}function cy(t){const e={},n=l(t,["uri"]);n!=null&&u(e,["gcsUri"],n);const o=l(t,["videoBytes"]);o!=null&&u(e,["bytesBase64Encoded"],$n(o));const i=l(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bE="Content-Type",OE="X-Server-Timeout",$E="User-Agent",Nu="x-goog-api-client",zE="1.25.0",JE=`google-genai-sdk/${zE}`,WE="v1beta1",KE="v1beta",Jh=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class YE{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:WE,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:KE,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const i=[this.getRequestUrlInternal(n)];return o&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[s,c]of Object.entries(e.queryParams))i.searchParams.append(s,String(c));let r={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,n,e.abortSignal),this.unaryApiCall(i,r,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[i,r]of Object.entries(n))typeof r=="object"?o[i]=Object.assign(Object.assign({},o[i]),r):r!==void 0&&(o[i]=r);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,o);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,n,e.abortSignal),this.streamApiCall(i,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o){if(n&&n.timeout||o){const i=new AbortController,r=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>i.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}o&&o.addEventListener("abort",()=>{i.abort()}),e.signal=r}return n&&n.extraBody!==null&&XE(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async i=>(await Wh(i),new wu(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async i=>(await Wh(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Yo(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),r=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:c,value:d}=yield _e(i.read());if(c){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=r.decode(d,{stream:!0});try{const g=JSON.parse(f);if("error"in g){const m=JSON.parse(JSON.stringify(g.error)),w=m.status,k=m.code,R=`got status: ${w}. ${JSON.stringify(g)}`;if(k>=400&&k<600)throw new Ml({message:R,status:k})}}catch(g){if(g.name==="ApiError")throw g}s+=f;let h=s.match(Jh);for(;h;){const g=h[1];try{const m=new Response(g,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield _e(new wu(m)),s=s.slice(h[0].length),h=s.match(Jh)}catch(m){throw new Error(`exception parsing stream chunk ${g}. ${m}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=JE+" "+this.clientOptions.userAgentExtra;return e[$E]=n,e[Nu]=n,e[bE]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[o,i]of Object.entries(e.headers))n.append(o,i);e.timeout&&e.timeout>0&&n.append(OE,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var o;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const r=this.clientOptions.uploader,s=await r.stat(e);i.sizeBytes=String(s.size);const c=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=c;const d=await this.fetchUploadUrl(i,n);return r.upload(e,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var o;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const r={file:e},s=await this.request({path:J("upload/v1beta/files",r._url),body:JSON.stringify(r),httpMethod:"POST",httpOptions:i});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(o=s==null?void 0:s.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function Wh(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(o);throw n>=400&&n<600?new Ml({message:i,status:n}):new Error(i)}}function XE(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const r=JSON.parse(t.body);if(typeof r=="object"&&r!==null&&!Array.isArray(r))n=r;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(r,s){const c=Object.assign({},r);for(const d in s)if(Object.prototype.hasOwnProperty.call(s,d)){const f=s[d],h=c[d];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?c[d]=o(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),c[d]=f)}return c}const i=o(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QE="mcp_used/unknown";let ZE=!1;function dy(t){for(const e of t)if(jE(e)||typeof e=="object"&&"inputSchema"in e)return!0;return ZE}function fy(t){var e;const n=(e=t[Nu])!==null&&e!==void 0?e:"";t[Nu]=(n+` ${QE}`).trimStart()}function jE(t){return t!==null&&typeof t=="object"&&t instanceof Bc}function ew(t,e=100){return Yo(this,arguments,function*(){let o,i=0;for(;i<e;){const r=yield _e(t.listTools({cursor:o}));for(const s of r.tools)yield yield _e(s),i++;if(!r.nextCursor)break;o=r.nextCursor}})}class Bc{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Bc(e,n)}async initialize(){var e,n,o,i;if(this.mcpTools.length>0)return;const r={},s=[];for(const h of this.mcpClients)try{for(var c=!0,d=(n=void 0,nr(ew(h))),f;f=await d.next(),e=f.done,!e;c=!0){i=f.value,c=!1;const g=i;s.push(g);const m=g.name;if(r[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);r[m]=h}}catch(g){n={error:g}}finally{try{!c&&!e&&(o=d.return)&&await o.call(d)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),rT(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[o.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const s=await i.callTool({name:o.name,arguments:o.args},void 0,r);n.push({functionResponse:{name:o.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function tw(t,e,n){const o=new Q0;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(o,i),e(o)}class nw{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),s=rw(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),d=`${i}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${c}`;let f=()=>{};const h=new Promise(x=>{f=x}),g=e.callbacks,m=function(){f({})},w=this.apiClient,k={onopen:m,onmessage:x=>{tw(w,g.onmessage,x)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(x){},onclose:(o=g==null?void 0:g.onclose)!==null&&o!==void 0?o:function(x){}},R=this.webSocketFactory.create(d,iw(s),k);R.connect(),await h;const C={setup:{model:ue(this.apiClient,e.model)}};return R.send(JSON.stringify(C)),new ow(R,this.apiClient)}}class ow{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=KS(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=WS(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(qo.PLAY)}pause(){this.sendPlaybackControl(qo.PAUSE)}stop(){this.sendPlaybackControl(qo.STOP)}resetContext(){this.sendPlaybackControl(qo.RESET_CONTEXT)}close(){this.conn.close()}}function iw(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function rw(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sw="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function lw(t,e,n){const o=new X0;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const r=JSON.parse(i);if(t.isVertexAI()){const s=QS(r);Object.assign(o,s)}else Object.assign(o,r);e(o)}class aw{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new nw(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,i,r,s,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const g=this.apiClient.getHeaders();e.config&&e.config.tools&&dy(e.config.tools)&&fy(g);const m=fw(g);if(this.apiClient.isVertexAI())h=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m);else{const S=this.apiClient.getApiKey();let I="BidiGenerateContent",P="key";S!=null&&S.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),I="BidiGenerateContentConstrained",P="access_token"),h=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${I}?${P}=${S}`}let w=()=>{};const k=new Promise(S=>{w=S}),R=e.callbacks,F=function(){var S;(S=R==null?void 0:R.onopen)===null||S===void 0||S.call(R),w({})},A=this.apiClient,C={onopen:F,onmessage:S=>{lw(A,R.onmessage,S)},onerror:(n=R==null?void 0:R.onerror)!==null&&n!==void 0?n:function(S){},onclose:(o=R==null?void 0:R.onclose)!==null&&o!==void 0?o:function(S){}},x=this.webSocketFactory.create(h,dw(m),C);x.connect(),await k;let D=ue(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const S=this.apiClient.getProject(),I=this.apiClient.getLocation();D=`projects/${S}/locations/${I}/`+D}let B={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[al.AUDIO]}:e.config.responseModalities=[al.AUDIO]),!((r=e.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const V=(c=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&c!==void 0?c:[],E=[];for(const S of V)if(this.isCallableTool(S)){const I=S;E.push(await I.tool())}else E.push(S);E.length>0&&(e.config.tools=E);const v={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?B=JS(this.apiClient,v):B=zS(this.apiClient,v),delete B.config,x.send(JSON.stringify(B)),new cw(x,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const uw={turnComplete:!0};class cw{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Ct(n.turns),e.isVertexAI()||(o=o.map(i=>Dl(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const r of o){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error(sw)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},uw),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:XS(e)}:n={realtimeInput:YS(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function dw(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function fw(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kh=10;function Yh(t){var e,n,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Xo(s)){i=!0;break}if(!i)return!0;const r=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function Xo(t){return"callTool"in t&&typeof t.callTool=="function"}function hw(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Xo(i)))!==null&&o!==void 0?o:!1}function pw(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!Xo(i)))!==null&&o!==void 0?o:!1}function Xh(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mw extends So{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,i,r,s,c;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!hw(n)||Yh(n.config))return await this.generateContentInternal(d);if(pw(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,h;const g=Ct(d.contents),m=(r=(i=(o=d.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:Kh;let w=0;for(;w<m&&(f=await this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const k=f.candidates[0].content,R=[];for(const F of(c=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&c!==void 0?c:[])if(Xo(F)){const C=await F.callTool(f.functionCalls);R.push(...C)}w++,h={role:"user",parts:R},d.contents=Ct(d.contents),d.contents.push(k),d.contents.push(h),Xh(d.config)&&(g.push(k),g.push(h))}return Xh(d.config)&&(f.automaticFunctionCallingHistory=g),f},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),Yh(n.config)){const o=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var i;let r;const s=[];if(o!=null&&o.generatedImages)for(const d of o.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((i=d==null?void 0:d.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?r=d==null?void 0:d.safetyAttributes:s.push(d);let c;return r?c={generatedImages:s,positivePromptSafetyAttributes:r,sdkHttpResponse:o.sdkHttpResponse}:c={generatedImages:s,sdkHttpResponse:o.sdkHttpResponse},c}),this.list=async n=>{var o;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((o=s.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Lr(yo.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(s),s)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var o,i,r,s,c,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(r=n.source)===null||r===void 0?void 0:r.video)===null||s===void 0)&&s.uri&&(!((d=(c=n.source)===null||c===void 0?void 0:c.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,i;const r=(n=e.config)===null||n===void 0?void 0:n.tools;if(!r)return e;const s=await Promise.all(r.map(async d=>Xo(d)?await d.tool():d)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(c.config.tools=s,e.config&&e.config.tools&&dy(e.config.tools)){const d=(i=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),fy(f),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return c}async initAfcToolsMap(e){var n,o,i;const r=new Map;for(const s of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(Xo(s)){const c=s,d=await c.tool();for(const f of(i=d.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(r.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);r.set(f.name,c)}}return r}async processAfcStream(e){var n,o,i;const r=(i=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:Kh;let s=!1,c=0;const d=await this.initAfcToolsMap(e);return function(f,h,g){var m,w;return Yo(this,arguments,function*(){for(var k,R,F,A;c<r;){s&&(c++,s=!1);const B=yield _e(f.processParamsMaybeAddMcpUsage(g)),V=yield _e(f.generateContentStreamInternal(B)),E=[],v=[];try{for(var C=!0,x=(R=void 0,nr(V)),D;D=yield _e(x.next()),k=D.done,!k;C=!0){A=D.value,C=!1;const S=A;if(yield yield _e(S),S.candidates&&(!((m=S.candidates[0])===null||m===void 0)&&m.content)){v.push(S.candidates[0].content);for(const I of(w=S.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(c<r&&I.functionCall){if(!I.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(I.functionCall.name)){const P=yield _e(h.get(I.functionCall.name).callTool([I.functionCall]));E.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${I.functionCall.name}`)}}}}catch(S){R={error:S}}finally{try{!C&&!k&&(F=x.return)&&(yield _e(F.call(x)))}finally{if(R)throw R.error}}if(E.length>0){s=!0;const S=new bi;S.candidates=[{content:{role:"user",parts:E}}],yield yield _e(S);const I=[];I.push(...v),I.push({role:"user",parts:E});const P=Ct(g.contents).concat(I);g.contents=P}else break}})}(this,d,e)}async generateContentInternal(e){var n,o,i,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=Oh(this.apiClient,e);return c=J("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const g=zh(h),m=new bi;return Object.assign(m,g),m})}else{const f=bh(this.apiClient,e);return c=J("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const g=$h(h),m=new bi;return Object.assign(m,g),m})}}async generateContentStreamInternal(e){var n,o,i,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=Oh(this.apiClient,e);return c=J("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(g){return Yo(this,arguments,function*(){var m,w,k,R;try{for(var F=!0,A=nr(g),C;C=yield _e(A.next()),m=C.done,!m;F=!0){R=C.value,F=!1;const x=R,D=zh(yield _e(x.json()));D.sdkHttpResponse={headers:x.headers};const B=new bi;Object.assign(B,D),yield yield _e(B)}}catch(x){w={error:x}}finally{try{!F&&!m&&(k=A.return)&&(yield _e(k.call(A)))}finally{if(w)throw w.error}}})})}else{const f=bh(this.apiClient,e);return c=J("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(g){return Yo(this,arguments,function*(){var m,w,k,R;try{for(var F=!0,A=nr(g),C;C=yield _e(A.next()),m=C.done,!m;F=!0){R=C.value,F=!1;const x=R,D=$h(yield _e(x.json()));D.sdkHttpResponse={headers:x.headers};const B=new bi;Object.assign(B,D),yield yield _e(B)}}catch(x){w={error:x}}finally{try{!F&&!m&&(k=A.return)&&(yield _e(k.call(A)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var n,o,i,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=xC(this.apiClient,e);return c=J("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const g=NC(h),m=new Ah;return Object.assign(m,g),m})}else{const f=AC(this.apiClient,e);return c=J("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const g=kC(h),m=new Ah;return Object.assign(m,g),m})}}async generateImagesInternal(e){var n,o,i,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=BC(this.apiClient,e);return c=J("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const g=HC(h),m=new xh;return Object.assign(m,g),m})}else{const f=VC(this.apiClient,e);return c=J("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const g=GC(h),m=new xh;return Object.assign(m,g),m})}}async editImageInternal(e){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const c=CC(this.apiClient,e);return r=J("{model}:predict",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=EC(d),h=new b0;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const c=UE(this.apiClient,e);return r=J("{model}:predict",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=FE(d),h=new O0;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const c=yE(this.apiClient,e);return r=J("{model}:predict",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const f=_E(d),h=new $0;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const c=wE(this.apiClient,e);return r=J("{model}:predict",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const f=IE(d),h=new z0;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,i,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=oE(this.apiClient,e);return c=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>ku(h))}else{const f=nE(this.apiClient,e);return c=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>xu(h))}}async listInternal(e){var n,o,i,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=cE(this.apiClient,e);return c=J("{models_url}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const g=fE(h),m=new kh;return Object.assign(m,g),m})}else{const f=uE(this.apiClient,e);return c=J("{models_url}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const g=dE(h),m=new kh;return Object.assign(m,g),m})}}async update(e){var n,o,i,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=DE(this.apiClient,e);return c=J("{model}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>ku(h))}else{const f=ME(this.apiClient,e);return c=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>xu(h))}}async delete(e){var n,o,i,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=_C(this.apiClient,e);return c=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const g=TC(h),m=new Nh;return Object.assign(m,g),m})}else{const f=yC(this.apiClient,e);return c=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const g=vC(h),m=new Nh;return Object.assign(m,g),m})}}async countTokens(e){var n,o,i,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=pC(this.apiClient,e);return c=J("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const g=gC(h),m=new Ph;return Object.assign(m,g),m})}else{const f=hC(this.apiClient,e);return c=J("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const g=mC(h),m=new Ph;return Object.assign(m,g),m})}}async computeTokens(e){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const c=sC(this.apiClient,e);return r=J("{model}:computeTokens",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=lC(d),h=new J0;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,i,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=JC(this.apiClient,e);return c=J("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>{const g=$C(h),m=new ul;return Object.assign(m,g),m})}else{const f=zC(this.apiClient,e);return c=J("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const g=OC(h),m=new ul;return Object.assign(m,g),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gw extends So{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let r;o&&"httpOptions"in o&&(r=o.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let r;o&&"httpOptions"in o&&(r=o.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,i,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=G0(e);return c=J("{operationName}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s}else{const f=B0(e);return c=J("{operationName}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const c=R0(e);return r=J("{resourceName}:fetchPredictOperation",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yw(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&u(e,["data"],n);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function _w(t){const e={},n=l(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Aw(r))),u(e,["parts"],i)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function vw(t,e,n){const o={},i=l(e,["expireTime"]);n!==void 0&&i!=null&&u(n,["expireTime"],i);const r=l(e,["newSessionExpireTime"]);n!==void 0&&r!=null&&u(n,["newSessionExpireTime"],r);const s=l(e,["uses"]);n!==void 0&&s!=null&&u(n,["uses"],s);const c=l(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&u(n,["bidiGenerateContentSetup"],Iw(t,c));const d=l(e,["lockAdditionalFields"]);return n!==void 0&&d!=null&&u(n,["fieldMask"],d),o}function Tw(t,e){const n={},o=l(e,["config"]);return o!=null&&u(n,["config"],vw(t,o,n)),n}function Sw(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Cw(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function Ew(t){const e={},n=l(t,["timeRangeFilter"]);if(n!=null&&u(e,["timeRangeFilter"],n),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function ww(t,e){const n={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const i=l(t,["responseModalities"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","responseModalities"],i);const r=l(t,["temperature"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","temperature"],r);const s=l(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);const c=l(t,["topK"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","topK"],c);const d=l(t,["maxOutputTokens"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","maxOutputTokens"],d);const f=l(t,["mediaResolution"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","mediaResolution"],f);const h=l(t,["seed"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","seed"],h);const g=l(t,["speechConfig"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","speechConfig"],Vc(g));const m=l(t,["thinkingConfig"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","thinkingConfig"],m);const w=l(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],w);const k=l(t,["systemInstruction"]);e!==void 0&&k!=null&&u(e,["setup","systemInstruction"],_w(Ke(k)));const R=l(t,["tools"]);if(e!==void 0&&R!=null){let V=fi(R);Array.isArray(V)&&(V=V.map(E=>kw(di(E)))),u(e,["setup","tools"],V)}const F=l(t,["sessionResumption"]);e!==void 0&&F!=null&&u(e,["setup","sessionResumption"],xw(F));const A=l(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&u(e,["setup","inputAudioTranscription"],A);const C=l(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&u(e,["setup","outputAudioTranscription"],C);const x=l(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&u(e,["setup","realtimeInputConfig"],x);const D=l(t,["contextWindowCompression"]);e!==void 0&&D!=null&&u(e,["setup","contextWindowCompression"],D);const B=l(t,["proactivity"]);return e!==void 0&&B!=null&&u(e,["setup","proactivity"],B),n}function Iw(t,e){const n={},o=l(e,["model"]);o!=null&&u(n,["setup","model"],ue(t,o));const i=l(e,["config"]);return i!=null&&u(n,["config"],ww(i,n)),n}function Aw(t){const e={},n=l(t,["videoMetadata"]);n!=null&&u(e,["videoMetadata"],n);const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const i=l(t,["inlineData"]);i!=null&&u(e,["inlineData"],yw(i));const r=l(t,["fileData"]);r!=null&&u(e,["fileData"],Sw(r));const s=l(t,["thoughtSignature"]);s!=null&&u(e,["thoughtSignature"],s);const c=l(t,["functionCall"]);c!=null&&u(e,["functionCall"],c);const d=l(t,["codeExecutionResult"]);d!=null&&u(e,["codeExecutionResult"],d);const f=l(t,["executableCode"]);f!=null&&u(e,["executableCode"],f);const h=l(t,["functionResponse"]);h!=null&&u(e,["functionResponse"],h);const g=l(t,["text"]);return g!=null&&u(e,["text"],g),e}function xw(t){const e={},n=l(t,["handle"]);if(n!=null&&u(e,["handle"],n),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function kw(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),u(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],Ew(o));const i=l(t,["googleSearchRetrieval"]);if(i!=null&&u(e,["googleSearchRetrieval"],i),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=l(t,["googleMaps"]);r!=null&&u(e,["googleMaps"],Cw(r));const s=l(t,["urlContext"]);s!=null&&u(e,["urlContext"],s);const c=l(t,["computerUse"]);c!=null&&u(e,["computerUse"],c);const d=l(t,["codeExecution"]);return d!=null&&u(e,["codeExecution"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nw(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const i=Object.keys(o).map(r=>`${n}.${r}`);e.push(...i)}else e.push(n)}return e.join(",")}function Pw(t,e){let n=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const r=o.setup;typeof r=="object"&&r!==null?(t.bidiGenerateContentSetup=r,n=r):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const r=Nw(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)r?t.fieldMask=r:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];i.length>0&&(c=i.map(f=>s.includes(f)?`generationConfig.${f}`:f));const d=[];r&&d.push(r),c.length>0&&d.push(...c),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Rw extends So{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=Tw(this.apiClient,e);r=J("auth_tokens",c._url),s=c._query,delete c.config,delete c._url,delete c._query;const d=Pw(c,e.config);return i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mw(t){const e={},n=l(t,["name"]);return n!=null&&u(e,["_url","name"],n),e}function Dw(t){const e={},n=l(t,["name"]);return n!=null&&u(e,["_url","name"],n),e}function Lw(t,e){const n={};if(l(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=l(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&u(e,["displayName"],o),l(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=l(t,["epochCount"]);e!==void 0&&i!=null&&u(e,["tuningTask","hyperparameters","epochCount"],i);const r=l(t,["learningRateMultiplier"]);if(r!=null&&u(n,["tuningTask","hyperparameters","learningRateMultiplier"],r),l(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=l(t,["batchSize"]);e!==void 0&&s!=null&&u(e,["tuningTask","hyperparameters","batchSize"],s);const c=l(t,["learningRate"]);if(e!==void 0&&c!=null&&u(e,["tuningTask","hyperparameters","learningRate"],c),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function Uw(t,e){const n={},o=l(t,["validationDataset"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec"],Xw(o,n));const i=l(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&u(e,["tunedModelDisplayName"],i);const r=l(t,["description"]);e!==void 0&&r!=null&&u(e,["description"],r);const s=l(t,["epochCount"]);e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],s);const c=l(t,["learningRateMultiplier"]);e!==void 0&&c!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const d=l(t,["exportLastCheckpointOnly"]);e!==void 0&&d!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],d);const f=l(t,["adapterSize"]);if(e!==void 0&&f!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],f),l(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=l(t,["labels"]);return e!==void 0&&h!=null&&u(e,["labels"],h),n}function Fw(t){const e={},n=l(t,["baseModel"]);n!=null&&u(e,["baseModel"],n);const o=l(t,["preTunedModel"]);o!=null&&u(e,["preTunedModel"],o);const i=l(t,["trainingDataset"]);i!=null&&u(e,["tuningTask","trainingData"],Ww(i));const r=l(t,["config"]);return r!=null&&Lw(r,e),e}function Vw(t){const e={},n=l(t,["baseModel"]);n!=null&&u(e,["baseModel"],n);const o=l(t,["preTunedModel"]);o!=null&&u(e,["preTunedModel"],o);const i=l(t,["trainingDataset"]);i!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],Kw(i,e));const r=l(t,["config"]);return r!=null&&Uw(r,e),e}function Bw(t){const e={},n=l(t,["name"]);return n!=null&&u(e,["_url","name"],n),e}function Gw(t){const e={},n=l(t,["name"]);return n!=null&&u(e,["_url","name"],n),e}function Hw(t,e){const n={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const i=l(t,["pageToken"]);e!==void 0&&i!=null&&u(e,["_query","pageToken"],i);const r=l(t,["filter"]);return e!==void 0&&r!=null&&u(e,["_query","filter"],r),n}function qw(t,e){const n={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const i=l(t,["pageToken"]);e!==void 0&&i!=null&&u(e,["_query","pageToken"],i);const r=l(t,["filter"]);return e!==void 0&&r!=null&&u(e,["_query","filter"],r),n}function bw(t){const e={},n=l(t,["config"]);return n!=null&&Hw(n,e),e}function Ow(t){const e={},n=l(t,["config"]);return n!=null&&qw(n,e),e}function $w(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const i=l(t,["tunedModels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>hy(s))),u(e,["tuningJobs"],r)}return e}function zw(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const i=l(t,["tuningJobs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>Pu(s))),u(e,["tuningJobs"],r)}return e}function Jw(t){const e={},n=l(t,["name"]);n!=null&&u(e,["model"],n);const o=l(t,["name"]);return o!=null&&u(e,["endpoint"],o),e}function Ww(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=l(t,["examples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),u(e,["examples","examples"],o)}return e}function Kw(t,e){const n={},o=l(t,["gcsUri"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],o);const i=l(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],i),l(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function hy(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const i=l(t,["state"]);i!=null&&u(e,["state"],Kg(i));const r=l(t,["createTime"]);r!=null&&u(e,["createTime"],r);const s=l(t,["tuningTask","startTime"]);s!=null&&u(e,["startTime"],s);const c=l(t,["tuningTask","completeTime"]);c!=null&&u(e,["endTime"],c);const d=l(t,["updateTime"]);d!=null&&u(e,["updateTime"],d);const f=l(t,["description"]);f!=null&&u(e,["description"],f);const h=l(t,["baseModel"]);h!=null&&u(e,["baseModel"],h);const g=l(t,["_self"]);g!=null&&u(e,["tunedModel"],Jw(g));const m=l(t,["customBaseModel"]);m!=null&&u(e,["customBaseModel"],m);const w=l(t,["experiment"]);w!=null&&u(e,["experiment"],w);const k=l(t,["labels"]);k!=null&&u(e,["labels"],k);const R=l(t,["outputUri"]);R!=null&&u(e,["outputUri"],R);const F=l(t,["pipelineJob"]);F!=null&&u(e,["pipelineJob"],F);const A=l(t,["serviceAccount"]);A!=null&&u(e,["serviceAccount"],A);const C=l(t,["tunedModelDisplayName"]);C!=null&&u(e,["tunedModelDisplayName"],C);const x=l(t,["veoTuningSpec"]);return x!=null&&u(e,["veoTuningSpec"],x),e}function Pu(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const i=l(t,["state"]);i!=null&&u(e,["state"],Kg(i));const r=l(t,["createTime"]);r!=null&&u(e,["createTime"],r);const s=l(t,["startTime"]);s!=null&&u(e,["startTime"],s);const c=l(t,["endTime"]);c!=null&&u(e,["endTime"],c);const d=l(t,["updateTime"]);d!=null&&u(e,["updateTime"],d);const f=l(t,["error"]);f!=null&&u(e,["error"],f);const h=l(t,["description"]);h!=null&&u(e,["description"],h);const g=l(t,["baseModel"]);g!=null&&u(e,["baseModel"],g);const m=l(t,["tunedModel"]);m!=null&&u(e,["tunedModel"],m);const w=l(t,["preTunedModel"]);w!=null&&u(e,["preTunedModel"],w);const k=l(t,["supervisedTuningSpec"]);k!=null&&u(e,["supervisedTuningSpec"],k);const R=l(t,["tuningDataStats"]);R!=null&&u(e,["tuningDataStats"],R);const F=l(t,["encryptionSpec"]);F!=null&&u(e,["encryptionSpec"],F);const A=l(t,["partnerModelTuningSpec"]);A!=null&&u(e,["partnerModelTuningSpec"],A);const C=l(t,["customBaseModel"]);C!=null&&u(e,["customBaseModel"],C);const x=l(t,["experiment"]);x!=null&&u(e,["experiment"],x);const D=l(t,["labels"]);D!=null&&u(e,["labels"],D);const B=l(t,["outputUri"]);B!=null&&u(e,["outputUri"],B);const V=l(t,["pipelineJob"]);V!=null&&u(e,["pipelineJob"],V);const E=l(t,["serviceAccount"]);E!=null&&u(e,["serviceAccount"],E);const v=l(t,["tunedModelDisplayName"]);v!=null&&u(e,["tunedModelDisplayName"],v);const S=l(t,["veoTuningSpec"]);return S!=null&&u(e,["veoTuningSpec"],S),e}function Yw(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const i=l(t,["metadata"]);i!=null&&u(e,["metadata"],i);const r=l(t,["done"]);r!=null&&u(e,["done"],r);const s=l(t,["error"]);return s!=null&&u(e,["error"],s),e}function Xw(t,e){const n={},o=l(t,["gcsUri"]);o!=null&&u(n,["validationDatasetUri"],o);const i=l(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qw extends So{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Lr(yo.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},n),{preTunedModel:i});return r.baseModel=void 0,await this.tuneInternal(r)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),r=await this.tuneMldevInternal(i);let s="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?s=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(s=r.name.split("/operations/")[0]),{name:s,state:Eu.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,i,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=Gw(e);return c=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>Pu(h))}else{const f=Bw(e);return c=J("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>hy(h))}}async listInternal(e){var n,o,i,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=Ow(e);return c=J("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const g=zw(h),m=new Rh;return Object.assign(m,g),m})}else{const f=bw(e);return c=J("tunedModels",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const g=$w(h),m=new Rh;return Object.assign(m,g),m})}}async cancel(e){var n,o,i,r;let s="",c={};if(this.apiClient.isVertexAI()){const d=Dw(e);s=J("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const d=Mw(e);s=J("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async tuneInternal(e){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const c=Vw(e);return r=J("tuningJobs",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>Pu(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Fw(e);return r=J("tunedModels",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>Yw(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zw{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const jw=1024*1024*8,e1=3,t1=1e3,n1=2,Ea="x-goog-upload-status";async function o1(t,e,n){var o,i,r;let s=0,c=0,d=new wu(new Response),f="upload";for(s=t.size;c<s;){const g=Math.min(jw,s-c),m=t.slice(c,c+g);c+g>=s&&(f+=", finalize");let w=0,k=t1;for(;w<e1&&(d=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(c),"Content-Length":String(g)}}}),!(!((o=d==null?void 0:d.headers)===null||o===void 0)&&o[Ea]));)w++,await r1(k),k=k*n1;if(c+=g,((i=d==null?void 0:d.headers)===null||i===void 0?void 0:i[Ea])!=="active")break;if(s<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(d==null?void 0:d.json());if(((r=d==null?void 0:d.headers)===null||r===void 0?void 0:r[Ea])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function i1(t){return{size:t.size,type:t.type}}function r1(t){return new Promise(e=>setTimeout(e,t))}class s1{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await o1(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await i1(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l1{create(e,n,o){return new a1(e,n,o)}}class a1{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qh="x-goog-api-key";class u1{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Qh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Qh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c1="gl-node/";class d1{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=N0(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const i=new u1(this.apiKey);this.apiClient=new YE({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:c1+"web",uploader:new s1,downloader:new Zw}),this.models=new mw(this.apiClient),this.live=new aw(this.apiClient,i,new l1),this.batches=new KT(this.apiClient),this.chats=new AS(this.models,this.apiClient),this.caches=new ES(this.apiClient),this.files=new FS(this.apiClient),this.operations=new gw(this.apiClient),this.authTokens=new Rw(this.apiClient),this.tunings=new Qw(this.apiClient)}}const f1=()=>{};var Zh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=function(t){const e=[];let n=0;for(let o=0;o<t.length;o++){let i=t.charCodeAt(o);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&o+1<t.length&&(t.charCodeAt(o+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++o)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},h1=function(t){const e=[];let n=0,o=0;for(;n<t.length;){const i=t[n++];if(i<128)e[o++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[o++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],s=t[n++],c=t[n++],d=((i&7)<<18|(r&63)<<12|(s&63)<<6|c&63)-65536;e[o++]=String.fromCharCode(55296+(d>>10)),e[o++]=String.fromCharCode(56320+(d&1023))}else{const r=t[n++],s=t[n++];e[o++]=String.fromCharCode((i&15)<<12|(r&63)<<6|s&63)}}return e.join("")},my={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let i=0;i<t.length;i+=3){const r=t[i],s=i+1<t.length,c=s?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,h=r>>2,g=(r&3)<<4|c>>4;let m=(c&15)<<2|f>>6,w=f&63;d||(w=64,s||(m=64)),o.push(n[h],n[g],n[m],n[w])}return o.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(py(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):h1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||c==null||f==null||g==null)throw new p1;const m=r<<2|c>>4;if(o.push(m),f!==64){const w=c<<4&240|f>>2;if(o.push(w),g!==64){const k=f<<6&192|g;o.push(k)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class p1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m1=function(t){const e=py(t);return my.encodeByteArray(e,!0)},dl=function(t){return m1(t).replace(/\./g,"")},g1=function(t){try{return my.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=()=>y1().__FIREBASE_DEFAULTS__,v1=()=>{if(typeof process>"u"||typeof Zh>"u")return;const t=Zh.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},T1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&g1(t[1]);return e&&JSON.parse(e)},gy=()=>{try{return f1()||_1()||v1()||T1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},S1=t=>{var e,n;return(n=(e=gy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},C1=t=>{const e=S1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),o]:[e.substring(0,n),o]},yy=()=>{var t;return(t=gy())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function w1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},o=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${o}`,aud:o,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...t};return[dl(JSON.stringify(n)),dl(JSON.stringify(s)),""].join(".")}const or={};function A1(){const t={prod:[],emulator:[]};for(const e of Object.keys(or))or[e]?t.emulator.push(e):t.prod.push(e);return t}function x1(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let jh=!1;function k1(t,e){if(typeof window>"u"||typeof document>"u"||!_y(window.location.host)||or[t]===e||or[t]||jh)return;or[t]=e;function n(m){return`__firebase__banner__${m}`}const o="__firebase__banner",r=A1().prod.length>0;function s(){const m=document.getElementById(o);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function d(m,w){m.setAttribute("width","24"),m.setAttribute("id",w),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function f(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{jh=!0,s()},m}function h(m,w){m.setAttribute("id",w),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=x1(o),w=n("text"),k=document.getElementById(w)||document.createElement("span"),R=n("learnmore"),F=document.getElementById(R)||document.createElement("a"),A=n("preprendIcon"),C=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const x=m.element;c(x),h(F,R);const D=f();d(C,A),x.append(C,k,F,D),document.body.appendChild(x)}r?(k.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function N1(){try{return typeof indexedDB=="object"}catch{return!1}}function P1(){return new Promise((t,e)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(o);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(o),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)==null?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="FirebaseError";class pi extends Error{constructor(e,n,o){super(n),this.code=e,this.customData=o,this.name=R1,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vy.prototype.create)}}class vy{constructor(e,n,o){this.service=e,this.serviceName=n,this.errors=o}create(e,...n){const o=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],s=r?M1(r,o):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new pi(i,c,o)}}function M1(t,e){return t.replace(D1,(n,o)=>{const i=e[o];return i!=null?String(i):`<${o}?>`})}const D1=/\{\$([^}]+)}/g;function fl(t,e){if(t===e)return!0;const n=Object.keys(t),o=Object.keys(e);for(const i of n){if(!o.includes(i))return!1;const r=t[i],s=e[i];if(ep(r)&&ep(s)){if(!fl(r,s))return!1}else if(r!==s)return!1}for(const i of o)if(!n.includes(i))return!1;return!0}function ep(t){return t!==null&&typeof t=="object"}class wr{constructor(e,n,o){this.name=e,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const o=new E1;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&o.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(o)return null;throw i}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F1(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});o.resolve(r)}catch{}}}}clearInstance(e=to){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=to){return this.instances.has(e)}getOptions(e=to){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[r,s]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(r);o===c&&s.resolve(i)}return i}onInit(e,n){const o=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(o)??new Set;i.add(e),this.onInitCallbacks.set(o,i);const r=this.instances.get(o);return r&&e(r,o),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const o=this.onInitCallbacks.get(n);if(o)for(const i of o)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:U1(e),options:n}),this.instances.set(e,o),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=to){return this.component?this.component.multipleInstances?e:to:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U1(t){return t===to?void 0:t}function F1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new L1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const B1={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},G1=de.INFO,H1={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},q1=(t,e,...n)=>{if(e<t.logLevel)return;const o=new Date().toISOString(),i=H1[e];if(i)console[i](`[${o}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ty{constructor(e){this.name=e,this._logLevel=G1,this._logHandler=q1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?B1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const b1=(t,e)=>e.some(n=>t instanceof n);let tp,np;function O1(){return tp||(tp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $1(){return np||(np=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sy=new WeakMap,Ru=new WeakMap,Cy=new WeakMap,wa=new WeakMap,Gc=new WeakMap;function z1(t){const e=new Promise((n,o)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",s)},r=()=>{n(Fn(t.result)),i()},s=()=>{o(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Sy.set(n,t)}).catch(()=>{}),Gc.set(e,t),e}function J1(t){if(Ru.has(t))return;const e=new Promise((n,o)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",s),t.removeEventListener("abort",s)},r=()=>{n(),i()},s=()=>{o(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",s),t.addEventListener("abort",s)});Ru.set(t,e)}let Mu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ru.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Cy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function W1(t){Mu=t(Mu)}function K1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const o=t.call(Ia(this),e,...n);return Cy.set(o,e.sort?e.sort():[e]),Fn(o)}:$1().includes(t)?function(...e){return t.apply(Ia(this),e),Fn(Sy.get(this))}:function(...e){return Fn(t.apply(Ia(this),e))}}function Y1(t){return typeof t=="function"?K1(t):(t instanceof IDBTransaction&&J1(t),b1(t,O1())?new Proxy(t,Mu):t)}function Fn(t){if(t instanceof IDBRequest)return z1(t);if(wa.has(t))return wa.get(t);const e=Y1(t);return e!==t&&(wa.set(t,e),Gc.set(e,t)),e}const Ia=t=>Gc.get(t);function X1(t,e,{blocked:n,upgrade:o,blocking:i,terminated:r}={}){const s=indexedDB.open(t,e),c=Fn(s);return o&&s.addEventListener("upgradeneeded",d=>{o(Fn(s.result),d.oldVersion,d.newVersion,Fn(s.transaction),d)}),n&&s.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{r&&d.addEventListener("close",()=>r()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const Q1=["get","getKey","getAll","getAllKeys","count"],Z1=["put","add","delete","clear"],Aa=new Map;function op(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Aa.get(e))return Aa.get(e);const n=e.replace(/FromIndex$/,""),o=e!==n,i=Z1.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(i||Q1.includes(n)))return;const r=async function(s,...c){const d=this.transaction(s,i?"readwrite":"readonly");let f=d.store;return o&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&d.done]))[0]};return Aa.set(e,r),r}W1(t=>({...t,get:(e,n,o)=>op(e,n)||t.get(e,n,o),has:(e,n)=>!!op(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eI(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function eI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Du="@firebase/app",ip="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=new Ty("@firebase/app"),tI="@firebase/app-compat",nI="@firebase/analytics-compat",oI="@firebase/analytics",iI="@firebase/app-check-compat",rI="@firebase/app-check",sI="@firebase/auth",lI="@firebase/auth-compat",aI="@firebase/database",uI="@firebase/data-connect",cI="@firebase/database-compat",dI="@firebase/functions",fI="@firebase/functions-compat",hI="@firebase/installations",pI="@firebase/installations-compat",mI="@firebase/messaging",gI="@firebase/messaging-compat",yI="@firebase/performance",_I="@firebase/performance-compat",vI="@firebase/remote-config",TI="@firebase/remote-config-compat",SI="@firebase/storage",CI="@firebase/storage-compat",EI="@firebase/firestore",wI="@firebase/ai",II="@firebase/firestore-compat",AI="firebase",xI="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu="[DEFAULT]",kI={[Du]:"fire-core",[tI]:"fire-core-compat",[oI]:"fire-analytics",[nI]:"fire-analytics-compat",[rI]:"fire-app-check",[iI]:"fire-app-check-compat",[sI]:"fire-auth",[lI]:"fire-auth-compat",[aI]:"fire-rtdb",[uI]:"fire-data-connect",[cI]:"fire-rtdb-compat",[dI]:"fire-fn",[fI]:"fire-fn-compat",[hI]:"fire-iid",[pI]:"fire-iid-compat",[mI]:"fire-fcm",[gI]:"fire-fcm-compat",[yI]:"fire-perf",[_I]:"fire-perf-compat",[vI]:"fire-rc",[TI]:"fire-rc-compat",[SI]:"fire-gcs",[CI]:"fire-gcs-compat",[EI]:"fire-fst",[II]:"fire-fst-compat",[wI]:"fire-vertex","fire-js":"fire-js",[AI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=new Map,NI=new Map,Uu=new Map;function rp(t,e){try{t.container.addComponent(e)}catch(n){an.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pl(t){const e=t.name;if(Uu.has(e))return an.debug(`There were multiple attempts to register component ${e}.`),!1;Uu.set(e,t);for(const n of hl.values())rp(n,t);for(const n of NI.values())rp(n,t);return!0}function PI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function RI(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vn=new vy("app","Firebase",MI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n,o){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=xI;function Ey(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const o={name:Lu,automaticDataCollectionEnabled:!0,...e},i=o.name;if(typeof i!="string"||!i)throw Vn.create("bad-app-name",{appName:String(i)});if(n||(n=yy()),!n)throw Vn.create("no-options");const r=hl.get(i);if(r){if(fl(n,r.options)&&fl(o,r.config))return r;throw Vn.create("duplicate-app",{appName:i})}const s=new V1(i);for(const d of Uu.values())s.addComponent(d);const c=new DI(n,o,s);return hl.set(i,c),c}function UI(t=Lu){const e=hl.get(t);if(!e&&t===Lu&&yy())return Ey();if(!e)throw Vn.create("no-app",{appName:t});return e}function Qo(t,e,n){let o=kI[t]??t;n&&(o+=`-${n}`);const i=o.match(/\s|\//),r=e.match(/\s|\//);if(i||r){const s=[`Unable to register library "${o}" with version "${e}":`];i&&s.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&r&&s.push("and"),r&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),an.warn(s.join(" "));return}pl(new wr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="firebase-heartbeat-database",VI=1,Ir="firebase-heartbeat-store";let xa=null;function wy(){return xa||(xa=X1(FI,VI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ir)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vn.create("idb-open",{originalErrorMessage:t.message})})),xa}async function BI(t){try{const n=(await wy()).transaction(Ir),o=await n.objectStore(Ir).get(Iy(t));return await n.done,o}catch(e){if(e instanceof pi)an.warn(e.message);else{const n=Vn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});an.warn(n.message)}}}async function sp(t,e){try{const o=(await wy()).transaction(Ir,"readwrite");await o.objectStore(Ir).put(e,Iy(t)),await o.done}catch(n){if(n instanceof pi)an.warn(n.message);else{const o=Vn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});an.warn(o.message)}}}function Iy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=1024,HI=30;class qI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OI(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=lp();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>HI){const s=$I(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(o){an.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=lp(),{heartbeatsToSend:o,unsentEntries:i}=bI(this._heartbeatsCache.heartbeats),r=dl(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return an.warn(n),""}}}function lp(){return new Date().toISOString().substring(0,10)}function bI(t,e=GI){const n=[];let o=t.slice();for(const i of t){const r=n.find(s=>s.agent===i.agent);if(r){if(r.dates.push(i.date),ap(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ap(n)>e){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class OI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N1()?P1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const o=await this.read();return sp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const o=await this.read();return sp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function ap(t){return dl(JSON.stringify({version:2,heartbeats:t})).length}function $I(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let o=1;o<t.length;o++)t[o].date<n&&(n=t[o].date,e=o);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t){pl(new wr("platform-logger",e=>new j1(e),"PRIVATE")),pl(new wr("heartbeat",e=>new qI(e),"PRIVATE")),Qo(Du,ip,t),Qo(Du,ip,"esm2020"),Qo("fire-js","")}zI("");var up=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hc;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,v){function S(){}S.prototype=v.prototype,E.F=v.prototype,E.prototype=new S,E.prototype.constructor=E,E.D=function(I,P,M){for(var N=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)N[Y-2]=arguments[Y];return v.prototype[P].apply(I,N)}}function n(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(o,n),o.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,S){S||(S=0);const I=Array(16);if(typeof v=="string")for(var P=0;P<16;++P)I[P]=v.charCodeAt(S++)|v.charCodeAt(S++)<<8|v.charCodeAt(S++)<<16|v.charCodeAt(S++)<<24;else for(P=0;P<16;++P)I[P]=v[S++]|v[S++]<<8|v[S++]<<16|v[S++]<<24;v=E.g[0],S=E.g[1],P=E.g[2];let M=E.g[3],N;N=v+(M^S&(P^M))+I[0]+3614090360&4294967295,v=S+(N<<7&4294967295|N>>>25),N=M+(P^v&(S^P))+I[1]+3905402710&4294967295,M=v+(N<<12&4294967295|N>>>20),N=P+(S^M&(v^S))+I[2]+606105819&4294967295,P=M+(N<<17&4294967295|N>>>15),N=S+(v^P&(M^v))+I[3]+3250441966&4294967295,S=P+(N<<22&4294967295|N>>>10),N=v+(M^S&(P^M))+I[4]+4118548399&4294967295,v=S+(N<<7&4294967295|N>>>25),N=M+(P^v&(S^P))+I[5]+1200080426&4294967295,M=v+(N<<12&4294967295|N>>>20),N=P+(S^M&(v^S))+I[6]+2821735955&4294967295,P=M+(N<<17&4294967295|N>>>15),N=S+(v^P&(M^v))+I[7]+4249261313&4294967295,S=P+(N<<22&4294967295|N>>>10),N=v+(M^S&(P^M))+I[8]+1770035416&4294967295,v=S+(N<<7&4294967295|N>>>25),N=M+(P^v&(S^P))+I[9]+2336552879&4294967295,M=v+(N<<12&4294967295|N>>>20),N=P+(S^M&(v^S))+I[10]+4294925233&4294967295,P=M+(N<<17&4294967295|N>>>15),N=S+(v^P&(M^v))+I[11]+2304563134&4294967295,S=P+(N<<22&4294967295|N>>>10),N=v+(M^S&(P^M))+I[12]+1804603682&4294967295,v=S+(N<<7&4294967295|N>>>25),N=M+(P^v&(S^P))+I[13]+4254626195&4294967295,M=v+(N<<12&4294967295|N>>>20),N=P+(S^M&(v^S))+I[14]+2792965006&4294967295,P=M+(N<<17&4294967295|N>>>15),N=S+(v^P&(M^v))+I[15]+1236535329&4294967295,S=P+(N<<22&4294967295|N>>>10),N=v+(P^M&(S^P))+I[1]+4129170786&4294967295,v=S+(N<<5&4294967295|N>>>27),N=M+(S^P&(v^S))+I[6]+3225465664&4294967295,M=v+(N<<9&4294967295|N>>>23),N=P+(v^S&(M^v))+I[11]+643717713&4294967295,P=M+(N<<14&4294967295|N>>>18),N=S+(M^v&(P^M))+I[0]+3921069994&4294967295,S=P+(N<<20&4294967295|N>>>12),N=v+(P^M&(S^P))+I[5]+3593408605&4294967295,v=S+(N<<5&4294967295|N>>>27),N=M+(S^P&(v^S))+I[10]+38016083&4294967295,M=v+(N<<9&4294967295|N>>>23),N=P+(v^S&(M^v))+I[15]+3634488961&4294967295,P=M+(N<<14&4294967295|N>>>18),N=S+(M^v&(P^M))+I[4]+3889429448&4294967295,S=P+(N<<20&4294967295|N>>>12),N=v+(P^M&(S^P))+I[9]+568446438&4294967295,v=S+(N<<5&4294967295|N>>>27),N=M+(S^P&(v^S))+I[14]+3275163606&4294967295,M=v+(N<<9&4294967295|N>>>23),N=P+(v^S&(M^v))+I[3]+4107603335&4294967295,P=M+(N<<14&4294967295|N>>>18),N=S+(M^v&(P^M))+I[8]+1163531501&4294967295,S=P+(N<<20&4294967295|N>>>12),N=v+(P^M&(S^P))+I[13]+2850285829&4294967295,v=S+(N<<5&4294967295|N>>>27),N=M+(S^P&(v^S))+I[2]+4243563512&4294967295,M=v+(N<<9&4294967295|N>>>23),N=P+(v^S&(M^v))+I[7]+1735328473&4294967295,P=M+(N<<14&4294967295|N>>>18),N=S+(M^v&(P^M))+I[12]+2368359562&4294967295,S=P+(N<<20&4294967295|N>>>12),N=v+(S^P^M)+I[5]+4294588738&4294967295,v=S+(N<<4&4294967295|N>>>28),N=M+(v^S^P)+I[8]+2272392833&4294967295,M=v+(N<<11&4294967295|N>>>21),N=P+(M^v^S)+I[11]+1839030562&4294967295,P=M+(N<<16&4294967295|N>>>16),N=S+(P^M^v)+I[14]+4259657740&4294967295,S=P+(N<<23&4294967295|N>>>9),N=v+(S^P^M)+I[1]+2763975236&4294967295,v=S+(N<<4&4294967295|N>>>28),N=M+(v^S^P)+I[4]+1272893353&4294967295,M=v+(N<<11&4294967295|N>>>21),N=P+(M^v^S)+I[7]+4139469664&4294967295,P=M+(N<<16&4294967295|N>>>16),N=S+(P^M^v)+I[10]+3200236656&4294967295,S=P+(N<<23&4294967295|N>>>9),N=v+(S^P^M)+I[13]+681279174&4294967295,v=S+(N<<4&4294967295|N>>>28),N=M+(v^S^P)+I[0]+3936430074&4294967295,M=v+(N<<11&4294967295|N>>>21),N=P+(M^v^S)+I[3]+3572445317&4294967295,P=M+(N<<16&4294967295|N>>>16),N=S+(P^M^v)+I[6]+76029189&4294967295,S=P+(N<<23&4294967295|N>>>9),N=v+(S^P^M)+I[9]+3654602809&4294967295,v=S+(N<<4&4294967295|N>>>28),N=M+(v^S^P)+I[12]+3873151461&4294967295,M=v+(N<<11&4294967295|N>>>21),N=P+(M^v^S)+I[15]+530742520&4294967295,P=M+(N<<16&4294967295|N>>>16),N=S+(P^M^v)+I[2]+3299628645&4294967295,S=P+(N<<23&4294967295|N>>>9),N=v+(P^(S|~M))+I[0]+4096336452&4294967295,v=S+(N<<6&4294967295|N>>>26),N=M+(S^(v|~P))+I[7]+1126891415&4294967295,M=v+(N<<10&4294967295|N>>>22),N=P+(v^(M|~S))+I[14]+2878612391&4294967295,P=M+(N<<15&4294967295|N>>>17),N=S+(M^(P|~v))+I[5]+4237533241&4294967295,S=P+(N<<21&4294967295|N>>>11),N=v+(P^(S|~M))+I[12]+1700485571&4294967295,v=S+(N<<6&4294967295|N>>>26),N=M+(S^(v|~P))+I[3]+2399980690&4294967295,M=v+(N<<10&4294967295|N>>>22),N=P+(v^(M|~S))+I[10]+4293915773&4294967295,P=M+(N<<15&4294967295|N>>>17),N=S+(M^(P|~v))+I[1]+2240044497&4294967295,S=P+(N<<21&4294967295|N>>>11),N=v+(P^(S|~M))+I[8]+1873313359&4294967295,v=S+(N<<6&4294967295|N>>>26),N=M+(S^(v|~P))+I[15]+4264355552&4294967295,M=v+(N<<10&4294967295|N>>>22),N=P+(v^(M|~S))+I[6]+2734768916&4294967295,P=M+(N<<15&4294967295|N>>>17),N=S+(M^(P|~v))+I[13]+1309151649&4294967295,S=P+(N<<21&4294967295|N>>>11),N=v+(P^(S|~M))+I[4]+4149444226&4294967295,v=S+(N<<6&4294967295|N>>>26),N=M+(S^(v|~P))+I[11]+3174756917&4294967295,M=v+(N<<10&4294967295|N>>>22),N=P+(v^(M|~S))+I[2]+718787259&4294967295,P=M+(N<<15&4294967295|N>>>17),N=S+(M^(P|~v))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,E.g[2]=E.g[2]+P&4294967295,E.g[3]=E.g[3]+M&4294967295}o.prototype.v=function(E,v){v===void 0&&(v=E.length);const S=v-this.blockSize,I=this.C;let P=this.h,M=0;for(;M<v;){if(P==0)for(;M<=S;)i(this,E,M),M+=this.blockSize;if(typeof E=="string"){for(;M<v;)if(I[P++]=E.charCodeAt(M++),P==this.blockSize){i(this,I),P=0;break}}else for(;M<v;)if(I[P++]=E[M++],P==this.blockSize){i(this,I),P=0;break}}this.h=P,this.o+=v},o.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;v=this.o*8;for(var S=E.length-8;S<E.length;++S)E[S]=v&255,v/=256;for(this.v(E),E=Array(16),v=0,S=0;S<4;++S)for(let I=0;I<32;I+=8)E[v++]=this.g[S]>>>I&255;return E};function r(E,v){var S=c;return Object.prototype.hasOwnProperty.call(S,E)?S[E]:S[E]=v(E)}function s(E,v){this.h=v;const S=[];let I=!0;for(let P=E.length-1;P>=0;P--){const M=E[P]|0;I&&M==v||(S[P]=M,I=!1)}this.g=S}var c={};function d(E){return-128<=E&&E<128?r(E,function(v){return new s([v|0],v<0?-1:0)}):new s([E|0],E<0?-1:0)}function f(E){if(isNaN(E)||!isFinite(E))return g;if(E<0)return F(f(-E));const v=[];let S=1;for(let I=0;E>=S;I++)v[I]=E/S|0,S*=4294967296;return new s(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return F(h(E.substring(1),v));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=f(Math.pow(v,8));let I=g;for(let M=0;M<E.length;M+=8){var P=Math.min(8,E.length-M);const N=parseInt(E.substring(M,M+P),v);P<8?(P=f(Math.pow(v,P)),I=I.j(P).add(f(N))):(I=I.j(S),I=I.add(f(N)))}return I}var g=d(0),m=d(1),w=d(16777216);t=s.prototype,t.m=function(){if(R(this))return-F(this).m();let E=0,v=1;for(let S=0;S<this.g.length;S++){const I=this.i(S);E+=(I>=0?I:4294967296+I)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(k(this))return"0";if(R(this))return"-"+F(this).toString(E);const v=f(Math.pow(E,6));var S=this;let I="";for(;;){const P=D(S,v).g;S=A(S,P.j(v));let M=((S.g.length>0?S.g[0]:S.h)>>>0).toString(E);if(S=P,k(S))return M+I;for(;M.length<6;)M="0"+M;I=M+I}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function k(E){if(E.h!=0)return!1;for(let v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function R(E){return E.h==-1}t.l=function(E){return E=A(this,E),R(E)?-1:k(E)?0:1};function F(E){const v=E.g.length,S=[];for(let I=0;I<v;I++)S[I]=~E.g[I];return new s(S,~E.h).add(m)}t.abs=function(){return R(this)?F(this):this},t.add=function(E){const v=Math.max(this.g.length,E.g.length),S=[];let I=0;for(let P=0;P<=v;P++){let M=I+(this.i(P)&65535)+(E.i(P)&65535),N=(M>>>16)+(this.i(P)>>>16)+(E.i(P)>>>16);I=N>>>16,M&=65535,N&=65535,S[P]=N<<16|M}return new s(S,S[S.length-1]&-2147483648?-1:0)};function A(E,v){return E.add(F(v))}t.j=function(E){if(k(this)||k(E))return g;if(R(this))return R(E)?F(this).j(F(E)):F(F(this).j(E));if(R(E))return F(this.j(F(E)));if(this.l(w)<0&&E.l(w)<0)return f(this.m()*E.m());const v=this.g.length+E.g.length,S=[];for(var I=0;I<2*v;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(let P=0;P<E.g.length;P++){const M=this.i(I)>>>16,N=this.i(I)&65535,Y=E.i(P)>>>16,ne=E.i(P)&65535;S[2*I+2*P]+=N*ne,C(S,2*I+2*P),S[2*I+2*P+1]+=M*ne,C(S,2*I+2*P+1),S[2*I+2*P+1]+=N*Y,C(S,2*I+2*P+1),S[2*I+2*P+2]+=M*Y,C(S,2*I+2*P+2)}for(E=0;E<v;E++)S[E]=S[2*E+1]<<16|S[2*E];for(E=v;E<2*v;E++)S[E]=0;return new s(S,0)};function C(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function x(E,v){this.g=E,this.h=v}function D(E,v){if(k(v))throw Error("division by zero");if(k(E))return new x(g,g);if(R(E))return v=D(F(E),v),new x(F(v.g),F(v.h));if(R(v))return v=D(E,F(v)),new x(F(v.g),v.h);if(E.g.length>30){if(R(E)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var S=m,I=v;I.l(E)<=0;)S=B(S),I=B(I);var P=V(S,1),M=V(I,1);for(I=V(I,2),S=V(S,2);!k(I);){var N=M.add(I);N.l(E)<=0&&(P=P.add(S),M=N),I=V(I,1),S=V(S,1)}return v=A(E,P.j(v)),new x(P,v)}for(P=g;E.l(v)>=0;){for(S=Math.max(1,Math.floor(E.m()/v.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),M=f(S),N=M.j(v);R(N)||N.l(E)>0;)S-=I,M=f(S),N=M.j(v);k(M)&&(M=m),P=P.add(M),E=A(E,N)}return new x(P,E)}t.B=function(E){return D(this,E).h},t.and=function(E){const v=Math.max(this.g.length,E.g.length),S=[];for(let I=0;I<v;I++)S[I]=this.i(I)&E.i(I);return new s(S,this.h&E.h)},t.or=function(E){const v=Math.max(this.g.length,E.g.length),S=[];for(let I=0;I<v;I++)S[I]=this.i(I)|E.i(I);return new s(S,this.h|E.h)},t.xor=function(E){const v=Math.max(this.g.length,E.g.length),S=[];for(let I=0;I<v;I++)S[I]=this.i(I)^E.i(I);return new s(S,this.h^E.h)};function B(E){const v=E.g.length+1,S=[];for(let I=0;I<v;I++)S[I]=E.i(I)<<1|E.i(I-1)>>>31;return new s(S,E.h)}function V(E,v){const S=v>>5;v%=32;const I=E.g.length-S,P=[];for(let M=0;M<I;M++)P[M]=v>0?E.i(M+S)>>>v|E.i(M+S+1)<<32-v:E.i(M+S);return new s(P,E.h)}o.prototype.digest=o.prototype.A,o.prototype.reset=o.prototype.u,o.prototype.update=o.prototype.v,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,Hc=s}).apply(typeof up<"u"?up:typeof self<"u"?self:typeof window<"u"?window:{});var Ts=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ts=="object"&&Ts];for(var p=0;p<a.length;++p){var y=a[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var o=n(this);function i(a,p){if(p)e:{var y=o;a=a.split(".");for(var T=0;T<a.length-1;T++){var L=a[T];if(!(L in y))break e;y=y[L]}a=a[a.length-1],T=y[a],p=p(T),p!=T&&p!=null&&e(y,a,{configurable:!0,writable:!0,value:p})}}i("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(a){return a||function(p){var y=[],T;for(T in p)Object.prototype.hasOwnProperty.call(p,T)&&y.push([T,p[T]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},s=this||self;function c(a){var p=typeof a;return p=="object"&&a!=null||p=="function"}function d(a,p,y){return a.call.apply(a.bind,arguments)}function f(a,p,y){return f=d,f.apply(null,arguments)}function h(a,p){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),a.apply(this,T)}}function g(a,p){function y(){}y.prototype=p.prototype,a.Z=p.prototype,a.prototype=new y,a.prototype.constructor=a,a.Ob=function(T,L,U){for(var q=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)q[ee-2]=arguments[ee];return p.prototype[L].apply(T,q)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function w(a){const p=a.length;if(p>0){const y=Array(p);for(let T=0;T<p;T++)y[T]=a[T];return y}return[]}function k(a,p){for(let T=1;T<arguments.length;T++){const L=arguments[T];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=a.length||0;const U=L.length||0;a.length=y+U;for(let q=0;q<U;q++)a[y+q]=L[q]}else a.push(L)}}class R{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function F(a){s.setTimeout(()=>{throw a},0)}function A(){var a=E;let p=null;return a.g&&(p=a.g,a.g=a.g.next,a.g||(a.h=null),p.next=null),p}class C{constructor(){this.h=this.g=null}add(p,y){const T=x.get();T.set(p,y),this.h?this.h.next=T:this.g=T,this.h=T}}var x=new R(()=>new D,a=>a.reset());class D{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let B,V=!1,E=new C,v=()=>{const a=Promise.resolve(void 0);B=()=>{a.then(S)}};function S(){for(var a;a=A();){try{a.h.call(a.g)}catch(y){F(y)}var p=x;p.j(a),p.h<100&&(p.h++,a.next=p.g,p.g=a)}V=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(a,p){this.type=a,this.g=this.target=p,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var a=!1,p=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const y=()=>{};s.addEventListener("test",y,p),s.removeEventListener("test",y,p)}catch{}return a}();function N(a){return/^[\s\xa0]*$/.test(a)}function Y(a,p){P.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,p)}g(Y,P),Y.prototype.init=function(a,p){const y=this.type=a.type,T=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=p,p=a.relatedTarget,p||(y=="mouseover"?p=a.fromElement:y=="mouseout"&&(p=a.toElement)),this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&Y.Z.h.call(this)},Y.prototype.h=function(){Y.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),me=0;function $e(a,p,y,T,L){this.listener=a,this.proxy=null,this.src=p,this.type=y,this.capture=!!T,this.ha=L,this.key=++me,this.da=this.fa=!1}function b(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function K(a,p,y){for(const T in a)p.call(y,a[T],T,a)}function Q(a,p){for(const y in a)p.call(void 0,a[y],y,a)}function z(a){const p={};for(const y in a)p[y]=a[y];return p}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(a,p){let y,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(y in T)a[y]=T[y];for(let U=0;U<oe.length;U++)y=oe[U],Object.prototype.hasOwnProperty.call(T,y)&&(a[y]=T[y])}}function Te(a){this.src=a,this.g={},this.h=0}Te.prototype.add=function(a,p,y,T,L){const U=a.toString();a=this.g[U],a||(a=this.g[U]=[],this.h++);const q=nt(a,p,T,L);return q>-1?(p=a[q],y||(p.fa=!1)):(p=new $e(p,this.src,U,!!T,L),p.fa=y,a.push(p)),p};function Vt(a,p){const y=p.type;if(y in a.g){var T=a.g[y],L=Array.prototype.indexOf.call(T,p,void 0),U;(U=L>=0)&&Array.prototype.splice.call(T,L,1),U&&(b(p),a.g[y].length==0&&(delete a.g[y],a.h--))}}function nt(a,p,y,T){for(let L=0;L<a.length;++L){const U=a[L];if(!U.da&&U.listener==p&&U.capture==!!y&&U.ha==T)return L}return-1}var It="closure_lm_"+(Math.random()*1e6|0),Fe={};function ot(a,p,y,T,L){if(Array.isArray(p)){for(let U=0;U<p.length;U++)ot(a,p[U],y,T,L);return null}return y=Br(y),a&&a[ne]?a.J(p,y,c(T)?!!T.capture:!1,L):Co(a,p,y,!1,T,L)}function Co(a,p,y,T,L,U){if(!p)throw Error("Invalid event type");const q=c(L)?!!L.capture:!!L;let ee=hn(a);if(ee||(a[It]=ee=new Te(a)),y=ee.add(p,y,T,q,U),y.proxy)return y;if(T=dn(),y.proxy=T,T.src=a,T.listener=y,a.addEventListener)M||(L=q),L===void 0&&(L=!1),a.addEventListener(p.toString(),T,L);else if(a.attachEvent)a.attachEvent(fn(p.toString()),T);else if(a.addListener&&a.removeListener)a.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function dn(){function a(y){return p.call(a.src,a.listener,y)}const p=Vr;return a}function mi(a,p,y,T,L){if(Array.isArray(p))for(var U=0;U<p.length;U++)mi(a,p[U],y,T,L);else T=c(T)?!!T.capture:!!T,y=Br(y),a&&a[ne]?(a=a.i,U=String(p).toString(),U in a.g&&(p=a.g[U],y=nt(p,y,T,L),y>-1&&(b(p[y]),Array.prototype.splice.call(p,y,1),p.length==0&&(delete a.g[U],a.h--)))):a&&(a=hn(a))&&(p=a.g[p.toString()],a=-1,p&&(a=nt(p,y,T,L)),(y=a>-1?p[a]:null)&&Eo(y))}function Eo(a){if(typeof a!="number"&&a&&!a.da){var p=a.src;if(p&&p[ne])Vt(p.i,a);else{var y=a.type,T=a.proxy;p.removeEventListener?p.removeEventListener(y,T,a.capture):p.detachEvent?p.detachEvent(fn(y),T):p.addListener&&p.removeListener&&p.removeListener(T),(y=hn(p))?(Vt(y,a),y.h==0&&(y.src=null,p[It]=null)):b(a)}}}function fn(a){return a in Fe?Fe[a]:Fe[a]="on"+a}function Vr(a,p){if(a.da)a=!0;else{p=new Y(p,this);const y=a.listener,T=a.ha||a.src;a.fa&&Eo(a),a=y.call(T,p)}return a}function hn(a){return a=a[It],a instanceof Te?a:null}var gi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Br(a){return typeof a=="function"?a:(a[gi]||(a[gi]=function(p){return a.handleEvent(p)}),a[gi])}function Ne(){I.call(this),this.i=new Te(this),this.M=this,this.G=null}g(Ne,I),Ne.prototype[ne]=!0,Ne.prototype.removeEventListener=function(a,p,y,T){mi(this,a,p,y,T)};function Ae(a,p){var y,T=a.G;if(T)for(y=[];T;T=T.G)y.push(T);if(a=a.M,T=p.type||p,typeof p=="string")p=new P(p,a);else if(p instanceof P)p.target=p.target||a;else{var L=p;p=new P(T,a),ae(p,L)}L=!0;let U,q;if(y)for(q=y.length-1;q>=0;q--)U=p.g=y[q],L=wo(U,T,!0,p)&&L;if(U=p.g=a,L=wo(U,T,!0,p)&&L,L=wo(U,T,!1,p)&&L,y)for(q=0;q<y.length;q++)U=p.g=y[q],L=wo(U,T,!1,p)&&L}Ne.prototype.N=function(){if(Ne.Z.N.call(this),this.i){var a=this.i;for(const p in a.g){const y=a.g[p];for(let T=0;T<y.length;T++)b(y[T]);delete a.g[p],a.h--}}this.G=null},Ne.prototype.J=function(a,p,y,T){return this.i.add(String(a),p,!1,y,T)},Ne.prototype.K=function(a,p,y,T){return this.i.add(String(a),p,!0,y,T)};function wo(a,p,y,T){if(p=a.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let U=0;U<p.length;++U){const q=p[U];if(q&&!q.da&&q.capture==y){const ee=q.listener,De=q.ha||q.src;q.fa&&Vt(a.i,q),L=ee.call(De,T)!==!1&&L}}return L&&!T.defaultPrevented}function pn(a,p){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=f(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:s.setTimeout(a,p||0)}function Gr(a){a.g=pn(()=>{a.g=null,a.i&&(a.i=!1,Gr(a))},a.l);const p=a.h;a.h=null,a.m.apply(null,p)}class Fl extends I{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Gr(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gt(a){I.call(this),this.h=a,this.g={}}g(gt,I);var Hr=[];function yi(a){K(a.g,function(p,y){this.g.hasOwnProperty(y)&&Eo(p)},a),a.g={}}gt.prototype.N=function(){gt.Z.N.call(this),yi(this)},gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Z=s.JSON.stringify,Io=s.JSON.parse,Vl=class{stringify(a){return s.JSON.stringify(a,void 0)}parse(a){return s.JSON.parse(a,void 0)}};function qr(){}function _i(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function vi(){P.call(this,"d")}g(vi,P);function Ti(){P.call(this,"c")}g(Ti,P);var mn={},br=null;function Si(){return br=br||new Ne}mn.Ia="serverreachability";function Or(a){P.call(this,mn.Ia,a)}g(Or,P);function Jn(a){const p=Si();Ae(p,new Or(p))}mn.STAT_EVENT="statevent";function $r(a,p){P.call(this,mn.STAT_EVENT,a),this.stat=p}g($r,P);function Ve(a){const p=Si();Ae(p,new $r(p,a))}mn.Ja="timingevent";function zr(a,p){P.call(this,mn.Ja,a),this.size=p}g(zr,P);function Wn(a,p){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){a()},p)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function Bl(a,p,y,T,L,U){a.info(function(){if(a.g)if(U){var q="",ee=U.split("&");for(let he=0;he<ee.length;he++){var De=ee[he].split("=");if(De.length>1){const Be=De[0];De=De[1];const qt=Be.split("_");q=qt.length>=2&&qt[1]=="type"?q+(Be+"="+De+"&"):q+(Be+"=redacted&")}}}else q=null;else q=U;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+p+`
`+y+`
`+q})}function W(a,p,y,T,L,U,q){a.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+p+`
`+y+`
`+U+" "+q})}function O(a,p,y,T){a.info(function(){return"XMLHTTP TEXT ("+p+"): "+fe(a,y)+(T?" "+T:"")})}function X(a,p){a.info(function(){return"TIMEOUT: "+p})}Kn.prototype.info=function(){};function fe(a,p){if(!a.g)return p;if(!p)return null;try{const U=JSON.parse(p);if(U){for(a=0;a<U.length;a++)if(Array.isArray(U[a])){var y=U[a];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let q=1;q<T.length;q++)T[q]=""}}}}return Z(U)}catch{return p}}var it={NO_ERROR:0,TIMEOUT:8},Xt={},Bt;function Xe(){}g(Xe,qr),Xe.prototype.g=function(){return new XMLHttpRequest},Bt=new Xe;function Gt(a){return encodeURIComponent(String(a))}function Gl(a){var p=1;a=a.split(":");const y=[];for(;p>0&&a.length;)y.push(a.shift()),p--;return a.length&&y.push(a.join(":")),y}function Pe(a,p,y,T){this.j=a,this.i=p,this.l=y,this.S=T||1,this.V=new gt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jr}function Jr(){this.i=null,this.g="",this.h=!1}var Wr={},Ci={};function Ei(a,p,y){a.M=1,a.A=Xr(Ht(p)),a.u=y,a.R=!0,Kr(a,null)}function Kr(a,p){a.F=Date.now(),Yr(a),a.B=Ht(a.A);var y=a.B,T=a.S;Array.isArray(T)||(T=[String(T)]),od(y.i,"t",T),a.C=0,y=a.j.L,a.h=new Jr,a.g=Sd(a.j,y?p:null,!a.u),a.P>0&&(a.O=new Fl(f(a.Y,a,a.g),a.P)),p=a.V,y=a.g,T=a.ba;var L="readystatechange";Array.isArray(L)||(L&&(Hr[0]=L.toString()),L=Hr);for(let U=0;U<L.length;U++){const q=ot(y,L[U],T||p.handleEvent,!1,p.h||p);if(!q)break;p.g[q.key]=q}p=a.J?z(a.J):{},a.u?(a.v||(a.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,p)):(a.v="GET",a.g.ea(a.B,a.v,null,p)),Jn(),Bl(a.i,a.v,a.B,a.l,a.S,a.u)}Pe.prototype.ba=function(a){a=a.target;const p=this.O;p&&_n(a)==3?p.j():this.Y(a)},Pe.prototype.Y=function(a){try{if(a==this.g)e:{const ee=_n(this.g),De=this.g.ya(),he=this.g.ca();if(!(ee<3)&&(ee!=3||this.g&&(this.h.h||this.g.la()||cd(this.g)))){this.K||ee!=4||De==7||(De==8||he<=0?Jn(3):Jn(2)),Hl(this);var p=this.g.ca();this.X=p;var y=Uy(this);if(this.o=p==200,W(this.i,this.v,this.B,this.l,this.S,ee,p),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(T)){var U=T;break t}}U=null}if(a=U)O(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ql(this,a);else{this.o=!1,this.m=3,Ve(12),Yn(this),wi(this);break e}}if(this.R){a=!0;let Be;for(;!this.K&&this.C<y.length;)if(Be=Fy(this,y),Be==Ci){ee==4&&(this.m=4,Ve(14),a=!1),O(this.i,this.l,null,"[Incomplete Response]");break}else if(Be==Wr){this.m=4,Ve(15),O(this.i,this.l,y,"[Invalid Chunk]"),a=!1;break}else O(this.i,this.l,Be,null),ql(this,Be);if(zc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ee!=4||y.length!=0||this.h.h||(this.m=1,Ve(16),a=!1),this.o=this.o&&a,!a)O(this.i,this.l,y,"[Invalid Chunked Response]"),Yn(this),wi(this);else if(y.length>0&&!this.W){this.W=!0;var q=this.j;q.g==this&&q.aa&&!q.P&&(q.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Yl(q),q.P=!0,Ve(11))}}else O(this.i,this.l,y,null),ql(this,y);ee==4&&Yn(this),this.o&&!this.K&&(ee==4?yd(this.j,this):(this.o=!1,Yr(this)))}else Xy(this.g),p==400&&y.indexOf("Unknown SID")>0?(this.m=3,Ve(12)):(this.m=0,Ve(13)),Yn(this),wi(this)}}}catch{}finally{}};function Uy(a){if(!zc(a))return a.g.la();const p=cd(a.g);if(p==="")return"";let y="";const T=p.length,L=_n(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return Yn(a),wi(a),"";a.h.i=new s.TextDecoder}for(let U=0;U<T;U++)a.h.h=!0,y+=a.h.i.decode(p[U],{stream:!(L&&U==T-1)});return p.length=0,a.h.g+=y,a.C=0,a.h.g}function zc(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function Fy(a,p){var y=a.C,T=p.indexOf(`
`,y);return T==-1?Ci:(y=Number(p.substring(y,T)),isNaN(y)?Wr:(T+=1,T+y>p.length?Ci:(p=p.slice(T,T+y),a.C=T+y,p)))}Pe.prototype.cancel=function(){this.K=!0,Yn(this)};function Yr(a){a.T=Date.now()+a.H,Jc(a,a.H)}function Jc(a,p){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Wn(f(a.aa,a),p)}function Hl(a){a.D&&(s.clearTimeout(a.D),a.D=null)}Pe.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(X(this.i,this.B),this.M!=2&&(Jn(),Ve(17)),Yn(this),this.m=2,wi(this)):Jc(this,this.T-a)};function wi(a){a.j.I==0||a.K||yd(a.j,a)}function Yn(a){Hl(a);var p=a.O;p&&typeof p.dispose=="function"&&p.dispose(),a.O=null,yi(a.V),a.g&&(p=a.g,a.g=null,p.abort(),p.dispose())}function ql(a,p){try{var y=a.j;if(y.I!=0&&(y.g==a||bl(y.h,a))){if(!a.L&&bl(y.h,a)&&y.I==3){try{var T=y.Ba.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<a.F)ts(y),jr(y);else break e;Kl(y),Ve(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=Wn(f(y.Va,y),6e3));Yc(y.h)<=1&&y.ta&&(y.ta=void 0)}else Qn(y,11)}else if((a.L||y.g==a)&&ts(y),!N(p))for(L=y.Ba.g.parse(p),p=0;p<L.length;p++){let he=L[p];const Be=he[0];if(!(Be<=y.K))if(y.K=Be,he=he[1],y.I==2)if(he[0]=="c"){y.M=he[1],y.ba=he[2];const qt=he[3];qt!=null&&(y.ka=qt,y.j.info("VER="+y.ka));const Zn=he[4];Zn!=null&&(y.za=Zn,y.j.info("SVER="+y.za));const vn=he[5];vn!=null&&typeof vn=="number"&&vn>0&&(T=1.5*vn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Tn=a.g;if(Tn){const ns=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ns){var U=T.h;U.g||ns.indexOf("spdy")==-1&&ns.indexOf("quic")==-1&&ns.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Ol(U,U.h),U.h=null))}if(T.G){const Xl=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xl&&(T.wa=Xl,ge(T.J,T.G,Xl))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-a.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var q=a;if(T.na=Td(T,T.L?T.ba:null,T.W),q.L){Xc(T.h,q);var ee=q,De=T.O;De&&(ee.H=De),ee.D&&(Hl(ee),Yr(ee)),T.g=q}else md(T);y.i.length>0&&es(y)}else he[0]!="stop"&&he[0]!="close"||Qn(y,7);else y.I==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?Qn(y,7):Wl(y):he[0]!="noop"&&y.l&&y.l.qa(he),y.A=0)}}Jn(4)}catch{}}var Vy=class{constructor(a,p){this.g=a,this.map=p}};function Wc(a){this.l=a||10,s.PerformanceNavigationTiming?(a=s.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kc(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Yc(a){return a.h?1:a.g?a.g.size:0}function bl(a,p){return a.h?a.h==p:a.g?a.g.has(p):!1}function Ol(a,p){a.g?a.g.add(p):a.h=p}function Xc(a,p){a.h&&a.h==p?a.h=null:a.g&&a.g.has(p)&&a.g.delete(p)}Wc.prototype.cancel=function(){if(this.i=Qc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Qc(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let p=a.i;for(const y of a.g.values())p=p.concat(y.G);return p}return w(a.i)}var Zc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function By(a,p){if(a){a=a.split("&");for(let y=0;y<a.length;y++){const T=a[y].indexOf("=");let L,U=null;T>=0?(L=a[y].substring(0,T),U=a[y].substring(T+1)):L=a[y],p(L,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function gn(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;a instanceof gn?(this.l=a.l,Ii(this,a.j),this.o=a.o,this.g=a.g,Ai(this,a.u),this.h=a.h,$l(this,id(a.i)),this.m=a.m):a&&(p=String(a).match(Zc))?(this.l=!1,Ii(this,p[1]||"",!0),this.o=xi(p[2]||""),this.g=xi(p[3]||"",!0),Ai(this,p[4]),this.h=xi(p[5]||"",!0),$l(this,p[6]||"",!0),this.m=xi(p[7]||"")):(this.l=!1,this.i=new Ni(null,this.l))}gn.prototype.toString=function(){const a=[];var p=this.j;p&&a.push(ki(p,jc,!0),":");var y=this.g;return(y||p=="file")&&(a.push("//"),(p=this.o)&&a.push(ki(p,jc,!0),"@"),a.push(Gt(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&a.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&a.push("/"),a.push(ki(y,y.charAt(0)=="/"?qy:Hy,!0))),(y=this.i.toString())&&a.push("?",y),(y=this.m)&&a.push("#",ki(y,Oy)),a.join("")},gn.prototype.resolve=function(a){const p=Ht(this);let y=!!a.j;y?Ii(p,a.j):y=!!a.o,y?p.o=a.o:y=!!a.g,y?p.g=a.g:y=a.u!=null;var T=a.h;if(y)Ai(p,a.u);else if(y=!!a.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=p.h.lastIndexOf("/");L!=-1&&(T=p.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const U=[];for(let q=0;q<L.length;){const ee=L[q++];ee=="."?T&&q==L.length&&U.push(""):ee==".."?((U.length>1||U.length==1&&U[0]!="")&&U.pop(),T&&q==L.length&&U.push("")):(U.push(ee),T=!0)}T=U.join("/")}else T=L}return y?p.h=T:y=a.i.toString()!=="",y?$l(p,id(a.i)):y=!!a.m,y&&(p.m=a.m),p};function Ht(a){return new gn(a)}function Ii(a,p,y){a.j=y?xi(p,!0):p,a.j&&(a.j=a.j.replace(/:$/,""))}function Ai(a,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);a.u=p}else a.u=null}function $l(a,p,y){p instanceof Ni?(a.i=p,$y(a.i,a.l)):(y||(p=ki(p,by)),a.i=new Ni(p,a.l))}function ge(a,p,y){a.i.set(p,y)}function Xr(a){return ge(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function xi(a,p){return a?p?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ki(a,p,y){return typeof a=="string"?(a=encodeURI(a).replace(p,Gy),y&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Gy(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var jc=/[#\/\?@]/g,Hy=/[#\?:]/g,qy=/[#\?]/g,by=/[#\?@]/g,Oy=/#/g;function Ni(a,p){this.h=this.g=null,this.i=a||null,this.j=!!p}function Xn(a){a.g||(a.g=new Map,a.h=0,a.i&&By(a.i,function(p,y){a.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=Ni.prototype,t.add=function(a,p){Xn(this),this.i=null,a=Ao(this,a);let y=this.g.get(a);return y||this.g.set(a,y=[]),y.push(p),this.h+=1,this};function ed(a,p){Xn(a),p=Ao(a,p),a.g.has(p)&&(a.i=null,a.h-=a.g.get(p).length,a.g.delete(p))}function td(a,p){return Xn(a),p=Ao(a,p),a.g.has(p)}t.forEach=function(a,p){Xn(this),this.g.forEach(function(y,T){y.forEach(function(L){a.call(p,L,T,this)},this)},this)};function nd(a,p){Xn(a);let y=[];if(typeof p=="string")td(a,p)&&(y=y.concat(a.g.get(Ao(a,p))));else for(a=Array.from(a.g.values()),p=0;p<a.length;p++)y=y.concat(a[p]);return y}t.set=function(a,p){return Xn(this),this.i=null,a=Ao(this,a),td(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[p]),this.h+=1,this},t.get=function(a,p){return a?(a=nd(this,a),a.length>0?String(a[0]):p):p};function od(a,p,y){ed(a,p),y.length>0&&(a.i=null,a.g.set(Ao(a,p),w(y)),a.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],p=Array.from(this.g.keys());for(let T=0;T<p.length;T++){var y=p[T];const L=Gt(y);y=nd(this,y);for(let U=0;U<y.length;U++){let q=L;y[U]!==""&&(q+="="+Gt(y[U])),a.push(q)}}return this.i=a.join("&")};function id(a){const p=new Ni;return p.i=a.i,a.g&&(p.g=new Map(a.g),p.h=a.h),p}function Ao(a,p){return p=String(p),a.j&&(p=p.toLowerCase()),p}function $y(a,p){p&&!a.j&&(Xn(a),a.i=null,a.g.forEach(function(y,T){const L=T.toLowerCase();T!=L&&(ed(this,T),od(this,L,y))},a)),a.j=p}function zy(a,p){const y=new Kn;if(s.Image){const T=new Image;T.onload=h(yn,y,"TestLoadImage: loaded",!0,p,T),T.onerror=h(yn,y,"TestLoadImage: error",!1,p,T),T.onabort=h(yn,y,"TestLoadImage: abort",!1,p,T),T.ontimeout=h(yn,y,"TestLoadImage: timeout",!1,p,T),s.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=a}else p(!1)}function Jy(a,p){const y=new Kn,T=new AbortController,L=setTimeout(()=>{T.abort(),yn(y,"TestPingServer: timeout",!1,p)},1e4);fetch(a,{signal:T.signal}).then(U=>{clearTimeout(L),U.ok?yn(y,"TestPingServer: ok",!0,p):yn(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),yn(y,"TestPingServer: error",!1,p)})}function yn(a,p,y,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(y)}catch{}}function Wy(){this.g=new Vl}function zl(a){this.i=a.Sb||null,this.h=a.ab||!1}g(zl,qr),zl.prototype.g=function(){return new Qr(this.i,this.h)};function Qr(a,p){Ne.call(this),this.H=a,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Qr,Ne),t=Qr.prototype,t.open=function(a,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=p,this.readyState=1,Ri(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(p.body=a),(this.H||s).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pi(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;rd(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function rd(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var p=a.value?a.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!a.done}))&&(this.response=this.responseText+=p)}a.done?Pi(this):Ri(this),this.readyState==3&&rd(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,Pi(this))},t.Na=function(a){this.g&&(this.response=a,Pi(this))},t.ga=function(){this.g&&Pi(this)};function Pi(a){a.readyState=4,a.l=null,a.j=null,a.B=null,Ri(a)}t.setRequestHeader=function(a,p){this.A.append(a,p)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,a.push(y[0]+": "+y[1]),y=p.next();return a.join(`\r
`)};function Ri(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function sd(a){let p="";return K(a,function(y,T){p+=T,p+=":",p+=y,p+=`\r
`}),p}function Jl(a,p,y){e:{for(T in y){var T=!1;break e}T=!0}T||(y=sd(y),typeof a=="string"?y!=null&&Gt(y):ge(a,p,y))}function xe(a){Ne.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(xe,Ne);var Ky=/^https?$/i,Yy=["POST","PUT"];t=xe.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,p,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);p=p?p.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bt.g(),this.g.onreadystatechange=m(f(this.Ca,this));try{this.B=!0,this.g.open(p,String(a),!0),this.B=!1}catch(U){ld(this,U);return}if(a=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)y.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const U of T.keys())y.set(U,T.get(U));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(U=>U.toLowerCase()=="content-type"),L=s.FormData&&a instanceof s.FormData,!(Array.prototype.indexOf.call(Yy,p,void 0)>=0)||T||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,q]of y)this.g.setRequestHeader(U,q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(U){ld(this,U)}};function ld(a,p){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=p,a.o=5,ad(a),Zr(a)}function ad(a){a.A||(a.A=!0,Ae(a,"complete"),Ae(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,Ae(this,"complete"),Ae(this,"abort"),Zr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zr(this,!0)),xe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ud(this):this.Xa())},t.Xa=function(){ud(this)};function ud(a){if(a.h&&typeof r<"u"){if(a.v&&_n(a)==4)setTimeout(a.Ca.bind(a),0);else if(Ae(a,"readystatechange"),_n(a)==4){a.h=!1;try{const U=a.ca();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var T;if(T=U===0){let q=String(a.D).match(Zc)[1]||null;!q&&s.self&&s.self.location&&(q=s.self.location.protocol.slice(0,-1)),T=!Ky.test(q?q.toLowerCase():"")}y=T}if(y)Ae(a,"complete"),Ae(a,"success");else{a.o=6;try{var L=_n(a)>2?a.g.statusText:""}catch{L=""}a.l=L+" ["+a.ca()+"]",ad(a)}}finally{Zr(a)}}}}function Zr(a,p){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const y=a.g;a.g=null,p||Ae(a,"ready");try{y.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function _n(a){return a.g?a.g.readyState:0}t.ca=function(){try{return _n(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var p=this.g.responseText;return a&&p.indexOf(a)==0&&(p=p.substring(a.length)),Io(p)}};function cd(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Xy(a){const p={};a=(a.g&&_n(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<a.length;T++){if(N(a[T]))continue;var y=Gl(a[T]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const U=p[L]||[];p[L]=U,U.push(y)}Q(p,function(T){return T.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(a,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[a]||p}function dd(a){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mi("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mi("baseRetryDelayMs",5e3,a),this.Za=Mi("retryDelaySeedMs",1e4,a),this.Ta=Mi("forwardChannelMaxRetries",2,a),this.va=Mi("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new Wc(a&&a.concurrentRequestLimit),this.Ba=new Wy,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=dd.prototype,t.ka=8,t.I=1,t.connect=function(a,p,y,T){Ve(0),this.W=a,this.H=p||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=Td(this,null,this.W),es(this)};function Wl(a){if(fd(a),a.I==3){var p=a.V++,y=Ht(a.J);if(ge(y,"SID",a.M),ge(y,"RID",p),ge(y,"TYPE","terminate"),Di(a,y),p=new Pe(a,a.j,p),p.M=2,p.A=Xr(Ht(y)),y=!1,s.navigator&&s.navigator.sendBeacon)try{y=s.navigator.sendBeacon(p.A.toString(),"")}catch{}!y&&s.Image&&(new Image().src=p.A,y=!0),y||(p.g=Sd(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Yr(p)}vd(a)}function jr(a){a.g&&(Yl(a),a.g.cancel(),a.g=null)}function fd(a){jr(a),a.v&&(s.clearTimeout(a.v),a.v=null),ts(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&s.clearTimeout(a.m),a.m=null)}function es(a){if(!Kc(a.h)&&!a.m){a.m=!0;var p=a.Ea;B||v(),V||(B(),V=!0),E.add(p,a),a.D=0}}function Qy(a,p){return Yc(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=p.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Wn(f(a.Ea,a,p),_d(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const L=new Pe(this,this.j,a);let U=this.o;if(this.U&&(U?(U=z(U),ae(U,this.U)):U=this.U),this.u!==null||this.R||(L.J=U,U=null),this.S)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,p>4096){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=pd(this,L,p),y=Ht(this.J),ge(y,"RID",a),ge(y,"CVER",22),this.G&&ge(y,"X-HTTP-Session-Id",this.G),Di(this,y),U&&(this.R?p="headers="+Gt(sd(U))+"&"+p:this.u&&Jl(y,this.u,U)),Ol(this.h,L),this.Ra&&ge(y,"TYPE","init"),this.S?(ge(y,"$req",p),ge(y,"SID","null"),L.U=!0,Ei(L,y,null)):Ei(L,y,p),this.I=2}}else this.I==3&&(a?hd(this,a):this.i.length==0||Kc(this.h)||hd(this))};function hd(a,p){var y;p?y=p.l:y=a.V++;const T=Ht(a.J);ge(T,"SID",a.M),ge(T,"RID",y),ge(T,"AID",a.K),Di(a,T),a.u&&a.o&&Jl(T,a.u,a.o),y=new Pe(a,a.j,y,a.D+1),a.u===null&&(y.J=a.o),p&&(a.i=p.G.concat(a.i)),p=pd(a,y,1e3),y.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),Ol(a.h,y),Ei(y,T,p)}function Di(a,p){a.H&&K(a.H,function(y,T){ge(p,T,y)}),a.l&&K({},function(y,T){ge(p,T,y)})}function pd(a,p,y){y=Math.min(a.i.length,y);const T=a.l?f(a.l.Ka,a.l,a):null;e:{var L=a.i;let ee=-1;for(;;){const De=["count="+y];ee==-1?y>0?(ee=L[0].g,De.push("ofs="+ee)):ee=0:De.push("ofs="+ee);let he=!0;for(let Be=0;Be<y;Be++){var U=L[Be].g;const qt=L[Be].map;if(U-=ee,U<0)ee=Math.max(0,L[Be].g-100),he=!1;else try{U="req"+U+"_"||"";try{var q=qt instanceof Map?qt:Object.entries(qt);for(const[Zn,vn]of q){let Tn=vn;c(vn)&&(Tn=Z(vn)),De.push(U+Zn+"="+encodeURIComponent(Tn))}}catch(Zn){throw De.push(U+"type="+encodeURIComponent("_badmap")),Zn}}catch{T&&T(qt)}}if(he){q=De.join("&");break e}}q=void 0}return a=a.i.splice(0,y),p.G=a,q}function md(a){if(!a.g&&!a.v){a.Y=1;var p=a.Da;B||v(),V||(B(),V=!0),E.add(p,a),a.A=0}}function Kl(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Wn(f(a.Da,a),_d(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,gd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Wn(f(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ve(10),jr(this),gd(this))};function Yl(a){a.B!=null&&(s.clearTimeout(a.B),a.B=null)}function gd(a){a.g=new Pe(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var p=Ht(a.na);ge(p,"RID","rpc"),ge(p,"SID",a.M),ge(p,"AID",a.K),ge(p,"CI",a.F?"0":"1"),!a.F&&a.ia&&ge(p,"TO",a.ia),ge(p,"TYPE","xmlhttp"),Di(a,p),a.u&&a.o&&Jl(p,a.u,a.o),a.O&&(a.g.H=a.O);var y=a.g;a=a.ba,y.M=1,y.A=Xr(Ht(p)),y.u=null,y.R=!0,Kr(y,a)}t.Va=function(){this.C!=null&&(this.C=null,jr(this),Kl(this),Ve(19))};function ts(a){a.C!=null&&(s.clearTimeout(a.C),a.C=null)}function yd(a,p){var y=null;if(a.g==p){ts(a),Yl(a),a.g=null;var T=2}else if(bl(a.h,p))y=p.G,Xc(a.h,p),T=1;else return;if(a.I!=0){if(p.o)if(T==1){y=p.u?p.u.length:0,p=Date.now()-p.F;var L=a.D;T=Si(),Ae(T,new zr(T,y)),es(a)}else md(a);else if(L=p.m,L==3||L==0&&p.X>0||!(T==1&&Qy(a,p)||T==2&&Kl(a)))switch(y&&y.length>0&&(p=a.h,p.i=p.i.concat(y)),L){case 1:Qn(a,5);break;case 4:Qn(a,10);break;case 3:Qn(a,6);break;default:Qn(a,2)}}}function _d(a,p){let y=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(y*=2),y*p}function Qn(a,p){if(a.j.info("Error code "+p),p==2){var y=f(a.bb,a),T=a.Ua;const L=!T;T=new gn(T||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Ii(T,"https"),Xr(T),L?zy(T.toString(),y):Jy(T.toString(),y)}else Ve(2);a.I=0,a.l&&a.l.pa(p),vd(a),fd(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function vd(a){if(a.I=0,a.ja=[],a.l){const p=Qc(a.h);(p.length!=0||a.i.length!=0)&&(k(a.ja,p),k(a.ja,a.i),a.h.i.length=0,w(a.i),a.i.length=0),a.l.oa()}}function Td(a,p,y){var T=y instanceof gn?Ht(y):new gn(y);if(T.g!="")p&&(T.g=p+"."+T.g),Ai(T,T.u);else{var L=s.location;T=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const U=new gn(null);T&&Ii(U,T),p&&(U.g=p),L&&Ai(U,L),y&&(U.h=y),T=U}return y=a.G,p=a.wa,y&&p&&ge(T,y,p),ge(T,"VER",a.ka),Di(a,T),T}function Sd(a,p,y){if(p&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=a.Aa&&!a.ma?new xe(new zl({ab:y})):new xe(a.ma),p.Fa(a.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cd(){}t=Cd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function yt(a,p){Ne.call(this),this.g=new dd(p),this.l=a,this.h=p&&p.messageUrlParams||null,a=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(a?a["X-WebChannel-Content-Type"]=p.messageContentType:a={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(a?a["X-WebChannel-Client-Profile"]=p.sa:a={"X-WebChannel-Client-Profile":p.sa}),this.g.U=a,(a=p&&p.Qb)&&!N(a)&&(this.g.u=a),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!N(p)&&(this.g.G=p,a=this.h,a!==null&&p in a&&(a=this.h,p in a&&delete a[p])),this.j=new xo(this)}g(yt,Ne),yt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yt.prototype.close=function(){Wl(this.g)},yt.prototype.o=function(a){var p=this.g;if(typeof a=="string"){var y={};y.__data__=a,a=y}else this.v&&(y={},y.__data__=Z(a),a=y);p.i.push(new Vy(p.Ya++,a)),p.I==3&&es(p)},yt.prototype.N=function(){this.g.l=null,delete this.j,Wl(this.g),delete this.g,yt.Z.N.call(this)};function Ed(a){vi.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var p=a.__sm__;if(p){e:{for(const y in p){a=y;break e}a=void 0}(this.i=a)&&(a=this.i,p=p!==null&&a in p?p[a]:void 0),this.data=p}else this.data=a}g(Ed,vi);function wd(){Ti.call(this),this.status=1}g(wd,Ti);function xo(a){this.g=a}g(xo,Cd),xo.prototype.ra=function(){Ae(this.g,"a")},xo.prototype.qa=function(a){Ae(this.g,new Ed(a))},xo.prototype.pa=function(a){Ae(this.g,new wd)},xo.prototype.oa=function(){Ae(this.g,"b")},yt.prototype.send=yt.prototype.o,yt.prototype.open=yt.prototype.m,yt.prototype.close=yt.prototype.close,it.NO_ERROR=0,it.TIMEOUT=8,it.HTTP_ERROR=6,Xt.COMPLETE="complete",_i.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",Ne.prototype.listen=Ne.prototype.J,xe.prototype.listenOnce=xe.prototype.K,xe.prototype.getLastError=xe.prototype.Ha,xe.prototype.getLastErrorCode=xe.prototype.ya,xe.prototype.getStatus=xe.prototype.ca,xe.prototype.getResponseJson=xe.prototype.La,xe.prototype.getResponseText=xe.prototype.la,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Fa}).apply(typeof Ts<"u"?Ts:typeof self<"u"?self:typeof window<"u"?window:{});const cp="@firebase/firestore",dp="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ur="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new Ty("@firebase/firestore");function Mt(t,...e){if(li.logLevel<=de.DEBUG){const n=e.map(qc);li.debug(`Firestore (${Ur}): ${t}`,...n)}}function Ay(t,...e){if(li.logLevel<=de.ERROR){const n=e.map(qc);li.error(`Firestore (${Ur}): ${t}`,...n)}}function JI(t,...e){if(li.logLevel<=de.WARN){const n=e.map(qc);li.warn(`Firestore (${Ur}): ${t}`,...n)}}function qc(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t,e,n){let o="Unexpected state";typeof e=="string"?o=e:n=e,xy(t,o,n)}function xy(t,e,n){let o=`FIRESTORE (${Ur}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{o+=" CONTEXT: "+JSON.stringify(n)}catch{o+=" CONTEXT: "+n}throw Ay(o),new Error(o)}function ir(t,e,n,o){let i="Unexpected state";typeof n=="string"?i=n:o=n,t||xy(e,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class se extends pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ze.UNAUTHENTICATED))}shutdown(){}}class KI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YI{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ir(this.o===void 0,42304);let o=this.i;const i=d=>this.i!==o?(o=this.i,n(d)):Promise.resolve();let r=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new rr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const d=r;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{Mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new rr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(ir(typeof o.accessToken=="string",31837,{l:o}),new ky(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ir(e===null||typeof e=="string",2055,{h:e}),new Ze(e)}}class XI{constructor(e,n,o){this.P=e,this.T=n,this.I=o,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QI{constructor(e,n,o){this.P=e,this.T=n,this.I=o}getToken(){return Promise.resolve(new XI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,RI(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ir(this.o===void 0,3512);const o=r=>{r.error!=null&&Mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const s=r.token!==this.m;return this.m=r.token,Mt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>o(r))};const i=r=>{Mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?i(r):Mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new fp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ir(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let o=0;o<t;o++)n[o]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const i=jI(40);for(let r=0;r<i.length;++r)o.length<20&&i[r]<n&&(o+=e.charAt(i[r]%62))}return o}}function Hn(t,e){return t<e?-1:t>e?1:0}function tA(t,e){const n=Math.min(t.length,e.length);for(let o=0;o<n;o++){const i=t.charAt(o),r=e.charAt(o);if(i!==r)return ka(i)===ka(r)?Hn(i,r):ka(i)?1:-1}return Hn(t.length,e.length)}const nA=55296,oA=57343;function ka(t){const e=t.charCodeAt(0);return e>=nA&&e<=oA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="__name__";class $t{constructor(e,n,o){n===void 0?n=0:n>e.length&&Ar(637,{offset:n,range:e.length}),o===void 0?o=e.length-n:o>e.length-n&&Ar(1746,{length:o,range:e.length-n}),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return $t.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $t?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let i=0;i<o;i++){const r=$t.compareSegments(e.get(i),n.get(i));if(r!==0)return r}return Hn(e.length,n.length)}static compareSegments(e,n){const o=$t.isNumericId(e),i=$t.isNumericId(n);return o&&!i?-1:!o&&i?1:o&&i?$t.extractNumericId(e).compare($t.extractNumericId(n)):tA(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hc.fromString(e.substring(4,e.length-2))}}class Pt extends $t{construct(e,n,o){return new Pt(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new se(re.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(i=>i.length>0))}return new Pt(n)}static emptyPath(){return new Pt([])}}const iA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class no extends $t{construct(e,n,o){return new no(e,n,o)}static isValidIdentifier(e){return iA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),no.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hp}static keyField(){return new no([hp])}static fromServerFormat(e){const n=[];let o="",i=0;const r=()=>{if(o.length===0)throw new se(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let s=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new se(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new se(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=d,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(o+=c,i++):(r(),i++)}if(r(),s)throw new se(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new no(n)}static emptyPath(){return new no([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.path=e}static fromPath(e){return new so(Pt.fromString(e))}static fromName(e){return new so(Pt.fromString(e).popFirst(5))}static empty(){return new so(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new so(new Pt(e.slice()))}}function rA(t,e,n,o){if(e===!0&&o===!0)throw new se(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function lA(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ar(12329,{type:typeof t})}function aA(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lA(t);throw new se(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e){const n={typeString:t};return e&&(n.value=e),n}function Fr(t,e){if(!sA(t))throw new se(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const o in e)if(e[o]){const i=e[o].typeString,r="value"in e[o]?{value:e[o].value}:void 0;if(!(o in t)){n=`JSON missing required field: '${o}'`;break}const s=t[o];if(i&&typeof s!==i){n=`JSON field '${o}' must be a ${i}.`;break}if(r!==void 0&&s!==r.value){n=`Expected '${o}' field to equal '${r.value}'`;break}}if(n)throw new se(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=-62135596800,mp=1e6;class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor((e-1e3*n)*mp);return new zt(n,o)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<pp)throw new se(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mp}_compareTo(e){return this.seconds===e.seconds?Hn(this.nanoseconds,e.nanoseconds):Hn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fr(e,zt._jsonSchema))return new zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}zt._jsonSchemaVersion="firestore/timestamp/1.0",zt._jsonSchema={type:Me("string",zt._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};function uA(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new cA("Invalid base64 string: "+r):r}}(e);return new _o(n)}static fromUint8Array(e){const n=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new _o(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let i=0;i<n.length;i++)o[i]=n.charCodeAt(i);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Hn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_o.EMPTY_BYTE_STRING=new _o("");const Fu="(default)";class ml{constructor(e,n){this.projectId=e,this.database=n||Fu}static empty(){return new ml("","")}get isDefaultDatabase(){return this.database===Fu}isEqual(e){return e instanceof ml&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n=null,o=[],i=[],r=null,s="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=i,this.limit=r,this.limitType=s,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fA(t){return new dA(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gp,ie;(ie=gp||(gp={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Hc([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=1048576;function Na(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n,o=1e3,i=1.5,r=6e4){this.Mi=e,this.timerId=n,this.d_=o,this.A_=i,this.R_=r,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),o=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-o);i>0&&Mt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,o,i,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=i,this.removalCallback=r,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,i,r){const s=Date.now()+o,c=new bc(e,n,s,i,r);return c.start(o),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var yp,_p;(_p=yp||(yp={})).Ma="default",_p.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="firestore.googleapis.com",Tp=!0;class Sp{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ny,this.ssl=Tp}else this.host=e.host,this.ssl=e.ssl??Tp;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pA)throw new se(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gA(e.experimentalLongPollingOptions??{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new se(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new se(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new se(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(o,i){return o.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Py{constructor(e,n,o,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new WI;switch(o.type){case"firstParty":return new QI(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new se(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=vp.get(n);o&&(Mt("ComponentProvider","Removing Datastore"),vp.delete(n),o.terminate())}(this),Promise.resolve()}}function yA(t,e,n,o={}){var f;t=aA(t,Py);const i=_y(e),r=t._getSettings(),s={...r,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(w1(`https://${c}`),k1("Firestore",!0)),r.host!==Ny&&r.host!==c&&JI("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...r,host:c,ssl:i,emulatorOptions:o};if(!fl(d,s)&&(t._setSettings(d),o.mockUserToken)){let h,g;if(typeof o.mockUserToken=="string")h=o.mockUserToken,g=Ze.MOCK_USER;else{h=I1(o.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const m=o.mockUserToken.sub||o.mockUserToken.user_id;if(!m)throw new se(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ze(m)}t._authCredentials=new KI(new ky(h,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Oc(this.firestore,e,this._query)}}class Wt{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $c(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,o){if(Fr(n,Wt._jsonSchema))return new Wt(e,o||null,new so(Pt.fromString(n.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:Me("string",Wt._jsonSchemaVersion),referencePath:Me("string")};class $c extends Oc{constructor(e,n,o){super(e,n,fA(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new so(e))}withConverter(e){return new $c(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="AsyncQueue";class Ep{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mA(this,"async_queue_retry"),this._c=()=>{const o=Na();o&&Mt(Cp,"Visibility state changed to "+o.visibilityState),this.M_.w_()},this.ac=e;const n=Na();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Na();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new rr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!uA(e))throw e;Mt(Cp,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(o=>{throw this.nc=o,this.rc=!1,Ay("INTERNAL UNHANDLED ERROR: ",wp(o)),o}).then(o=>(this.rc=!1,o))));return this.ac=n,n}enqueueAfterDelay(e,n,o){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=bc.createAndSchedule(this,e,n,o,r=>this.hc(r));return this.tc.push(i),i}uc(){this.nc&&Ar(47125,{Pc:wp(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function wp(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class _A extends Py{constructor(e,n,o,i){super(e,n,o,i),this.type="firestore",this._queue=new Ep,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ep(e),this._firestoreClient=void 0,await e}}}function vA(t,e){const n=typeof t=="object"?t:UI(),o=typeof t=="string"?t:Fu,i=PI(n,"firestore").getImmediate({identifier:o});if(!i._initialized){const r=C1("firestore");r&&yA(i,...r)}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jt(_o.fromBase64String(e))}catch(n){throw new se(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jt(_o.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fr(e,jt._jsonSchema))return jt.fromBase64String(e.bytes)}}jt._jsonSchemaVersion="firestore/bytes/1.0",jt._jsonSchema={type:Me("string",jt._jsonSchemaVersion),bytes:Me("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new no(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Hn(this._lat,e._lat)||Hn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:uo._jsonSchemaVersion}}static fromJSON(e){if(Fr(e,uo._jsonSchema))return new uo(e.latitude,e.longitude)}}uo._jsonSchemaVersion="firestore/geoPoint/1.0",uo._jsonSchema={type:Me("string",uo._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,i){if(o.length!==i.length)return!1;for(let r=0;r<o.length;++r)if(o[r]!==i[r])return!1;return!0}(this._values,e._values)}toJSON(){return{type:co._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fr(e,co._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new co(e.vectorValues);throw new se(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}co._jsonSchemaVersion="firestore/vectorValue/1.0",co._jsonSchema={type:Me("string",co._jsonSchemaVersion),vectorValues:Me("object")};const TA=new RegExp("[~\\*/\\[\\]]");function SA(t,e,n){if(e.search(TA)>=0)throw Ip(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new Ry(...e.split("."))._internalPath}catch{throw Ip(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function Ip(t,e,n,o,i){let r=`Function ${e}() called with invalid data`;r+=". ";let s="";return new se(re.INVALID_ARGUMENT,r+t+s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n,o,i,r){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CA extends My{data(){return super.data()}}function Dy(t,e){return typeof e=="string"?SA(t,e):e instanceof Ry?e._internalPath:e._delegate._internalPath}class Ss{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zo extends My{constructor(e,n,o,i,r,s){super(e,n,o,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Dy("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zo._jsonSchema={type:Me("string",Zo._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class Fs extends Zo{data(e={}){return super.data(e)}}class sr{constructor(e,n,o,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ss(i.hasPendingWrites,i.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Fs(this._firestore,this._userDataWriter,o.key,o,new Ss(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{const d=new Fs(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ss(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||c.type!==3).map(c=>{const d=new Fs(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ss(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return c.type!==0&&(f=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),h=s.indexOf(c.doc.key)),{type:EA(c.type),doc:d,oldIndex:f,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=eA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],o=[],i=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),o.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),i.push(r.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function EA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ar(61501,{type:t})}}sr._jsonSchemaVersion="firestore/querySnapshot/1.0",sr._jsonSchema={type:Me("string",sr._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};(function(e,n=!0){(function(i){Ur=i})(LI),pl(new wr("firestore",(o,{instanceIdentifier:i,options:r})=>{const s=o.getProvider("app").getImmediate(),c=new _A(new YI(o.getProvider("auth-internal")),new ZI(s,o.getProvider("app-check-internal")),function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new se(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ml(f.options.projectId,h)}(s,i),s);return r={useFetchStreams:n,...r},c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),Qo(cp,dp,e),Qo(cp,dp,"esm2020")})();var wA="firebase",IA="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qo(wA,IA,"app");const AA={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},xA=Ey(AA);vA(xA);function kA(){return/Mobi|Android/i.test(navigator.userAgent)}function NA(){return window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}const PA={ko:{language_selection_title:"언어",error_wish_required:"목표를 입력해주세요.",error_outcome_required:"결과를 입력해주세요.",error_obstacle_required:"장애물을 입력해주세요.",error_plan_required:"If-Then 계획을 입력해주세요.",error_deadline_required:"마감일을 선택해주세요.",error_day_required:"하나 이상의 요일을 선택해주세요.",my_goals_title:"나의 목표",sort_label_manual:"수동",sort_label_deadline:"마감일순",sort_label_newest:"최신순",sort_label_alphabetical:"이름순",sort_label_ai:"AI 추천",ai_sorting_button:"정렬 중...",add_new_goal_button_label:"새로운 목표 추가",filter_all:"모든 목표",filter_active:"진행중",filter_completed:"완료됨",empty_message_all:"첫 번째 목표를 추가하여 시작해보세요.",empty_message_active:"진행중인 목표가 없습니다.",empty_message_completed:"아직 완료된 목표가 없습니다.",empty_encouragement_1:"새로운 여정의 첫 걸음을 내딛어보세요.",empty_encouragement_2:"작은 변화가 큰 성취로 이어집니다.",empty_encouragement_3:"오늘 하는 일이 내일을 만듭니다.",empty_encouragement_4:"당신의 목표가 현실이 되는 순간을 만나보세요.",delete_button:"삭제",edit_button_aria:"목표 편집",info_button_aria:"상세 정보",filter_title:"필터",sort_title:"정렬",filter_sort_button_aria:"필터 및 정렬",calendar_view_button_aria:"캘린더 보기",list_view_button_aria:"목록 보기",more_options_button_aria:"더 보기",select_button_label:"선택",cancel_selection_button_label:"취소",delete_selected_button_label:"{count}개 삭제",delete_selected_confirm_title:"목표 삭제",delete_selected_confirm_message:"선택한 {count}개의 목표가 영구적으로 삭제됩니다.",days_left:"{count}일 남음",d_day:"D-DAY",days_overdue:"{count}일 지남",month_names:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],day_names_short:["일","월","화","수","목","금","토"],day_names_long:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],calendar_header_month_format:"{year}년 {month}",calendar_view_day3:"3일",calendar_view_week:"주",calendar_view_month:"월",settings_title:"설정",sort_alert_title:"정렬 실패",sort_alert_message:"AI 추천 정렬을 사용하려면<br/>2개 이상의 목표가 필요합니다.",ai_sort_error_title:"AI 정렬 오류",ai_sort_error_message:"지금은 목표를 정렬할 수 없습니다.",confirm_button:"확인",new_goal_modal_title:"새로운 목표",edit_goal_modal_title:"목표 편집",wish_label:"목표",outcome_label:"최상의 결과",obstacle_label:"장애물",plan_label:"If-Then 계획",deadline_label:"마감일",cancel_button:"취소",add_button:"추가",save_button:"저장",goal_details_modal_title:"목표 상세 정보",ai_coach_suggestion:"🤖 AI 코치",ai_analyzing:"AI 분석 중...",close_button:"닫기",ai_sort_reason_modal_title:"AI 정렬 재안",ai_sort_criteria:"AI 정렬 기준",delete_account_final_confirm_title:"계정 삭제",delete_account_final_confirm_message:"계정을 포함한 모든 목표, 폴더, 설정, 데이터가 영구적으로 삭제되며, 이 작업은 되돌릴 수 없습니다.",delete_all_data_button:"계정 완전 삭제",settings_done_button:"완료",settings_section_data:"데이터 관리",settings_export_data:"내보내기",settings_import_data:"가져오기",import_confirm_title:"데이터 가져오기",import_confirm_message:"현재 목표를 새로운 데이터로 교체합니다. 이 작업은 되돌릴 수 없습니다.",import_success_toast:"데이터를 성공적으로 가져왔습니다.",import_error_alert_title:"가져오기 실패",import_error_alert_message:"파일을 읽는 중 오류가 발생했거나 파일 형식이 올바르지 않습니다.",settings_section_general:"일반",settings_section_info:"정보",settings_section_help:"사용방법",settings_dark_mode:"다크 모드",settings_language:"언어",settings_api_key:"AI 도우미 설정",settings_api_key_placeholder:"Gemini API 키 입력",settings_offline_mode:"오프라인 사용",settings_offline_mode_desc:"AI 기능 없이 기본 앱 기능만 사용",language_name:"한국어 (대한민국)",language_modal_title:"언어",settings_section_background:"화면",settings_bg_default:"라이트",settings_bg_default_dark:"다크",settings_bg_pink:"핑크",settings_bg_cherry_noir:"체리 누아르",settings_bg_blue:"블루",settings_bg_deep_ocean:"오션",settings_bg_green:"그린",settings_bg_forest_green:"포레스트",settings_bg_purple:"퍼플",settings_bg_royal_purple:"로얄 퍼플",settings_version:"버전",settings_developer:"개발자",developer_name:"GimGyuMin",settings_copyright:"저작권",copyright_notice:"© 2025 GimGyuMin. All Rights Reserved.",build_number:"빌드 번호",settings_data_header:"데이터 관리",settings_data_header_desc:"목표 데이터를 파일로 내보내거나, 파일에서 가져옵니다.",settings_background_header:"배경화면",settings_background_header_desc:"앱의 배경화면 스타일을 변경하여 개성을 표현해 보세요.",data_importing:"가져오는 중...",data_exporting:"내보내는 중...",data_deleting:"삭제 중...",url_import_title:"URL에서 데이터 불러오기",url_import_message:"URL의 데이터로 현재 목표 목록을 덮어쓰시겠습니까?",url_import_confirm:"불러오기",url_import_success:"URL에서 데이터를 성공적으로 가져왔습니다!",url_import_error:"URL의 데이터가 올바르지 않습니다.",settings_share_link_header:"링크로 공유",settings_generate_link:"공유 링크 생성",settings_copy_link:"복사",link_copied_toast:"링크가 클립보드에 복사되었습니다.",short_url_created:"📎 단축 URL이 생성되었습니다!",share_link_created:"🔗 공유 링크가 생성되었습니다!",short_url_failed:"⚠️ 단축 URL 생성에 실패하여 기본 링크를 사용합니다.",no_data_to_share:"공유할 목표가 없습니다. 먼저 목표를 추가해주세요.",usage_guide_tab:"사용방법",usage_guide_title:"사용 가이드",usage_basic_title:"목표 추가하기",usage_basic_desc:`1. 홈 화면에서 "목표 추가 및 편집" 버튼을 탭하세요.
2. 목표, 결과, 장애물, 계획을 차례로 입력하세요.
3. 마감일과 반복 요일을 선택하세요.
4. "저장" 버튼을 눌러 목표를 추가하세요.`,usage_ai_title:"AI 기능 사용하기",usage_ai_desc:`• 목표 작성 시 "AI 제안" 버튼으로 개선된 목표를 받아보세요.
• 목표 목록에서 "AI 정렬" 버튼으로 중요도 순 정렬이 가능합니다.
• AI 분석을 통해 더 효과적인 목표 설정을 도와드립니다.

※ AI 기능 사용을 위해서는 API 키 설정이 필요합니다.`,usage_ai_setup_title:"AI 기능 설정하기",usage_ai_setup_desc:`1. 설정 > 일반에서 API 키 입력란을 찾으세요.
2. Google Gemini API 키를 입력하세요.
3. API 키 발급 방법은 다음 Google 지원 문서를 참조하세요:
   https://ai.google.dev/gemini-api/docs/api-key
4. 키 입력 후 AI 기능이 활성화됩니다.`,usage_share_title:"목표 공유하기",usage_share_desc:`1. 설정 > 공유에서 "목표 링크 생성" 버튼을 탭하세요.
2. 자동으로 생성된 단축 링크를 확인하세요.
3. "링크 복사" 버튼으로 클립보드에 복사하세요.
4. 메신저나 이메일로 링크를 공유하세요.`,usage_theme_title:"테마 변경하기",usage_theme_desc:`1. 설정 > 모양에서 다크 모드 토글을 사용하세요.
2. 배경 테마에서 원하는 색상을 선택하세요.
3. 기본, 핑크, 블루, 그린, 퍼플 테마 중 선택 가능합니다.
4. 변경 사항은 즉시 적용됩니다.`,usage_calendar_title:"캘린더 보기 사용하기",usage_calendar_desc:`1. 하단 탭에서 캘린더 아이콘을 탭하세요.
2. 3일/주간/월간 보기를 선택할 수 있습니다.
3. 날짜를 탭하여 해당 날의 목표를 확인하세요.
4. 좌우 화살표로 날짜를 이동할 수 있습니다.`,usage_offline_title:"오프라인 모드 사용하기",usage_offline_desc:`1. 설정 > 일반에서 "오프라인 모드" 토글을 켜세요.
2. API 키 없이도 목표 추가, 편집, 삭제가 가능합니다.
3. AI 기능은 사용할 수 없지만 모든 기본 기능은 정상 작동합니다.
4. 데이터는 브라우저에 안전하게 저장됩니다.`,goal_assistant_title:"새로운 목표",goal_assistant_mode_woop:"WOOP 방식",goal_assistant_mode_automation:"빠른 생성",automation_title:"목표 시리즈 만들기",automation_base_name_label:"목표 이름",automation_base_name_placeholder:"예: 영어 단어 학습",automation_total_units_label:"총 분량",automation_total_units_placeholder:"예: 30",automation_units_per_day_label:"일일 분량",automation_period_label:"기간",automation_start_date_label:"시작일",automation_end_date_label:"종료일",automation_generate_button:"{count}개 생성",automation_error_all_fields:"모든 필드를 올바르게 입력해주세요.",automation_error_start_after_end:"시작일은 종료일보다 빨라야 합니다.",automation_error_short_period:"기간이 너무 짧습니다. (1일 이상)",next_button:"다음",back_button:"이전",wish_tip:"측정 가능하고 구체적인, 도전적이면서도 현실적인 목표를 설정하세요.",wish_example:"예: 3개월 안에 5kg 감량하기, 이번 학기에 A+ 받기",outcome_tip:"목표 달성 시 얻게 될 가장 긍정적인 결과를 생생하게 상상해 보세요.",outcome_example:"예: 더 건강하고 자신감 있는 모습, 성적 장학금 수령",obstacle_tip:"목표 달성을 방해할 수 있는 내면의 장애물(습관, 감정 등)은 무엇인가요?",obstacle_example:"예: 퇴근 후 피곤해서 운동 가기 싫은 마음, 어려운 과제를 미루는 습관",plan_tip:"'만약 ~라면, ~하겠다' 형식으로 장애물에 대한 구체적인 대응 계획을 세워보세요.",plan_example:"예: 만약 퇴근 후 운동 가기 싫다면, 일단 운동복으로 갈아입고 10분만 스트레칭한다.",recurrence_label:"반복",recurrence_tip:"정해진 요일에 꾸준히 해야 하는 목표인가요? 반복으로 설정하여 연속 달성을 기록해 보세요.",recurrence_example:"예: 매주 월,수,금 헬스장 가기",recurrence_option_daily:"반복 목표",deadline_tip:"현실적인 마감일을 설정하여 동기를 부여하세요. 마감일이 없는 장기 목표도 좋습니다.",deadline_option_no_deadline:"마감일 없음",day_names_short_picker:["월","화","수","목","금","토","일"],version_update_title:"새로운 기능",version_update_1_title:"AI 도우미 설정",version_update_1_desc:"Gemini API 키를 직접 설정하거나 오프라인 모드로 AI 없이도 앱을 사용할 수 있습니다.",version_update_2_title:"목표 공유",version_update_2_desc:"목표를 링크로 공유하고 단축 URL로 쉽게 전달하세요. 한국어도 완벽하게 지원합니다.",version_update_3_title:"모던 스타일 UI",version_update_3_desc:"세련된 모던 디자인 언어와 모바일 최적화로 더욱 직관적인 경험을 제공합니다."},en:{language_selection_title:"Language",error_wish_required:"Please enter your wish.",error_outcome_required:"Please enter the outcome.",error_obstacle_required:"Please enter the obstacle.",error_plan_required:"Please enter your If-Then plan.",error_deadline_required:"Please select a deadline.",error_day_required:"Please select at least one day.",my_goals_title:"My Goals",sort_label_manual:"Manual",sort_label_deadline:"Deadline",sort_label_newest:"Newest",sort_label_alphabetical:"Alphabetical",sort_label_ai:"AI Recommended",ai_sorting_button:"Sorting...",add_new_goal_button_label:"Add New Goal",filter_all:"All Goals",filter_active:"In Progress",filter_completed:"Completed",empty_message_all:"Add your first goal to begin your journey.",empty_message_active:"No goals in progress.",empty_message_completed:"No completed goals yet.",empty_encouragement_1:"Take the first step toward something amazing.",empty_encouragement_2:"Small changes lead to big achievements.",empty_encouragement_3:"What you do today shapes tomorrow.",empty_encouragement_4:"Your goals are waiting to become reality.",delete_button:"Delete",edit_button_aria:"Edit Goal",info_button_aria:"Details",filter_title:"Filter",sort_title:"Sort",filter_sort_button_aria:"Filter and Sort",calendar_view_button_aria:"Calendar View",list_view_button_aria:"List View",more_options_button_aria:"More",select_button_label:"Select",cancel_selection_button_label:"Cancel",delete_selected_button_label:"Delete {count}",delete_selected_confirm_title:"Delete Goals",delete_selected_confirm_message:"The {count} selected goals will be permanently deleted.",days_left:"{count} days left",d_day:"D-DAY",days_overdue:"{count} days overdue",month_names:["January","February","March","April","May","June","July","August","September","October","November","December"],day_names_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],day_names_long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],calendar_header_month_format:"{month} {year}",calendar_view_day3:"3-Day",calendar_view_week:"Week",calendar_view_month:"Month",settings_title:"Settings",sort_alert_title:"Unable to Sort",sort_alert_message:"Add at least two goals to use AI recommendations.",ai_sort_error_title:"Sorting Unavailable",ai_sort_error_message:"AI sorting is temporarily unavailable.",confirm_button:"OK",new_goal_modal_title:"New Goal",edit_goal_modal_title:"Edit Goal",wish_label:"Wish",outcome_label:"Outcome",obstacle_label:"Obstacle",plan_label:"If-Then Plan",deadline_label:"Deadline",cancel_button:"Cancel",add_button:"Add",save_button:"Save",goal_details_modal_title:"Goal Details",ai_coach_suggestion:"🤖 AI Coach",ai_analyzing:"AI Analyzing...",close_button:"Close",ai_sort_reason_modal_title:"Sort Reason",ai_sort_criteria:"🤖 Sort Criteria",delete_account_final_confirm_title:"Delete Account",delete_account_final_confirm_message:"Your account and all data (goals, folders, settings) will be permanently deleted. This action cannot be undone.",delete_all_data_button:"Delete Account",settings_done_button:"Done",settings_section_data:"Data Management",settings_export_data:"Export",settings_import_data:"Import",import_confirm_title:"Import Data",import_confirm_message:"This will replace your current goals with new data. This action cannot be undone.",import_success_toast:"Data imported successfully.",import_error_alert_title:"Import Failed",import_error_alert_message:"There was an error reading the file, or the file format is incorrect.",settings_section_general:"General",settings_section_info:"Information",settings_section_help:"How to Use",settings_dark_mode:"Dark Mode",settings_language:"Language",settings_api_key:"AI Assistant",settings_api_key_placeholder:"Enter Gemini API key",settings_offline_mode:"Offline Mode",settings_offline_mode_desc:"Use basic features without AI",language_name:"English (US)",language_modal_title:"Language",settings_section_background:"Appearance",settings_bg_default:"Light",settings_bg_default_dark:"Dark",settings_bg_pink:"Pink",settings_bg_cherry_noir:"Cherry Noir",settings_bg_blue:"Blue",settings_bg_deep_ocean:"Ocean",settings_bg_green:"Green",settings_bg_forest_green:"Forest",settings_bg_purple:"Purple",settings_bg_royal_purple:"Royal Purple",settings_section_account:"Nova Beta Account",settings_sync_data:"Sync Data",settings_load_data:"Load Data",settings_logout:"Sign Out",data_deleting:"Deleting...",settings_version:"Version",settings_developer:"Developer",developer_name:"GimGyuMin",settings_copyright:"Copyright",copyright_notice:"© 2025 GimGyuMin. All Rights Reserved.",build_number:"Build Number",settings_data_header:"Data Management",settings_data_header_desc:"Export or import your goal data.",settings_background_header:"Background",settings_background_header_desc:"Change the app's background style to express your personality.",data_importing:"Importing...",data_exporting:"Exporting...",url_import_title:"Load from URL",url_import_message:"Overwrite current goals with data from the URL?",url_import_confirm:"Load",url_import_success:"Successfully loaded data from URL!",url_import_error:"Invalid data in URL.",settings_share_link_header:"Share via Link",settings_generate_link:"Generate Share Link",settings_copy_link:"Copy",link_copied_toast:"Link copied to clipboard.",short_url_created:"📎 Short URL created successfully!",share_link_created:"🔗 Share link generated!",short_url_failed:"⚠️ Short URL creation failed, using default link.",no_data_to_share:"No goals to share. Please add goals first.",usage_guide_tab:"How to Use",usage_guide_title:"User Guide",usage_basic_title:"Add a Goal",usage_basic_desc:`1. Tap "Add and Edit Goals" button on the home screen.
2. Fill in your goal, outcome, obstacle, and plan in order.
3. Select deadline and repeat days.
4. Tap "Save" to add your goal.`,usage_ai_title:"Use AI Features",usage_ai_desc:`• Use "AI Suggestion" button when writing goals for improvements.
• Tap "AI Sort" button to organize goals by importance.
• Get AI analysis for more effective goal setting.

※ API key setup is required to use AI features.`,usage_ai_setup_title:"Set Up AI Features",usage_ai_setup_desc:`1. Go to Settings > General and find the API Key field.
2. Enter your Google Gemini API key.
3. For API key generation, refer to the Google documentation:
   https://ai.google.dev/gemini-api/docs/api-key
4. AI features will be activated after entering the key.`,usage_share_title:"Share Your Goals",usage_share_desc:`1. Go to Settings > Sharing and tap "Create Goal Link".
2. Review the automatically generated short link.
3. Tap "Copy Link" to copy to clipboard.
4. Share the link via messenger or email.`,usage_theme_title:"Change Theme",usage_theme_desc:`1. Go to Settings > Appearance and use the dark mode toggle.
2. Select your preferred background theme.
3. Choose from Default, Pink, Blue, Green, or Purple themes.
4. Changes are applied immediately.`,usage_calendar_title:"Use Calendar View",usage_calendar_desc:`1. Tap the calendar icon in the bottom tabs.
2. Choose between 3-day, weekly, or monthly view.
3. Tap on any date to see goals for that day.
4. Use left/right arrows to navigate dates.`,usage_offline_title:"Use Offline Mode",usage_offline_desc:`1. Go to Settings > General and turn on "Offline Mode".
2. Add, edit, and delete goals without an API key.
3. AI features are unavailable, but all basic functions work normally.
4. Your data is safely stored in the browser.`,goal_assistant_title:"Add Goal",goal_assistant_mode_woop:"WOOP",goal_assistant_mode_automation:"Automation",automation_title:"Goal Automation",automation_base_name_label:"Base Goal Name",automation_base_name_placeholder:"e.g., Study Vocabulary",automation_total_units_label:"Total Units",automation_total_units_placeholder:"e.g., 30",automation_units_per_day_label:"Units per Day",automation_period_label:"Period",automation_start_date_label:"Start Date",automation_end_date_label:"End Date",automation_generate_button:"Generate {count}",automation_error_all_fields:"Please fill out all fields correctly.",automation_error_start_after_end:"Start date must be before end date.",automation_error_short_period:"The period is too short (min. 1 day).",next_button:"Next",back_button:"Back",wish_tip:"Set a challenging yet realistic goal. Make it specific and measurable.",wish_example:"e.g., Lose 5kg in 3 months, Get an A+ this semester",outcome_tip:"Imagine the most positive outcome of achieving your goal. The more vivid, the better.",outcome_example:"e.g., Feeling healthier and more confident, Receiving a scholarship",obstacle_tip:"What is the main internal obstacle (e.g., habits, emotions) that could stop you?",obstacle_example:"e.g., Feeling too tired for the gym after work, Procrastinating on difficult tasks",plan_tip:"Create a specific plan to overcome your obstacle in an 'if-then' format.",plan_example:"e.g., If I feel too tired for the gym after work, then I will change into my workout clothes and stretch for 10 minutes.",recurrence_label:"Recurrence",recurrence_tip:"Is this a goal you need to work on consistently? Set it as a recurring goal to track your streak.",recurrence_example:"e.g., Go to the gym every Mon, Wed, Fri",recurrence_option_daily:"Recurring Goal",deadline_tip:"Set a realistic deadline to stay motivated. Long-term goals without a deadline are also fine.",deadline_option_no_deadline:"No Deadline",day_names_short_picker:["M","T","W","T","F","S","S"],settings_delete_account:"Delete All Data",delete_account_header:"Delete Data",delete_account_header_desc:"This action is irreversible and will permanently delete all your goals and data.",version_update_title:"What's New",version_update_1_title:"AI Assistant Setup",version_update_1_desc:"Configure your Gemini API key directly or use offline mode to enjoy the app without AI features.",version_update_2_title:"Goal Sharing",version_update_2_desc:"Share your goals via links with short URL support. Perfect Unicode handling for all languages.",version_update_3_title:"Modern Style UI",version_update_3_desc:"Refined modern design language with mobile optimization for a more intuitive experience."}},j={add:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),_.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),more:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("circle",{cx:"12",cy:"12",r:"1"}),_.jsx("circle",{cx:"19",cy:"12",r:"1"}),_.jsx("circle",{cx:"5",cy:"12",r:"1"})]}),check:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:_.jsx("polyline",{points:"20 6 9 17 4 12"})}),info:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("circle",{cx:"12",cy:"12",r:"10"}),_.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),_.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),delete:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("polyline",{points:"3 6 5 6 21 6"}),_.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),_.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),_.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),edit:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),_.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),close:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),back:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:_.jsx("polyline",{points:"15 18 9 12 15 6"})}),forward:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:_.jsx("polyline",{points:"9 18 15 12 9 6"})}),calendar:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),_.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),_.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),_.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),list:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),_.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),_.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),_.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),_.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),_.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]}),settings:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("circle",{cx:"12",cy:"12",r:"3"}),_.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),filter:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:_.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),ai:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M12 3L14.34 8.66L20 11L14.34 13.34L12 19L9.66 13.34L4 11L9.66 8.66L12 3Z"}),_.jsx("path",{d:"M5 21L7 16"}),_.jsx("path",{d:"M19 21L17 16"})]}),flame:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:_.jsx("path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"})}),data:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),_.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]}),background:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round",children:[_.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),_.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),_.jsx("polyline",{points:"21 15 16 10 5 21"})]}),account:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),_.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),infoCircle:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("circle",{cx:"12",cy:"12",r:"10"}),_.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),_.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),help:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("circle",{cx:"12",cy:"12",r:"10"}),_.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),_.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),moon:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:_.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),exclamation:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:_.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 15c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm1-4h-2V7h2v6z"})}),globe:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("circle",{cx:"12",cy:"12",r:"10"}),_.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),_.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 1.53 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]})},jo=(t,e)=>{const n=new Date(t),o=new Date(e);return n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()&&n.getDate()===o.getDate()},RA=(t,e)=>{if(!t)return null;const n=new Date;n.setHours(0,0,0,0);const o=new Date(t);o.setHours(0,0,0,0);const i=o.getTime()-n.getTime(),r=Math.ceil(i/(1e3*60*60*24));return r===0?e("d_day"):r>0?e("days_left").replace("{count}",String(r)):e("days_overdue").replace("{count}",String(Math.abs(r)))},Ap=(t,e=1)=>{const n=new Date(t),o=n.getDay(),i=(o<e?7:0)+o-e;return n.setDate(n.getDate()-i),n.setHours(0,0,0,0),n},xp=t=>{try{const e=new TextEncoder().encode(t),n=Array.from(e).map(o=>String.fromCharCode(o)).join("");return btoa(n)}catch(e){return console.error("UTF-8 to Base64 encoding failed:",e),""}},MA=t=>{try{const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return new TextDecoder().decode(n)}catch(e){return console.error("Base64 to UTF-8 decoding failed:",e),""}},kp=t=>{try{const n=JSON.stringify(t).replace(/\s+/g," ").trim();return xp(n)}catch(e){return console.error("Data compression failed:",e),xp(JSON.stringify(t))}},DA=async t=>{if(t.length<1500)return t;const e=t.length;return e>2e3?(console.warn("⚠️ URL이 매우 깁니다. 일부 플랫폼에서 제한이 있을 수 있습니다."),t):(console.log("✅ URL 공유 준비 완료 (길이:",e,"문자)"),t)},Vu=[{id:"default",lightThemeClass:"bg-solid-default",darkThemeClass:"bg-solid-default",lightNameKey:"settings_bg_default",darkNameKey:"settings_bg_default_dark"},{id:"pink",lightThemeClass:"bg-solid-pink",darkThemeClass:"bg-solid-pink",lightNameKey:"settings_bg_pink",darkNameKey:"settings_bg_cherry_noir"},{id:"blue",lightThemeClass:"bg-solid-blue",darkThemeClass:"bg-solid-blue",lightNameKey:"settings_bg_blue",darkNameKey:"settings_bg_deep_ocean"},{id:"green",lightThemeClass:"bg-solid-green",darkThemeClass:"bg-solid-green",lightNameKey:"settings_bg_green",darkNameKey:"settings_bg_forest_green"},{id:"purple",lightThemeClass:"bg-solid-purple",darkThemeClass:"bg-solid-purple",lightNameKey:"settings_bg_purple",darkNameKey:"settings_bg_royal_purple"}],Ly=()=>{const[t,e]=H.useState([]),[n,o]=H.useState({}),[i,r]=H.useState([]),[s,c]=H.useState(null),[d,f]=H.useState("all"),[h,g]=H.useState(["school","work","personal","other"]),[m,w]=H.useState(!1),[k,R]=H.useState("ko"),[F,A]=H.useState(null),[C,x]=H.useState([]),[D,B]=H.useState([]),[V,E]=H.useState("all"),[v,S]=H.useState("manual"),[I,P]=H.useState(!1),[M,N]=H.useState("system"),[Y,ne]=H.useState("default"),[me,$e]=H.useState(!1),[b,K]=H.useState(null),[Q,z]=H.useState(null),[oe,ae]=H.useState(!1),[Te,Vt]=H.useState(!1),[nt,It]=H.useState(!1),[Fe,ot]=H.useState(null),[Co,dn]=H.useState(""),[mi,Eo]=H.useState(!1),[fn,Vr]=H.useState(new Set),[hn,gi]=H.useState(!1),[Br,Ne]=H.useState(!1),[Ae,wo]=H.useState(""),[pn,Gr]=H.useState(!1),[Fl,gt]=H.useState("idle"),[Hr,yi]=H.useState(!1),Z=W=>{var X;const O=(X=PA[k])==null?void 0:X[W];return Array.isArray(O)?O.join(", "):O||W},Io=()=>{if(!Ae||pn)return null;try{return new d1({apiKey:Ae})}catch{return null}},Vl=W=>{N(W)},qr=()=>{gt("deleting"),setTimeout(()=>{B([]),dn("모든 데이터가 삭제되었습니다."),gt("idle"),ae(!1)},1500)},_i=H.useMemo(()=>[Z("empty_encouragement_1"),Z("empty_encouragement_2"),Z("empty_encouragement_3"),Z("empty_encouragement_4")],[k]),zn=H.useMemo(()=>_i[Math.floor(Math.random()*_i.length)],[_i]);H.useEffect(()=>{const W=localStorage.getItem("nova-todos"),O=localStorage.getItem("nova-dark-mode"),X=localStorage.getItem("nova-background"),fe=localStorage.getItem("nova-sort-type");if(W){const it=JSON.parse(W),Xt=new Date().toISOString(),Bt=it.map(Xe=>Xe.isRecurring&&Xe.lastCompletedDate&&!jo(Xt,Xe.lastCompletedDate)?{...Xe,completed:!1}:Xe);B(Bt)}O&&P(JSON.parse(O)),X&&ne(X),fe&&S(fe)},[]),H.useEffect(()=>{const O=new URLSearchParams(window.location.search).get("data");if(O)try{const X=MA(O),fe=JSON.parse(X);if(Array.isArray(fe)&&(fe.length===0||"wish"in fe[0]&&"id"in fe[0]))ot({title:Z("url_import_title"),message:Z("url_import_message"),confirmText:Z("url_import_confirm"),cancelText:Z("cancel_button"),onConfirm:()=>{B(fe),dn(Z("url_import_success")),window.history.replaceState({},document.title,window.location.pathname)},onCancel:()=>{window.history.replaceState({},document.title,window.location.pathname)}});else throw new Error("Invalid data format")}catch(X){console.error("Failed to parse data from URL",X),ot({title:Z("import_error_alert_title"),message:Z("url_import_error")}),window.history.replaceState({},document.title,window.location.pathname)}},[Z]),H.useEffect(()=>{const W=window.matchMedia("(prefers-color-scheme: dark)"),O=X=>{M==="system"&&P(X.matches)};return P(M==="system"?W.matches:M==="dark"),W.addEventListener("change",O),()=>W.removeEventListener("change",O)},[M]),H.useEffect(()=>{(()=>{const O=localStorage.getItem("pwa-prompt-dismissed"),X=kA(),fe=NA();if(X&&!fe&&!O){const it=setTimeout(()=>{yi(!0)},3e3);return()=>clearTimeout(it)}})()},[]),H.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/Nova-AI-Planer/sw.js").then(W=>{console.log("SW registered: ",W)}).catch(W=>{console.log("SW registration failed: ",W)})},[]),H.useEffect(()=>{localStorage.setItem("nova-theme",M),localStorage.setItem("nova-dark-mode",JSON.stringify(I))},[M,I]),H.useEffect(()=>{localStorage.setItem("nova-lang",k)},[k]),H.useEffect(()=>{localStorage.setItem("nova-todos",JSON.stringify(D))},[D]),H.useEffect(()=>{localStorage.setItem("nova-api-key",Ae)},[Ae]),H.useEffect(()=>{localStorage.setItem("nova-offline-mode",String(pn))},[pn]),H.useEffect(()=>{const W=Vu.find(X=>X.id===Y)||Vu[0],O=I?W.darkThemeClass:W.lightThemeClass;document.body.className="",I&&document.body.classList.add("dark-mode"),O&&document.body.classList.add(O),localStorage.setItem("nova-background",Y)},[Y,I]),H.useEffect(()=>{localStorage.setItem("nova-sort-type",v)},[v]),H.useEffect(()=>{if(Co){const W=setTimeout(()=>dn(""),3e3);return()=>clearTimeout(W)}},[Co]);const vi=H.useMemo(()=>{let W=[...D];return v==="deadline"?W.sort((O,X)=>!O.deadline&&!X.deadline?0:O.deadline?X.deadline?new Date(O.deadline).getTime()-new Date(X.deadline).getTime():-1:1):v==="newest"?W.sort((O,X)=>X.id-O.id):v==="alphabetical"&&W.sort((O,X)=>O.wish.localeCompare(X.wish)),V==="active"?W.filter(O=>!O.completed):V==="completed"?W.filter(O=>O.completed):W},[D,V,v]),Ti=W=>{const O={...W,id:Date.now(),completed:!1,lastCompletedDate:null,streak:0};B(X=>[O,...X]),w(!1)},mn=W=>{const O=W.map((X,fe)=>({...X,id:Date.now()+fe,completed:!1,lastCompletedDate:null,streak:0})).reverse();B(X=>[...O,...X]),w(!1)},br=W=>{B(D.map(O=>O.id===W.id?W:O)),K(null)},Si=W=>{B(D.filter(O=>O.id!==W))},Or=W=>{const O=new Date().toISOString();B(D.map(X=>{if(X.id===W){const fe=!X.completed;let it=X.streak;return X.isRecurring&&(fe?(!X.lastCompletedDate||!jo(O,X.lastCompletedDate))&&(it=(X.streak||0)+1):X.lastCompletedDate&&jo(O,X.lastCompletedDate)&&(it=Math.max(0,(X.streak||1)-1))),{...X,completed:fe,lastCompletedDate:fe?O:X.lastCompletedDate,streak:it}}return X}))},Jn=async W=>{if(W==="ai"){if(D.length<2){ot({title:Z("sort_alert_title"),message:Z("sort_alert_message")});return}Ne(!0);try{const O=Io();if(!O){dn(pn?"오프라인 모드에서는 AI 정렬을 사용할 수 없습니다.":"AI 정렬을 사용하려면 설정에서 API 키를 입력해주세요."),Ne(!1),S("manual");return}const X=`Here is a list of goals with their details (wish, outcome, obstacle, plan, deadline). Prioritize them based on urgency (closer deadline), importance (based on outcome), and feasibility (based on plan). Return a JSON object with a single key "sorted_ids" which is an array of the goal IDs in the recommended order. Do not include any other text or explanations. Goals: ${JSON.stringify(D.map(({id:Pe,wish:Jr,outcome:Wr,obstacle:Ci,plan:Ei,deadline:Kr})=>({id:Pe,wish:Jr,outcome:Wr,obstacle:Ci,plan:Ei,deadline:Kr})))}`,fe=await O.models.generateContent({model:"gemini-2.5-flash",contents:X,config:{responseMimeType:"application/json",responseSchema:{type:Rt.OBJECT,properties:{sorted_ids:{type:Rt.ARRAY,items:{type:Rt.NUMBER}}}}}}),Xt=JSON.parse(fe.text).sorted_ids.map(Number),Bt=new Map(D.map(Pe=>[Number(Pe.id),Pe])),Xe=Xt.map(Pe=>Bt.get(Pe)).filter(Boolean),Gt=D.filter(Pe=>!Xt.includes(Number(Pe.id))),Gl=[...Xe,...Gt].map(Pe=>({...Pe,id:Number(Pe.id)}));B(Gl),S("manual")}catch(O){console.error("AI sort failed:",O),ot({title:Z("ai_sort_error_title"),message:Z("ai_sort_error_message")})}finally{Ne(!1)}}else S(W)},$r=W=>{const O=new Set(fn);O.has(W)?O.delete(W):O.add(W),Vr(O)},Ve=()=>{Eo(!1),Vr(new Set)},zr=()=>{const W=fn.size;ot({title:Z("delete_selected_confirm_title"),message:(typeof Z("delete_selected_confirm_message")=="string"?Z("delete_selected_confirm_message"):"").replace("{count}",String(W)),isDestructive:!0,confirmText:(typeof Z("delete_selected_button_label")=="string"?Z("delete_selected_button_label"):"").replace("{count}",String(W)),cancelText:Z("cancel_button"),onConfirm:()=>{B(D.filter(O=>!fn.has(O.id))),Ve()}})},Wn=()=>{gt("exporting");const W=JSON.stringify(D,null,2),O="data:application/json;charset=utf-8,"+encodeURIComponent(W),X="nova_goals.json",fe=document.createElement("a");fe.setAttribute("href",O),fe.setAttribute("download",X),fe.click(),setTimeout(()=>{gt("idle"),ae(!1)},1500)},Kn=W=>{var fe;const O=(fe=W.target.files)==null?void 0:fe[0];if(!O)return;const X=new FileReader;X.onload=it=>{var Xt;try{const Bt=(Xt=it.target)==null?void 0:Xt.result;if(typeof Bt!="string")throw new Error("File content is not a string");const Xe=JSON.parse(Bt);if(Array.isArray(Xe)&&Xe.every(Gt=>"wish"in Gt&&"id"in Gt))ot({title:Z("import_confirm_title"),message:Z("import_confirm_message"),confirmText:Z("settings_import_data"),cancelText:Z("cancel_button"),onConfirm:()=>{gt("importing"),setTimeout(()=>{B(Xe),dn(Z("import_success_toast")),gt("idle"),ae(!1)},1500)}});else throw new Error("Invalid file format")}catch{ot({title:Z("import_error_alert_title"),message:Z("import_error_alert_message")})}},X.onerror=()=>ot({title:Z("import_error_alert_title"),message:Z("import_error_alert_message")}),X.readAsText(O),W.target.value=""},Bl=m||!!b||!!Q||oe||!!Fe||Te||nt;return _.jsxs("div",{className:`main-page-layout ${hn?"calendar-view-active":""}`,children:[_.jsx("div",{className:`page-content ${Bl?"modal-open":""}`,children:_.jsxs("div",{className:"container",children:[_.jsx(LA,{t:Z,isSelectionMode:mi,selectedCount:fn.size,onCancelSelection:Ve,onDeleteSelected:zr,isViewModeCalendar:hn,onToggleViewMode:()=>gi(!hn),isAiSorting:Br,sortType:v,onSort:Jn,filter:V,onFilter:E,onSetSelectionMode:()=>Eo(!0),onOpenSettings:()=>ae(!0),onAddGoal:()=>w(!0)}),hn?_.jsx(OA,{todos:D,t:Z,onGoalClick:z,language:k}):_.jsx(UA,{todos:vi,onToggleComplete:Or,onDelete:Si,onEdit:K,onInfo:z,t:Z,filter:V,randomEncouragement:zn,isSelectionMode:mi,selectedTodoIds:fn,onSelectTodo:$r})]})}),m&&_.jsx(Pp,{onClose:()=>w(!1),onAddTodo:Ti,onAddMultipleTodos:mn,t:Z,language:k,createAI:Io}),b&&_.jsx(Pp,{onClose:()=>K(null),onEditTodo:br,existingTodo:b,t:Z,language:k,createAI:Io}),Q&&_.jsx(GA,{todo:Q,onClose:()=>z(null),t:Z,createAI:Io}),oe&&_.jsx(HA,{onClose:()=>ae(!1),isDarkMode:I,onToggleDarkMode:()=>P(!I),themeMode:M,onThemeChange:Vl,backgroundTheme:Y,onSetBackgroundTheme:ne,onExportData:Wn,onImportData:Kn,setAlertConfig:ot,onDeleteAllData:qr,dataActionStatus:Fl,language:k,onSetLanguage:R,t:Z,todos:D,setToastMessage:dn,onOpenVersionInfo:()=>Vt(!0),onOpenUsageGuide:()=>It(!0),apiKey:Ae,onSetApiKey:wo,isOfflineMode:pn,onToggleOfflineMode:()=>Gr(!pn)}),Te&&_.jsx(qA,{onClose:()=>Vt(!1),t:Z}),nt&&_.jsx(bA,{onClose:()=>It(!1),t:Z}),Fe&&_.jsx($A,{title:Fe.title,message:Fe.message,onConfirm:()=>{var W;(W=Fe.onConfirm)==null||W.call(Fe),ot(null)},onCancel:Fe.onCancel?()=>{var W;(W=Fe.onCancel)==null||W.call(Fe),ot(null)}:void 0,confirmText:Fe.confirmText,cancelText:Fe.cancelText,isDestructive:Fe.isDestructive,t:Z}),Co&&_.jsx("div",{className:"toast-notification",children:Co}),Hr&&_.jsx(I0,{onClose:()=>yi(!1)})]})},Np=document.getElementById("root");Np&&Vs.createRoot(Np).render(_.jsx(bu.StrictMode,{children:_.jsx(Ly,{})}));const LA=({t,isSelectionMode:e,selectedCount:n,onCancelSelection:o,onDeleteSelected:i,isViewModeCalendar:r,onToggleViewMode:s,isAiSorting:c,sortType:d,onSort:f,filter:h,onFilter:g,onSetSelectionMode:m,onOpenSettings:w,onAddGoal:k})=>{const[R,F]=H.useState(!1);H.useEffect(()=>{const x=()=>{F(!1)};return document.addEventListener("click",x),document.addEventListener("touchstart",x),()=>{document.removeEventListener("click",x),document.removeEventListener("touchstart",x)}},[]);const A=x=>{x.stopPropagation(),F(D=>!D)},C=x=>{x.stopPropagation()};return _.jsxs("header",{children:[_.jsx("div",{className:"header-left",children:e&&_.jsx("button",{onClick:o,className:"header-action-button",children:t("cancel_selection_button_label")})}),_.jsxs("div",{className:"header-title-group",children:[_.jsx("h1",{children:t("my_goals_title")}),!e&&_.jsxs("div",{className:"header-inline-actions",children:[_.jsx("button",{onClick:s,className:"header-icon-button","aria-label":t(r?"list_view_button_aria":"calendar_view_button_aria"),children:r?j.list:j.calendar}),_.jsxs("div",{className:"filter-sort-container",children:[_.jsx("button",{onClick:A,onTouchStart:A,className:"header-icon-button","aria-label":t("filter_sort_button_aria"),children:c?_.jsx("div",{className:"spinner"}):j.filter}),R&&_.jsxs("div",{className:"profile-popover filter-sort-popover",onClick:C,onTouchStart:C,children:[_.jsx("div",{className:"popover-section",children:_.jsx("button",{onClick:()=>{m(),F(!1)},className:"popover-action-button",children:_.jsx("span",{children:t("select_button_label")})})}),_.jsxs("div",{className:"popover-section",children:[_.jsx("h4",{children:t("filter_title")}),_.jsxs("button",{onClick:()=>{g("all")},className:`popover-action-button ${h==="all"?"active":""}`,children:[_.jsx("span",{children:t("filter_all")}),h==="all"&&j.check]}),_.jsxs("button",{onClick:()=>{g("active")},className:`popover-action-button ${h==="active"?"active":""}`,children:[_.jsx("span",{children:t("filter_active")}),h==="active"&&j.check]}),_.jsxs("button",{onClick:()=>{g("completed")},className:`popover-action-button ${h==="completed"?"active":""}`,children:[_.jsx("span",{children:t("filter_completed")}),h==="completed"&&j.check]})]}),_.jsxs("div",{className:"popover-section",children:[_.jsx("h4",{children:t("sort_title")}),_.jsxs("button",{onClick:()=>{f("manual")},className:`popover-action-button ${d==="manual"?"active":""}`,children:[_.jsx("span",{children:t("sort_label_manual")}),d==="manual"&&j.check]}),_.jsxs("button",{onClick:()=>{f("deadline")},className:`popover-action-button ${d==="deadline"?"active":""}`,children:[_.jsx("span",{children:t("sort_label_deadline")}),d==="deadline"&&j.check]}),_.jsxs("button",{onClick:()=>{f("newest")},className:`popover-action-button ${d==="newest"?"active":""}`,children:[_.jsx("span",{children:t("sort_label_newest")}),d==="newest"&&j.check]}),_.jsxs("button",{onClick:()=>{f("alphabetical")},className:`popover-action-button ${d==="alphabetical"?"active":""}`,children:[_.jsx("span",{children:t("sort_label_alphabetical")}),d==="alphabetical"&&j.check]}),_.jsxs("button",{onClick:()=>{f("ai")},className:"popover-action-button with-icon",children:[_.jsx("span",{className:"popover-button-icon",children:j.ai}),_.jsx("span",{children:t(c?"ai_sorting_button":"sort_label_ai")})]})]})]})]}),_.jsx("button",{onClick:w,className:"header-icon-button","aria-label":t("settings_title"),children:j.settings})]})]}),_.jsx("div",{className:"header-right",children:e?_.jsx("button",{onClick:i,className:"header-action-button destructive",children:t("delete_selected_button_label").replace("{count}",String(n))}):_.jsx("button",{onClick:k,className:"header-icon-button","aria-label":t("add_new_goal_button_label"),children:j.add})})]})},UA=({todos:t,onToggleComplete:e,onDelete:n,onEdit:o,onInfo:i,t:r,filter:s,randomEncouragement:c,isSelectionMode:d,selectedTodoIds:f,onSelectTodo:h})=>{if(t.length===0){const g=`empty_message_${s}`;return _.jsxs("div",{className:"empty-message",children:[_.jsx("p",{children:r(g)}),s==="all"&&_.jsx("span",{children:c})]})}return _.jsx("ul",{children:t.map(g=>_.jsx(FA,{todo:g,onToggleComplete:e,onDelete:n,onEdit:o,onInfo:i,t:r,isSelectionMode:d,isSelected:f.has(g.id),onSelect:h},g.id))})},FA=bu.memo(({todo:t,onToggleComplete:e,onDelete:n,onEdit:o,onInfo:i,t:r,isSelectionMode:s,isSelected:c,onSelect:d})=>{const f=()=>{s&&d(t.id)};return _.jsx("li",{className:`${t.completed?"completed":""} ${s?"selection-mode":""} ${c?"selected":""}`,onClick:f,children:_.jsxs("div",{className:"swipeable-content",children:[_.jsxs("label",{className:"checkbox-container",onClick:h=>h.stopPropagation(),children:[_.jsx("input",{type:"checkbox",checked:t.completed,onChange:()=>e(t.id)}),_.jsx("span",{className:"checkmark"})]}),_.jsxs("div",{className:"todo-text-with-streak",children:[_.jsx("span",{className:"todo-text",children:t.wish}),t.isRecurring&&t.streak>0&&_.jsxs("div",{className:"streak-indicator",children:[j.flame,_.jsx("span",{children:t.streak})]})]}),_.jsxs("div",{className:"todo-actions-and-meta",children:[_.jsx("div",{className:"todo-meta-badges",children:t.deadline&&_.jsx("span",{className:"todo-deadline",children:RA(t.deadline,r)})}),_.jsxs("div",{className:"todo-buttons",children:[_.jsx("button",{onClick:h=>{h.stopPropagation(),o(t)},className:"info-button edit-button","aria-label":r("edit_button_aria"),children:j.edit}),_.jsx("button",{onClick:h=>{h.stopPropagation(),n(t.id)},className:"delete-button","aria-label":r("delete_button"),children:j.delete}),_.jsx("button",{onClick:h=>{h.stopPropagation(),i(t)},className:"info-button","aria-label":r("info_button_aria"),children:j.info})]})]})]})})}),VA=({step:t,t:e,createAI:n,...o})=>{const{wish:i,setWish:r,outcome:s,setOutcome:c,obstacle:d,setObstacle:f,plan:h,setPlan:g,isRecurring:m,setIsRecurring:w,recurringDays:k,setRecurringDays:R,deadline:F,setDeadline:A,noDeadline:C,setNoDeadline:x,errors:D,language:B}=o,[V,E]=H.useState(!1),[v,S]=H.useState(""),[I,P]=H.useState(""),M=async(N,Y)=>{if(Y){E(!0),S(""),P("");try{const ne=n();if(!ne){P("AI 기능을 사용하려면 설정에서 API 키를 입력해주세요."),E(!1);return}const me=`Provide concise, actionable feedback on this part of a WOOP goal: ${N} - "${Y}". The feedback should be helpful and encouraging, in ${B==="ko"?"Korean":"English"}. Keep it to 1-2 sentences.`,$e=await ne.models.generateContent({model:"gemini-2.5-flash",contents:me});S($e.text)}catch(ne){console.error("AI Feedback Error:",ne),P("Failed to get AI feedback.")}finally{E(!1)}}};switch(t){case 1:return _.jsxs("div",{children:[_.jsx("h3",{children:e("wish_label")}),_.jsxs("div",{className:"step-guidance",children:[_.jsx("p",{className:"tip",children:e("wish_tip")}),_.jsx("p",{className:"example",children:e("wish_example")})]}),_.jsx("textarea",{value:i,onChange:Y=>{r(Y.target.value),S(""),P("")},placeholder:e("wish_label"),className:D.wish?"input-error":"",rows:3}),D.wish&&_.jsxs("p",{className:"field-error-message",children:[j.exclamation," ",e("error_wish_required")]}),_.jsxs("div",{className:"ai-feedback-section",children:[_.jsxs("button",{onClick:()=>M("Wish",i),disabled:!i.trim()||V,className:"ai-feedback-button",children:[V?_.jsx("div",{className:"spinner-small"}):"🤖",_.jsx("span",{children:e(V?"ai_analyzing":"ai_coach_suggestion")})]}),v&&_.jsx("div",{className:"ai-feedback-bubble",children:v}),I&&_.jsx("div",{className:"ai-feedback-bubble error",children:I})]})]});case 2:return _.jsxs("div",{children:[_.jsx("h3",{children:e("outcome_label")}),_.jsxs("div",{className:"step-guidance",children:[_.jsx("p",{className:"tip",children:e("outcome_tip")}),_.jsx("p",{className:"example",children:e("outcome_example")})]}),_.jsx("textarea",{value:s,onChange:Y=>{c(Y.target.value),S(""),P("")},placeholder:e("outcome_label"),className:D.outcome?"input-error":"",rows:3}),D.outcome&&_.jsxs("p",{className:"field-error-message",children:[j.exclamation," ",e("error_outcome_required")]}),_.jsxs("div",{className:"ai-feedback-section",children:[_.jsxs("button",{onClick:()=>M("Outcome",s),disabled:!s.trim()||V,className:"ai-feedback-button",children:[V?_.jsx("div",{className:"spinner-small"}):"🤖",_.jsx("span",{children:e(V?"ai_analyzing":"ai_coach_suggestion")})]}),v&&_.jsx("div",{className:"ai-feedback-bubble",children:v}),I&&_.jsx("div",{className:"ai-feedback-bubble error",children:I})]})]});case 3:return _.jsxs("div",{children:[_.jsx("h3",{children:e("obstacle_label")}),_.jsxs("div",{className:"step-guidance",children:[_.jsx("p",{className:"tip",children:e("obstacle_tip")}),_.jsx("p",{className:"example",children:e("obstacle_example")})]}),_.jsx("textarea",{value:d,onChange:Y=>{f(Y.target.value),S(""),P("")},placeholder:e("obstacle_label"),className:D.obstacle?"input-error":"",rows:3}),D.obstacle&&_.jsxs("p",{className:"field-error-message",children:[j.exclamation," ",e("error_obstacle_required")]}),_.jsxs("div",{className:"ai-feedback-section",children:[_.jsxs("button",{onClick:()=>M("Obstacle",d),disabled:!d.trim()||V,className:"ai-feedback-button",children:[V?_.jsx("div",{className:"spinner-small"}):"🤖",_.jsx("span",{children:e(V?"ai_analyzing":"ai_coach_suggestion")})]}),v&&_.jsx("div",{className:"ai-feedback-bubble",children:v}),I&&_.jsx("div",{className:"ai-feedback-bubble error",children:I})]})]});case 4:return _.jsxs("div",{children:[_.jsx("h3",{children:e("plan_label")}),_.jsxs("div",{className:"step-guidance",children:[_.jsx("p",{className:"tip",children:e("plan_tip")}),_.jsx("p",{className:"example",children:e("plan_example")})]}),_.jsx("textarea",{value:h,onChange:Y=>{g(Y.target.value),S(""),P("")},placeholder:e("plan_label"),className:D.plan?"input-error":"",rows:3}),D.plan&&_.jsxs("p",{className:"field-error-message",children:[j.exclamation," ",e("error_plan_required")]}),_.jsxs("div",{className:"ai-feedback-section",children:[_.jsxs("button",{onClick:()=>M("Plan",h),disabled:!h.trim()||V,className:"ai-feedback-button",children:[V?_.jsx("div",{className:"spinner-small"}):"🤖",_.jsx("span",{children:e(V?"ai_analyzing":"ai_coach_suggestion")})]}),v&&_.jsx("div",{className:"ai-feedback-bubble",children:v}),I&&_.jsx("div",{className:"ai-feedback-bubble error",children:I})]})]});case 5:const N=Y=>{const ne=[...k],me=ne.indexOf(Y);me>-1?ne.splice(me,1):ne.push(Y),R(ne)};return _.jsxs("div",{children:[_.jsxs("h3",{children:[e("recurrence_label")," & ",e("deadline_label")]}),_.jsxs("div",{className:"step-guidance",children:[_.jsx("p",{className:"tip",children:e("recurrence_tip")}),_.jsx("p",{className:"example",children:e("recurrence_example")})]}),_.jsxs("label",{className:"settings-item standalone-toggle",children:[_.jsx("span",{style:{fontWeight:500},children:e("recurrence_option_daily")}),_.jsxs("label",{className:"theme-toggle-switch",children:[_.jsx("input",{type:"checkbox",checked:m,onChange:Y=>w(Y.target.checked)}),_.jsx("span",{className:"slider round"})]})]}),m&&_.jsx("div",{className:"day-picker",children:e("day_names_short_picker").map((Y,ne)=>_.jsx("button",{onClick:()=>N(ne),className:`day-button ${k.includes(ne)?"selected":""}`,children:Y},ne))}),D.recurringDays&&_.jsxs("p",{className:"field-error-message",children:[j.exclamation," ",e("error_day_required")]}),_.jsx("hr",{}),_.jsx("div",{className:"step-guidance",style:{marginTop:"16px"},children:_.jsx("p",{className:"tip",children:e("deadline_tip")})}),_.jsxs("label",{className:"settings-item standalone-toggle",children:[_.jsx("span",{style:{fontWeight:500},children:e("deadline_option_no_deadline")}),_.jsxs("label",{className:"theme-toggle-switch",children:[_.jsx("input",{type:"checkbox",checked:C,onChange:Y=>x(Y.target.checked)}),_.jsx("span",{className:"slider round"})]})]}),!C&&_.jsx("input",{type:"date",value:F,onChange:Y=>A(Y.target.value),className:D.deadline?"input-error":"",style:{marginTop:"12px"}}),D.deadline&&_.jsxs("p",{className:"field-error-message",children:[j.exclamation," ",e("error_deadline_required")]})]});default:return null}},BA=({onGenerate:t,t:e})=>{const[n,o]=H.useState(""),[i,r]=H.useState(""),[s,c]=H.useState(""),[d,f]=H.useState(""),[h,g]=H.useState(""),{endDate:m,generatedCount:w}=H.useMemo(()=>{const R=parseInt(i,10),F=parseInt(s,10);if(!d||!R||R<=0||!F||F<=0)return{endDate:"",generatedCount:0};const A=Math.ceil(R/F),C=new Date(d),x=new Date(C);return x.setDate(C.getDate()+A-1),{endDate:x.toISOString().split("T")[0],generatedCount:A}},[i,s,d]),k=()=>{const R=parseInt(i,10),F=parseInt(s,10);if(!n.trim()||!d||!R||R<=0||!F||F<=0){g(e("automation_error_all_fields"));return}const A=[],C=Math.ceil(R/F),x=new Date(d);for(let D=0;D<C;D++){const B=new Date(x);B.setDate(x.getDate()+D);const V=D*F+1,E=Math.min((D+1)*F,R),v=`${n.trim()} ${V}`+(E>V?` - ${E}`:"");A.push({wish:v,outcome:"",obstacle:"",plan:"",isRecurring:!1,recurringDays:[],deadline:B.toISOString().split("T")[0]})}g(""),t(A)};return _.jsxs("div",{className:"automation-form-container",children:[_.jsx("h3",{children:e("automation_title")}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:e("automation_base_name_label")}),_.jsx("input",{type:"text",value:n,onChange:R=>o(R.target.value),placeholder:e("automation_base_name_placeholder")})]}),_.jsxs("div",{className:"automation-form-grid",children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:e("automation_total_units_label")}),_.jsx("input",{type:"number",value:i,onChange:R=>r(R.target.value),placeholder:e("automation_total_units_placeholder")})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:e("automation_units_per_day_label")}),_.jsx("input",{type:"number",value:s,onChange:R=>c(R.target.value),placeholder:"예: 5"})]})]}),_.jsxs("div",{className:"automation-form-grid",children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:e("automation_start_date_label")}),_.jsx("input",{type:"date",value:d,onChange:R=>f(R.target.value)})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:e("automation_end_date_label")}),_.jsx("input",{type:"date",value:m,readOnly:!0})]})]}),h&&_.jsxs("p",{className:"field-error-message",style:{justifyContent:"center"},children:[j.exclamation," ",h]}),_.jsx("div",{className:"goal-assistant-nav",children:_.jsx("button",{onClick:k,className:"primary",disabled:w===0,children:e("automation_generate_button").replace("{count}",String(w))})})]})},Pp=({onClose:t,onAddTodo:e,onAddMultipleTodos:n,onEditTodo:o,existingTodo:i,t:r,language:s,createAI:c})=>{const[d,f]=Dr(t),[h,g]=H.useState("woop"),[m,w]=H.useState(1),[k,R]=H.useState("forward"),[F,A]=H.useState((i==null?void 0:i.wish)||""),[C,x]=H.useState((i==null?void 0:i.outcome)||""),[D,B]=H.useState((i==null?void 0:i.obstacle)||""),[V,E]=H.useState((i==null?void 0:i.plan)||""),[v,S]=H.useState((i==null?void 0:i.isRecurring)||!1),[I,P]=H.useState((i==null?void 0:i.recurringDays)||[]),[M,N]=H.useState((i==null?void 0:i.deadline)||""),[Y,ne]=H.useState(!(i!=null&&i.deadline)),[me,$e]=H.useState({}),b=5,K=ae=>{const Te={};return ae===1&&!F.trim()&&(Te.wish=!0),ae===2&&!C.trim()&&(Te.outcome=!0),ae===3&&!D.trim()&&(Te.obstacle=!0),ae===4&&!V.trim()&&(Te.plan=!0),ae===5&&(!Y&&!M&&(Te.deadline=!0),v&&I.length===0&&(Te.recurringDays=!0)),$e(Te),Object.keys(Te).length===0},Q=()=>{K(m)&&(m<b?(R("forward"),w(ae=>ae+1)):oe())},z=()=>{m>1&&(R("backward"),w(ae=>ae-1))},oe=()=>{if(!K(5))return;const ae={wish:F,outcome:C,obstacle:D,plan:V,isRecurring:v,recurringDays:I,deadline:Y?"":M};i&&o?o({...i,...ae}):e&&e(ae)};return _.jsxs(Mr,{onClose:f,isClosing:d,className:"goal-assistant-modal",children:[_.jsxs("div",{className:"goal-assistant-header",children:[_.jsx("div",{className:"goal-assistant-header-left",children:m>1&&h==="woop"&&_.jsx("button",{onClick:z,className:"settings-back-button",children:j.back})}),_.jsx("h2",{children:r("goal_assistant_title")}),_.jsx("div",{className:"goal-assistant-header-right",children:_.jsx("button",{onClick:f,className:"close-button",children:j.close})})]}),!i&&_.jsx("div",{className:"modal-mode-switcher-container",children:_.jsxs("div",{className:"modal-mode-switcher",children:[_.jsx("button",{onClick:()=>g("woop"),className:h==="woop"?"active":"",children:r("goal_assistant_mode_woop")}),_.jsx("button",{onClick:()=>g("automation"),className:h==="automation"?"active":"",children:r("goal_assistant_mode_automation")})]})}),_.jsx("div",{className:"goal-assistant-body",children:h==="woop"?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"progress-bar-container",children:_.jsx("div",{className:"progress-bar",style:{width:`${m/b*100}%`}})}),_.jsx("div",{className:`goal-assistant-step-content-animator ${k}`,children:_.jsx(VA,{step:m,t:r,createAI:c,wish:F,setWish:A,outcome:C,setOutcome:x,obstacle:D,setObstacle:B,plan:V,setPlan:E,isRecurring:v,setIsRecurring:S,recurringDays:I,setRecurringDays:P,deadline:M,setDeadline:N,noDeadline:Y,setNoDeadline:ne,errors:me,language:s})},m),_.jsxs("div",{className:"goal-assistant-nav",children:[m>1?_.jsx("button",{onClick:z,className:"secondary",children:r("back_button")}):_.jsx("div",{}),_.jsx("button",{onClick:Q,className:"primary",children:r(m===b?i?"save_button":"add_button":"next_button")})]})]}):n&&_.jsx(BA,{onGenerate:n,t:r})})]})},GA=({todo:t,onClose:e,t:n,createAI:o})=>{const[i,r]=Dr(e),[s,c]=H.useState(""),[d,f]=H.useState(!1),[h,g]=H.useState(!1),m=async()=>{f(!0),c(""),g(!1);try{const w=o();if(!w){c("AI 기능을 사용하려면 설정에서 API 키를 입력해주세요."),f(!1);return}const k=`Based on the WOOP method, provide a concise and encouraging suggestion for the following goal: Wish: "${t.wish}", Best Outcome: "${t.outcome}", Obstacle: "${t.obstacle}", Plan: "${t.plan}". Focus on strengthening the plan or reframing the obstacle.`,R=await w.models.generateContent({model:"gemini-2.5-flash",contents:k});c(R.text)}catch(w){console.error(w),g(!0)}finally{f(!1)}};return _.jsxs(Mr,{onClose:r,isClosing:i,className:"info-modal",children:[_.jsxs("div",{className:"info-modal-content",children:[_.jsx("h2",{children:n("goal_details_modal_title")}),_.jsxs("div",{className:"info-section",children:[_.jsx("h4",{children:n("wish_label")}),_.jsx("p",{children:t.wish})]}),_.jsxs("div",{className:"info-section",children:[_.jsx("h4",{children:n("outcome_label")}),_.jsx("p",{children:t.outcome})]}),_.jsxs("div",{className:"info-section",children:[_.jsx("h4",{children:n("obstacle_label")}),_.jsx("p",{children:t.obstacle})]}),_.jsxs("div",{className:"info-section",children:[_.jsx("h4",{children:n("plan_label")}),_.jsx("p",{children:t.plan})]}),_.jsxs("div",{className:"ai-analysis-section",children:[_.jsx("h4",{children:n("ai_coach_suggestion")}),d?_.jsx("p",{children:n("ai_analyzing")}):s?_.jsx("p",{children:s}):h?_.jsx("p",{className:"ai-error",children:n("ai_sort_error_message")}):_.jsx("button",{onClick:m,className:"feedback-button",children:n("ai_coach_suggestion")})]})]}),_.jsx("div",{className:"modal-buttons",children:_.jsx("button",{onClick:r,className:"primary",children:n("close_button")})})]})},HA=({onClose:t,isDarkMode:e,onToggleDarkMode:n,themeMode:o,onThemeChange:i,backgroundTheme:r,onSetBackgroundTheme:s,onExportData:c,onImportData:d,setAlertConfig:f,onDeleteAllData:h,dataActionStatus:g,language:m,onSetLanguage:w,t:k,todos:R,setToastMessage:F,onOpenVersionInfo:A,onOpenUsageGuide:C,apiKey:x,onSetApiKey:D,isOfflineMode:B,onToggleOfflineMode:V})=>{const[E,v]=Dr(t),[S,I]=H.useState("appearance"),[P,M]=H.useState(""),[N,Y]=H.useState(!1),ne=H.useRef(null),me=[{id:"appearance",label:k("settings_section_background"),icon:j.background},{id:"general",label:k("settings_section_general"),icon:j.settings},{id:"data",label:k("settings_section_data"),icon:j.data}],$e=()=>f({title:k("delete_account_header"),message:k("delete_account_header_desc"),isDestructive:!0,confirmText:k("delete_all_data_button"),cancelText:k("cancel_button"),onConfirm:h,onCancel:()=>{}}),b=async()=>{if(!R||R.length===0){alert(k("no_data_to_share"));return}Y(!0);try{const z=kp(R),oe=`${window.location.origin}${window.location.pathname}?data=${encodeURIComponent(z)}`,ae=await DA(oe);M(ae),ae!==oe&&ae.length<oe.length?F(k("short_url_created")):F(k("share_link_created"))}catch(z){console.error("Failed to create share link",z);const oe=kp(R),ae=`${window.location.origin}${window.location.pathname}?data=${encodeURIComponent(oe)}`;M(ae),F(k("short_url_failed"))}finally{Y(!1)}},K=()=>{P&&navigator.clipboard.writeText(P).then(()=>{F(k("link_copied_toast"))})},Q=()=>{try{switch(S){case"appearance":return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"settings-section-header",children:"테마 모드"}),_.jsxs("div",{className:"settings-section-body",children:[_.jsxs("div",{className:"settings-item nav-indicator",onClick:()=>i("light"),children:[_.jsxs("div",{children:[_.jsx("span",{children:"라이트 모드"}),_.jsx("div",{style:{fontSize:"12px",opacity:.7,marginTop:"4px"},children:"항상 밝은 테마 사용"})]}),o==="light"&&j.check]}),_.jsxs("div",{className:"settings-item nav-indicator",onClick:()=>i("dark"),children:[_.jsxs("div",{children:[_.jsx("span",{children:"다크 모드"}),_.jsx("div",{style:{fontSize:"12px",opacity:.7,marginTop:"4px"},children:"항상 어두운 테마 사용"})]}),o==="dark"&&j.check]}),_.jsxs("div",{className:"settings-item nav-indicator",onClick:()=>i("system"),children:[_.jsxs("div",{children:[_.jsx("span",{children:"시스템 설정 따라가기"}),_.jsx("div",{style:{fontSize:"12px",opacity:.7,marginTop:"4px"},children:"기기의 다크모드 설정에 맞춰 자동 변경"})]}),o==="system"&&j.check]})]}),_.jsx("div",{className:"settings-section-header",children:k("settings_background_header")}),_.jsx("div",{className:"settings-section-body",children:Vu.map(z=>_.jsxs("div",{className:"settings-item nav-indicator",onClick:()=>s(z.id),children:[_.jsx("span",{children:k(e?z.darkNameKey:z.lightNameKey)}),r===z.id&&j.check]},z.id))})]});case"general":return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"settings-section-header",children:k("settings_api_key")}),_.jsxs("div",{className:"settings-section-body",children:[_.jsx("div",{className:"settings-item",children:_.jsx("input",{type:"password",placeholder:k("settings_api_key_placeholder"),value:x,onChange:z=>D(z.target.value),style:{width:"100%",padding:"8px",border:"1px solid var(--border-color)",borderRadius:"4px",backgroundColor:"var(--input-bg)"}})}),_.jsxs("label",{className:"settings-item",children:[_.jsxs("div",{children:[_.jsx("span",{children:k("settings_offline_mode")}),_.jsx("div",{style:{fontSize:"12px",opacity:.7,marginTop:"4px"},children:k("settings_offline_mode_desc")})]}),_.jsxs("div",{className:"theme-toggle-switch",children:[_.jsx("input",{type:"checkbox",checked:B,onChange:V}),_.jsx("span",{className:"slider round"})]})]})]}),_.jsx("div",{className:"settings-section-header",children:k("settings_language")}),_.jsxs("div",{className:"settings-section-body",children:[_.jsxs("div",{className:"settings-item nav-indicator",onClick:()=>w("ko"),children:[_.jsx("span",{children:"한국어"}),m==="ko"&&j.check]}),_.jsxs("div",{className:"settings-item nav-indicator",onClick:()=>w("en"),children:[_.jsx("span",{children:"English"}),m==="en"&&j.check]})]}),_.jsx("div",{className:"settings-section-header",children:k("settings_section_info")}),_.jsxs("div",{className:"settings-section-body",children:[_.jsxs("div",{className:"settings-item nav-indicator",onClick:A,children:[_.jsx("span",{children:k("settings_version")}),_.jsxs("div",{className:"settings-item-value-with-icon",children:[_.jsx("span",{children:"1.2"}),j.forward]})]}),_.jsxs("div",{className:"settings-item nav-indicator",onClick:C,children:[_.jsx("span",{children:k("usage_guide_title")}),_.jsx("div",{className:"settings-item-value-with-icon",children:j.forward})]}),_.jsxs("div",{className:"settings-item",children:[_.jsx("span",{children:k("settings_developer")}),_.jsx("span",{className:"settings-item-value",children:k("developer_name")})]}),_.jsxs("div",{className:"settings-item",children:[_.jsx("span",{children:k("settings_copyright")}),_.jsx("span",{className:"settings-item-value",children:k("copyright_notice")})]})]})]});case"data":return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"settings-section-header",children:k("settings_data_header")||"데이터 관리"}),_.jsxs("div",{className:"settings-section-body",children:[_.jsx("button",{className:"settings-item action-item",onClick:c,disabled:g!=="idle",children:_.jsx("span",{className:"action-text",children:g==="exporting"?k("data_exporting")||"내보내는 중...":k("settings_export_data")||"내보내기"})}),_.jsxs("button",{className:"settings-item action-item",onClick:()=>{var z;try{(z=ne.current)==null||z.click()}catch(oe){console.error("File input click error:",oe)}},disabled:g!=="idle",children:[_.jsx("span",{className:"action-text",children:g==="importing"?k("data_importing")||"가져오는 중...":k("settings_import_data")||"가져오기"}),_.jsx("input",{type:"file",ref:ne,onChange:d,accept:".json",style:{display:"none"}})]})]}),_.jsx("div",{className:"settings-section-header",children:k("settings_share_link_header")||"링크로 공유"}),_.jsxs("div",{className:"settings-section-body",children:[!P&&_.jsx("button",{className:"settings-item action-item",onClick:()=>{try{b()}catch(z){console.error("Share link creation error:",z),F("공유 링크 생성 중 오류가 발생했습니다.")}},disabled:N,children:_.jsx("span",{className:"action-text",children:N?"🔗 단축 URL 생성 중...":k("settings_generate_link")||"공유 링크 생성"})}),P&&_.jsxs("div",{className:"share-link-container",children:[_.jsxs("div",{style:{marginBottom:"8px",fontSize:"12px",opacity:.7},children:[P.length<100?"📎 단축 URL":"🔗 일반 링크","(",P.length,"자)"]}),_.jsx("input",{type:"text",readOnly:!0,value:P,onClick:z=>z.target.select()}),_.jsx("button",{onClick:()=>{try{K()}catch(z){console.error("Copy link error:",z)}},children:k("settings_copy_link")||"링크 복사"})]})]}),_.jsx("div",{className:"settings-section-header",children:k("settings_delete_account")||"모든 데이터 삭제"}),_.jsx("div",{className:"settings-section-body",children:_.jsx("button",{className:"settings-item action-item",onClick:()=>{try{$e()}catch(z){console.error("Delete click error:",z)}},disabled:g!=="idle",children:_.jsx("span",{className:"action-text destructive",children:g==="deleting"?k("data_deleting")||"삭제 중...":k("settings_delete_account")||"모든 데이터 삭제"})})})]});default:return _.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[_.jsx("p",{children:"설정을 로드하는 중 오류가 발생했습니다."}),_.jsx("button",{onClick:()=>I("appearance"),style:{marginTop:"10px",padding:"8px 16px",backgroundColor:"var(--primary-color)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"외관 설정으로 이동"})]})}}catch(z){return console.error("Settings tab rendering error:",z),_.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[_.jsx("p",{children:"설정 탭을 표시하는 중 오류가 발생했습니다."}),_.jsxs("p",{style:{fontSize:"12px",color:"red",marginTop:"10px"},children:["오류: ",z instanceof Error?z.message:"알 수 없는 오류"]}),_.jsx("button",{onClick:()=>I("appearance"),style:{marginTop:"10px",padding:"8px 16px",backgroundColor:"var(--primary-color)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"외관 설정으로 이동"})]})}};return _.jsxs(Mr,{onClose:v,isClosing:E,className:"settings-modal",children:[_.jsxs("div",{className:"settings-modal-header",children:[_.jsx("div",{}),_.jsx("h2",{children:k("settings_title")}),_.jsx("div",{className:"settings-modal-header-right",children:_.jsx("button",{onClick:v,className:"close-button",children:j.close})})]}),_.jsxs("div",{className:"settings-modal-body",children:[_.jsx("div",{className:"settings-tabs",children:me.map(z=>_.jsxs("button",{className:`settings-tab-button ${S===z.id?"active":""}`,onClick:()=>I(z.id),"aria-label":z.label,children:[_.jsx("div",{className:"settings-tab-icon",children:z.icon}),_.jsx("span",{children:z.label})]},z.id))}),_.jsx("div",{className:"settings-tab-content-container",children:_.jsx("div",{className:"settings-tab-content",children:Q()},S)})]})]})},qA=({onClose:t,t:e})=>{const[n,o]=Dr(t),i="1.2 (25.10.20)",r=[{icon:j.ai,titleKey:"version_update_1_title",descKey:"version_update_1_desc"},{icon:j.globe,titleKey:"version_update_2_title",descKey:"version_update_2_desc"},{icon:j.background,titleKey:"version_update_3_title",descKey:"version_update_3_desc"}];return _.jsxs(Mr,{onClose:o,isClosing:n,className:"version-info-modal",children:[_.jsxs("div",{className:"version-info-header",children:[_.jsx("h2",{children:e("version_update_title")}),_.jsxs("p",{children:[e("build_number"),": ",i]})]}),_.jsx("div",{className:"version-info-body",children:r.map((s,c)=>_.jsxs("div",{className:"changelog-item",children:[_.jsx("div",{className:"changelog-icon",style:{"--icon-bg":"var(--primary-color)"},children:s.icon}),_.jsxs("div",{className:"changelog-text",children:[_.jsx("h3",{children:e(s.titleKey)}),_.jsx("p",{children:e(s.descKey)})]})]},c))}),_.jsx("div",{className:"modal-buttons",children:_.jsx("button",{onClick:o,className:"primary",children:e("settings_done_button")})})]})},bA=({onClose:t,t:e})=>{const[n,o]=Dr(t),i=s=>{const c=/(https?:\/\/[^\s]+)/g;return s.split(c).map((f,h)=>c.test(f)?_.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"guide-link",children:f},h):f)},r=[{titleKey:"usage_basic_title",descKey:"usage_basic_desc"},{titleKey:"usage_ai_setup_title",descKey:"usage_ai_setup_desc"},{titleKey:"usage_ai_use_title",descKey:"usage_ai_use_desc"},{titleKey:"usage_share_title",descKey:"usage_share_desc"},{titleKey:"usage_theme_title",descKey:"usage_theme_desc"},{titleKey:"usage_calendar_title",descKey:"usage_calendar_desc"},{titleKey:"usage_offline_title",descKey:"usage_offline_desc"}];return _.jsxs(Mr,{onClose:o,isClosing:n,className:"usage-guide-modal",children:[_.jsx("div",{className:"version-info-header",children:_.jsx("h2",{children:e("usage_guide_title")})}),_.jsx("div",{className:"version-info-body",children:r.map((s,c)=>_.jsxs("div",{className:"usage-guide-item",children:[_.jsx("h3",{children:e(s.titleKey)}),_.jsx("p",{children:s.titleKey==="usage_ai_setup_title"?i(e(s.descKey)):e(s.descKey)})]},c))}),_.jsx("div",{className:"modal-buttons",children:_.jsx("button",{onClick:o,className:"primary",children:e("settings_done_button")})})]})},OA=({todos:t,t:e,onGoalClick:n,language:o})=>{const[i,r]=H.useState(new Date),[s,c]=H.useState("week"),d=m=>{const w=new Date(i);s==="month"?w.setMonth(w.getMonth()+m):s==="week"?w.setDate(w.getDate()+m*7):w.setDate(w.getDate()+m*3),r(w)},f=H.useMemo(()=>{const m=[];let w,k;if(s==="month"){const R=new Date(i.getFullYear(),i.getMonth(),1);w=Ap(R,o==="ko"?1:0),k=42}else s==="week"?(w=Ap(i,o==="ko"?1:0),k=7):(w=new Date(i),w.setDate(w.getDate()-1),k=3);for(let R=0;R<k;R++){const F=new Date(w);F.setDate(F.getDate()+R),m.push(F)}return m},[i,s,o]),h=H.useMemo(()=>{if(s==="month"){const m=i.getFullYear(),w=e("month_names")[i.getMonth()],k=e("calendar_header_month_format");return k&&typeof k=="string"&&k!=="calendar_header_month_format"?k.replace("{year}",String(m)).replace("{month}",w):`${w} ${m}`}return`${i.getFullYear()}.${i.getMonth()+1}`},[i,s,e]),g=H.useMemo(()=>{const m=e("day_names_short");if(o==="ko"&&Array.isArray(m)){const[w,...k]=m;return[...k,w]}return m},[o,e]);return _.jsxs("div",{className:"calendar-view-container",children:[_.jsxs("div",{className:"calendar-header",children:[_.jsx("button",{onClick:()=>d(-1),children:j.back}),_.jsx("h2",{children:h}),_.jsx("button",{onClick:()=>d(1),children:j.forward})]}),_.jsxs("div",{className:"calendar-view-mode-selector",children:[_.jsx("button",{onClick:()=>c("day3"),className:s==="day3"?"active":"",children:e("calendar_view_day3")}),_.jsx("button",{onClick:()=>c("week"),className:s==="week"?"active":"",children:e("calendar_view_week")}),_.jsx("button",{onClick:()=>c("month"),className:`calendar-view-button-month ${s==="month"?"active":""}`,children:e("calendar_view_month")})]}),(s==="week"||s==="month")&&_.jsx("div",{className:"calendar-days-of-week",children:Array.isArray(g)&&g.map(m=>_.jsx("div",{children:m},m))}),_.jsx("div",{className:`calendar-grid view-mode-${s}`,children:f.map(m=>{const k=jo(m,new Date),R=m.getMonth()===i.getMonth(),F=t.filter(A=>{if(A.isRecurring){const C=(m.getDay()+6)%7;return A.recurringDays.includes(C)}return A.deadline&&jo(m,A.deadline)});return _.jsxs("div",{className:`calendar-day ${!R&&s==="month"?"not-current-month":""} ${k?"is-today":""}`,"data-day-name":e("day_names_long")[m.getDay()],children:[_.jsx("div",{className:"day-header",children:_.jsx("span",{className:"day-number",children:m.getDate()})}),_.jsx("div",{className:"calendar-goals",children:F.map(A=>_.jsx("div",{className:`calendar-goal-item ${A.completed&&A.lastCompletedDate&&jo(m,A.lastCompletedDate)?"completed":""}`,onClick:()=>n(A),children:A.wish},A.id))})]},m.toISOString())})})]})},$A=({title:t,message:e,onConfirm:n,onCancel:o,confirmText:i,cancelText:r,isDestructive:s,t:c})=>{const d=typeof o=="function";return _.jsx("div",{className:"modal-backdrop alert-backdrop",children:_.jsxs("div",{className:"modal-content alert-modal",children:[_.jsxs("div",{className:"alert-content",children:[_.jsx("h2",{children:t}),_.jsx("p",{dangerouslySetInnerHTML:{__html:e}})]}),_.jsxs("div",{className:"modal-buttons",children:[d&&_.jsx("button",{onClick:o,className:"secondary",children:r||c("cancel_button")}),_.jsx("button",{onClick:n,className:s?"destructive":"primary",children:i||c("confirm_button")})]})]})})},zA=Vs.createRoot(document.getElementById("root"));zA.render(_.jsx(bu.StrictMode,{children:_.jsx(Ly,{})}));
